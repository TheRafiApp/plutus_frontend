define("async",[],function(){function e(e){var t,n;t=document.createElement("script"),t.type="text/javascript",t.async=!0,t.src=e,n=document.getElementsByTagName("script")[0],n.parentNode.insertBefore(t,n)}function t(e,t){var n=/!(.+)/,r=e.replace(n,""),s=n.test(e)?e.replace(/.+!/,""):i;return r+=r.indexOf("?")<0?"?":"&",r+s+"="+t}function n(){return r+=1,"__async_req_"+r+"__"}var i="callback",r=0;return{load:function(i,r,s,o){if(o.isBuild)s(null);else{var a=n();window[a]=s,e(t(r.toUrl(i),a))}}}}),function(e){function t(e,t){return function(n){return u(e.call(this,n),t)}}function n(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function i(){}function r(e){o(this,e)}function s(e){var t=e.years||e.year||e.y||0,n=e.months||e.month||e.M||0,i=e.weeks||e.week||e.w||0,r=e.days||e.day||e.d||0,s=e.hours||e.hour||e.h||0,o=e.minutes||e.minute||e.m||0,a=e.seconds||e.second||e.s||0,u=e.milliseconds||e.millisecond||e.ms||0;this._input=e,this._milliseconds=+u+1e3*a+6e4*o+36e5*s,this._days=+r+7*i,this._months=+n+12*t,this._data={},this._bubble()}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function a(e){return 0>e?Math.ceil(e):Math.floor(e)}function u(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function l(e,t,n,i){var r,s,o=t._milliseconds,a=t._days,u=t._months;o&&e._d.setTime(+e._d+o*n),(a||u)&&(r=e.minute(),s=e.hour()),a&&e.date(e.date()+a*n),u&&e.month(e.month()+u*n),o&&!i&&P.updateOffset(e),(a||u)&&(e.minute(r),e.hour(s))}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e,t){var n,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(n=0;i>n;n++)~~e[n]!==~~t[n]&&s++;return s+r}function h(e){return e?ue[e]||e.toLowerCase().replace(/(.)s$/,"$1"):e}function f(e,t){return t.abbr=e,V[e]||(V[e]=new i),V[e].set(t),V[e]}function p(e){delete V[e]}function m(e){if(!e)return P.fn._lang;if(!V[e]&&z)try{require("./lang/"+e)}catch(e){return P.fn._lang}return V[e]||P.fn._lang}function v(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function g(e){var t,n,i=e.match(B);for(t=0,n=i.length;n>t;t++)i[t]=he[i[t]]?he[i[t]]:v(i[t]);return function(r){var s="";for(t=0;n>t;t++)s+=i[t]instanceof Function?i[t].call(r,e):i[t];return s}}function y(e,t){return t=_(t,e.lang()),le[t]||(le[t]=g(t)),le[t](e)}function _(e,t){function n(e){return t.longDateFormat(e)||e}for(var i=5;i--&&(W.lastIndex=0,W.test(e));)e=e.replace(W,n);return e}function b(e,t){switch(e){case"DDDD":return J;case"YYYY":return X;case"YYYYY":return G;case"S":case"SS":case"SSS":case"DDD":return Z;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return K;case"a":case"A":return m(t._l)._meridiemParse;case"X":return te;case"Z":case"ZZ":return Q;case"T":return ee;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return U;default:return new RegExp(e.replace("\\",""))}}function w(e){var t=(Q.exec(e)||[])[0],n=(t+"").match(se)||["-",0,0],i=+(60*n[1])+~~n[2];return"+"===n[0]?-i:i}function x(e,t,n){var i,r=n._a;switch(e){case"M":case"MM":null!=t&&(r[1]=~~t-1);break;case"MMM":case"MMMM":i=m(n._l).monthsParse(t),null!=i?r[1]=i:n._isValid=!1;break;case"D":case"DD":null!=t&&(r[2]=~~t);break;case"DDD":case"DDDD":null!=t&&(r[1]=0,r[2]=~~t);break;case"YY":r[0]=~~t+(~~t>68?1900:2e3);break;case"YYYY":case"YYYYY":r[0]=~~t;break;case"a":case"A":n._isPm=m(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":r[3]=~~t;break;case"m":case"mm":r[4]=~~t;break;case"s":case"ss":r[5]=~~t;break;case"S":case"SS":case"SSS":r[6]=~~(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=w(t)}null==t&&(n._isValid=!1)}function k(e){var t,n,i,r=[];if(!e._d){for(i=T(e),t=0;3>t&&null==e._a[t];++t)e._a[t]=r[t]=i[t];for(;7>t;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];r[3]+=~~((e._tzm||0)/60),r[4]+=~~((e._tzm||0)%60),n=new Date(0),e._useUTC?(n.setUTCFullYear(r[0],r[1],r[2]),n.setUTCHours(r[3],r[4],r[5],r[6])):(n.setFullYear(r[0],r[1],r[2]),n.setHours(r[3],r[4],r[5],r[6])),e._d=n}}function C(e){var t=e._i;e._d||(e._a=[t.years||t.year||t.y,t.months||t.month||t.M,t.days||t.day||t.d,t.hours||t.hour||t.h,t.minutes||t.minute||t.m,t.seconds||t.second||t.s,t.milliseconds||t.millisecond||t.ms],k(e))}function T(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function S(e){var t,n,i,r=m(e._l),s=""+e._i;for(i=_(e._f,r).match(B),e._a=[],t=0;t<i.length;t++)n=(b(i[t],e).exec(s)||[])[0],n&&(s=s.slice(s.indexOf(n)+n.length)),he[i[t]]&&x(i[t],n,e);s&&(e._il=s),e._isPm&&e._a[3]<12&&(e._a[3]+=12),e._isPm===!1&&12===e._a[3]&&(e._a[3]=0),k(e)}function D(e){var t,n,i,s,a,u=99;for(s=0;s<e._f.length;s++)t=o({},e),t._f=e._f[s],S(t),n=new r(t),a=d(t._a,n.toArray()),n._il&&(a+=n._il.length),u>a&&(u=a,i=n);o(e,i)}function F(e){var t,n=e._i,i=ne.exec(n);if(i){for(e._f="YYYY-MM-DD"+(i[2]||" "),t=0;4>t;t++)if(re[t][1].exec(n)){e._f+=re[t][0];break}Q.exec(n)&&(e._f+=" Z"),S(e)}else e._d=new Date(n)}function M(t){var n=t._i,i=R.exec(n);n===e?t._d=new Date:i?t._d=new Date((+i[1])):"string"==typeof n?F(t):c(n)?(t._a=n.slice(0),k(t)):n instanceof Date?t._d=new Date((+n)):"object"==typeof n?C(t):t._d=new Date(n)}function A(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function E(e,t,n){var i=q(Math.abs(e)/1e3),r=q(i/60),s=q(r/60),o=q(s/24),a=q(o/365),u=45>i&&["s",i]||1===r&&["m"]||45>r&&["mm",r]||1===s&&["h"]||22>s&&["hh",s]||1===o&&["d"]||25>=o&&["dd",o]||45>=o&&["M"]||345>o&&["MM",q(o/30)]||1===a&&["y"]||["yy",a];return u[2]=t,u[3]=e>0,u[4]=n,A.apply({},u)}function N(e,t,n){var i,r=n-t,s=n-e.day();return s>r&&(s-=7),r-7>s&&(s+=7),i=P(e).add("d",s),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function j(e){var t=e._i,n=e._f;return null===t||""===t?null:("string"==typeof t&&(e._i=t=m().preparse(t)),P.isMoment(t)?(e=o({},t),e._d=new Date((+t._d))):n?c(n)?D(e):S(e):M(e),new r(e))}function O(e,t){P.fn[e]=P.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),P.updateOffset(this),this):this._d["get"+n+t]()}}function $(e){P.duration.fn[e]=function(){return this._data[e]}}function L(e,t){P.duration.fn["as"+e]=function(){return+this/t}}for(var P,H,I="2.2.1",q=Math.round,V={},z="undefined"!=typeof module&&module.exports,R=/^\/?Date\((\-?\d+)/i,Y=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,B=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,W=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,U=/\d\d?/,Z=/\d{1,3}/,J=/\d{3}/,X=/\d{1,4}/,G=/[+\-]?\d{1,6}/,K=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Q=/Z|[\+\-]\d\d:?\d\d/i,ee=/T/i,te=/[\+\-]?\d+(\.\d{1,3})?/,ne=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,ie="YYYY-MM-DDTHH:mm:ssZ",re=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],se=/([\+\-]|\d\d)/gi,oe="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),ae={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ue={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",W:"isoweek",M:"month",y:"year"},le={},ce="DDD w W M D d".split(" "),de="M D H h m s w W".split(" "),he={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},gg:function(){return u(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return u(this.weekYear(),5)},GG:function(){return u(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return u(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return u(~~(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+u(~~(e/60),2)+":"+u(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+u(~~(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};ce.length;)H=ce.pop(),he[H+"o"]=n(he[H],H);for(;de.length;)H=de.pop(),he[H+H]=t(he[H],2);for(he.DDDD=t(he.DDD,3),o(i.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,i;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=P.utc([2e3,t]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(i.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=P([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return N(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}}),P=function(e,t,n){return j({_i:e,_f:t,_l:n,_isUTC:!1})},P.utc=function(e,t,n){return j({_useUTC:!0,_isUTC:!0,_l:n,_i:e,_f:t}).utc()},P.unix=function(e){return P(1e3*e)},P.duration=function(e,t){var n,i,r=P.isDuration(e),o="number"==typeof e,a=r?e._input:o?{}:e,u=Y.exec(e);return o?t?a[t]=e:a.milliseconds=e:u&&(n="-"===u[1]?-1:1,a={y:0,d:~~u[2]*n,h:~~u[3]*n,m:~~u[4]*n,s:~~u[5]*n,ms:~~u[6]*n}),i=new s(a),r&&e.hasOwnProperty("_lang")&&(i._lang=e._lang),i},P.version=I,P.defaultFormat=ie,P.updateOffset=function(){},P.lang=function(e,t){return e?(e=e.toLowerCase(),e=e.replace("_","-"),t?f(e,t):null===t?(p(e),e="en"):V[e]||m(e),void(P.duration.fn._lang=P.fn._lang=m(e))):P.fn._lang._abbr},P.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),m(e)},P.isMoment=function(e){return e instanceof r},P.isDuration=function(e){return e instanceof s},o(P.fn=r.prototype,{clone:function(){return P(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date((+this)):this._d},toISOString:function(){return y(P(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!d(this._a,(this._isUTC?P.utc(this._a):P(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},invalidAt:function(){var e,t=this._a,n=(this._isUTC?P.utc(this._a):P(this._a)).toArray();for(e=6;e>=0&&t[e]===n[e];--e);return e},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=y(this,e||P.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?P.duration(+t,e):P.duration(e,t),l(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?P.duration(+t,e):P.duration(e,t),l(this,n,-1),this},diff:function(e,t,n){var i,r,s=this._isUTC?P(e).zone(this._offset||0):P(e).local(),o=6e4*(this.zone()-s.zone());return t=h(t),"year"===t||"month"===t?(i=432e5*(this.daysInMonth()+s.daysInMonth()),r=12*(this.year()-s.year())+(this.month()-s.month()),r+=(this-P(this).startOf("month")-(s-P(s).startOf("month")))/i,r-=6e4*(this.zone()-P(this).startOf("month").zone()-(s.zone()-P(s).startOf("month").zone()))/i,"year"===t&&(r/=12)):(i=this-s,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-o)/864e5:"week"===t?(i-o)/6048e5:i),n?r:a(r)},from:function(e,t){return P.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(P(),e)},calendar:function(){var e=this.diff(P().zone(this.zone()).startOf("day"),"days",!0),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){var e=this.year();return 0===e%4&&0!==e%100||0===e%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?"string"==typeof e&&(e=this.lang().weekdaysParse(e),"number"!=typeof e)?this:this.add({d:e-t}):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),P.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=h(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoweek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoweek"===e&&this.isoWeekday(1),this},endOf:function(e){return e=h(e),this.startOf(e).add("isoweek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+P(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+P(e).startOf(t)},isSame:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)===+P(e).startOf(t)},min:function(e){return e=P.apply(null,arguments),this>e?this:e},max:function(e){return e=P.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=w(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&l(this,P.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},hasAlignedHourOffset:function(e){return e=e?P(e).zone():0,0===(this.zone()-e)%60},daysInMonth:function(){return P.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(e){var t=q((P(this).startOf("day")-P(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=N(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=N(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=N(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},get:function(e){return e=h(e),this[e.toLowerCase()]()},set:function(e,t){e=h(e),this[e.toLowerCase()](t)},lang:function(t){return t===e?this._lang:(this._lang=m(t),this)}}),H=0;H<oe.length;H++)O(oe[H].toLowerCase().replace(/s$/,""),oe[H]);O("year","FullYear"),P.fn.days=P.fn.day,P.fn.months=P.fn.month,P.fn.weeks=P.fn.week,P.fn.isoWeeks=P.fn.isoWeek,P.fn.toJSON=P.fn.toISOString,o(P.duration.fn=s.prototype,{_bubble:function(){var e,t,n,i,r=this._milliseconds,s=this._days,o=this._months,u=this._data;u.milliseconds=r%1e3,e=a(r/1e3),u.seconds=e%60,t=a(e/60),u.minutes=t%60,n=a(t/60),u.hours=n%24,s+=a(n/24),u.days=s%30,o+=a(s/30),u.months=o%12,i=a(o/12),u.years=i},weeks:function(){return a(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(e){var t=+this,n=E(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=P.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=P.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=h(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=h(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:P.fn.lang});for(H in ae)ae.hasOwnProperty(H)&&(L(H,ae[H]),$(H.toLowerCase()));L("Weeks",6048e5),P.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},P.lang("en",{ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),z&&(module.exports=P),"undefined"==typeof ender&&(this.moment=P),"function"==typeof define&&define.amd&&define("moment",[],function(){return P})}.call(this),function(e){"function"==typeof define&&define.amd?define("kalendae",["moment"],e):"object"==typeof exports?module.exports=e(require("moment")):window.Kalendae=e()}(function(e){var t=function(){return n.moment().startOf("day").yearDay()},n=function(t,n){if("function"==typeof document.addEventListener||r.isIE8()){var o=!1;try{o=t instanceof Element}catch(e){o=!!t&&1===o.nodeType}o||"string"==typeof t||(n=t);var a,u,l,c,d,h,f,p,m=this,v=m.classes,g=m.settings=r.merge(m.defaults,{attachTo:t},n||{}),y=m.container=r.make("div",{class:v.container}),_=m.calendars=[],b=e().day(g.weekStart),w=[],x=[],k=0,C=g.months;for(r.isIE8()&&r.addClassName(y,"ie8"),k=7;k--;)w.push(b.format(g.columnHeaderFormat)),b.add(1,"days");if(s(m),"object"==typeof g.subscribe)for(k in g.subscribe)g.subscribe.hasOwnProperty(k)&&m.subscribe(k,g.subscribe[k]);a=g.viewStartDate?e(g.viewStartDate,g.format):e(),m.viewStartDate=a.date(1),m._sel=[],g.selected&&(m.setSelected(g.selected,!1),m.viewStartDate=e(m._sel[0]));var T={past:g.months-1,"today-past":g.months-1,any:g.months>2?Math.floor(g.months/2):0,"today-future":0,future:0,"select-future":0}[this.settings.direction];if(T&&e().month()==e(m.viewStartDate).month()&&(m.viewStartDate=e(m.viewStartDate).subtract({M:T}).date(1)),m.defaultView=e(m.viewStartDate),"function"==typeof g.blackout)m.blackout=g.blackout;else if(g.blackout){var S=i(g.blackout,g.parseSplitDelimiter,g.format);m.blackout=function(t){if(t=e(t).startOf("day").yearDay(),t<1||!m._sel)return!1;for(var n=S.length;n--;)if(S[n].startOf("day").yearDay()===t)return!0;return!1}}else m.blackout=function(){return!1};for("function"==typeof g.rangeClass?m.rangeClass=g.rangeClass:m.rangeClass=function(){return!1},m.direction=m.directions[g.direction]?m.directions[g.direction]:m.directions.any,C=Math.max(g.months,1);C--;){u=r.make("div",{class:v.calendar},y),u.setAttribute("data-cal-index",C),g.months>1&&(C==Math.max(g.months-1,1)?r.addClassName(u,v.monthFirst):0===C?r.addClassName(u,v.monthLast):r.addClassName(u,v.monthMiddle)),l=r.make("div",{class:v.title},u),g.useYearNav||r.addClassName(l,v.disableYearNav),r.make("a",{class:v.previousYear},l),r.make("a",{class:v.previousMonth},l),r.make("a",{class:v.nextYear},l),r.make("a",{class:v.nextMonth},l),c=r.make("span",{class:v.caption},l),d=r.make("div",{class:v.header+" "+(1==g.dayHeaderClickable?v.dayActive:"")},u),k=0;do p=r.make("span",{"data-day":k},d),1==g.dayHeaderClickable&&"multiple"==g.mode&&(p.addEventListener("mouseover",function(e){var t=e.target.parentNode.nextSibling;if(daysToHover=t.getElementsByClassName("k-day-week-"+e.target.getAttribute("data-day")),daysToHover.length>0)for(var n=0;n<daysToHover.length;n++)r.hasClassName(daysToHover[n],v.dayActive)&&r.addClassName(daysToHover[n],"k-day-hover-active")}),p.addEventListener("mouseleave",function(e){var t=e.target.parentNode.nextSibling;if(daysToHover=t.getElementsByClassName("k-day-week-"+e.target.getAttribute("data-day")),daysToHover.length>0)for(var n=0;n<daysToHover.length;n++)r.hasClassName(daysToHover[n],v.dayActive)&&r.removeClassName(daysToHover[n],"k-day-hover-active")})),p.innerHTML=w[k];while(++k<7);h=r.make("div",{class:v.days},u),k=0,x=[];do"week"==g.mode?(k%7===0&&(f=r.make("div",{class:v.week+" clearfix"},h),x.push(f)),r.make("span",{},f)):x.push(r.make("span",{},h));while(++k<42);_.push({header:d,caption:c,days:x}),C&&r.make("div",{class:v.monthSeparator},y)}m.draw(),r.addEvent(y,"mousedown",function(t,n){var i;if(r.hasClassName(n,v.nextMonth))return m.disableNext||m.publish("view-changed",m,["next-month"])===!1||(m.viewStartDate.add(1,"months"),m.draw()),!1;if(r.hasClassName(n,v.previousMonth))return m.disablePreviousMonth||m.publish("view-changed",m,["previous-month"])===!1||(m.viewStartDate.subtract(1,"months"),m.draw()),!1;if(r.hasClassName(n,v.nextYear))return m.disableNext||m.publish("view-changed",m,["next-year"])===!1||(m.viewStartDate.add(1,"years"),m.draw()),!1;if(r.hasClassName(n,v.previousYear))return m.disablePreviousMonth||m.publish("view-changed",m,["previous-year"])===!1||(m.viewStartDate.subtract(1,"years"),m.draw()),!1;if((r.hasClassName(n.parentNode,v.days)||r.hasClassName(n.parentNode,v.week))&&r.hasClassName(n,v.dayActive)&&(i=n.getAttribute("data-date"))){if(i=e(i,g.dayAttributeFormat).hours(12),m.publish("date-clicked",m,[i])!==!1)switch(g.mode){case"multiple":m.addSelected(i)||m.removeSelected(i);break;case"range":m.addSelected(i);break;case"week":m.weekSelected(i);break;case"single":default:m.addSelected(i)}return!1}if(r.hasClassName(n.parentNode,v.week)&&(i=n.getAttribute("data-date")))return i=e(i,g.dayAttributeFormat).hours(12),m.publish("date-clicked",m,[i])!==!1&&"week"==g.mode&&m.weekSelected(i),!1;if(r.hasClassName(n.parentNode,v.header)){if("multiple"==g.mode&&1==g.dayHeaderClickable){var s=r.hasClassName(n,v.daySelected),o=n.parentNode.parentNode.getAttribute("data-datestart"),a=n.getAttribute("data-day");1==s?m.monthDaySelected(o,a,!0):m.monthDaySelected(o,a,!1)}return!1}return!1}),(g.attachTo=r.$(g.attachTo))&&g.attachTo.appendChild(y)}};n.prototype={defaults:{attachTo:null,months:1,weekStart:0,direction:"any",directionScrolling:!0,viewStartDate:null,blackout:null,selected:null,mode:"single",dayOutOfMonthClickable:!1,dayHeaderClickable:!1,format:null,subscribe:null,columnHeaderFormat:"dd",titleFormat:"MMMM, YYYY",dayNumberFormat:"D",dayAttributeFormat:"YYYY-MM-DD",parseSplitDelimiter:/,\s*|\s+-\s+/,rangeDelimiter:" - ",multipleDelimiter:", ",useYearNav:!0,dateClassMap:{}},classes:{container:"kalendae",calendar:"k-calendar",monthFirst:"k-first-month",monthMiddle:"k-middle-month",monthLast:"k-last-month",title:"k-title",previousMonth:"k-btn-previous-month",nextMonth:"k-btn-next-month",previousYear:"k-btn-previous-year",nextYear:"k-btn-next-year",caption:"k-caption",header:"k-header",days:"k-days",week:"k-week",dayOutOfMonth:"k-out-of-month",dayInMonth:"k-in-month",dayActive:"k-active",daySelected:"k-selected",dayInRange:"k-range",dayInRangeStart:"k-range-start",dayInRangeEnd:"k-range-end",dayBlackout:"k-blackout",dayToday:"k-today",monthSeparator:"k-separator",disablePreviousMonth:"k-disable-previous-month-btn",disableNextMonth:"k-disable-next-month-btn",disablePreviousYear:"k-disable-previous-year-btn",disableNextYear:"k-disable-next-year-btn",disableYearNav:"k-disable-year-nav"},disablePreviousMonth:!1,disableNextMonth:!1,disablePreviousYear:!1,disableNextYear:!1,directions:{past:function(n){return e(n).startOf("day").yearDay()>=t()},"today-past":function(n){return e(n).startOf("day").yearDay()>t()},any:function(e){return!1},"today-future":function(n){return e(n).startOf("day").yearDay()<t()},future:function(n){return e(n).startOf("day").yearDay()<=t()},"select-future":function(t){return e(t).startOf("day")<this.settings.selected[0]}},getSelectedAsDates:function(){for(var e=[],t=0,n=this._sel.length;t<n;t++)e.push(this._sel[t].toDate());return e},getSelectedAsText:function(e){for(var t=[],n=0,i=this._sel.length;n<i;n++)t.push(this._sel[n].format(e||this.settings.format||"YYYY-MM-DD"));return t},getSelectedRaw:function(){for(var t=[],n=0,i=this._sel.length;n<i;n++)t.push(e(this._sel[n]));return t},getSelected:function(e){var t=this.getSelectedAsText(e);switch(this.settings.mode){case"week":case"range":return t.splice(2),t.join(this.settings.rangeDelimiter);case"multiple":return t.join(this.settings.multipleDelimiter);case"single":default:return t[0]||null}},isSelected:function(t){if(t=e(t).startOf("day").yearDay(),t<1||!this._sel||this._sel.length<1)return!1;switch(this.settings.mode){case"week":case"range":var n=this._sel[0]?this._sel[0].startOf("day").yearDay():0,i=this._sel[1]?this._sel[1].startOf("day").yearDay():0;return n===t||i===t?1:n&&i?(t>n&&t<i||n<i&&t<n&&t>i)&&-1:0;case"multiple":for(var r=this._sel.length;r--;)if(this._sel[r].startOf("day").yearDay()===t)return!0;return!1;case"single":default:return this._sel[0]&&this._sel[0].startOf("day").yearDay()===t}return!1},setSelected:function(t,n){var r,s=i(t,this.settings.parseSplitDelimiter,this.settings.format),o=i(this.getSelected(),this.settings.parseSplitDelimiter,this.settings.format);for(r=o.length;r--;)this.removeSelected(o[r],!1);for(r=s.length;r--;)this.addSelected(s[r],!1);n!==!1&&(s[0]&&(this.viewStartDate=e(s[0],this.settings.format)),this.draw())},addSelected:function(t,n){switch(t=e(t,this.settings.format).hours(12),this.settings.dayOutOfMonthClickable&&"range"!==this.settings.mode&&this.makeSelectedDateVisible(t),this.settings.mode){case"multiple":if(this.isSelected(t))return!1;this._sel.push(t);break;case"range":this.settings.rangeLock&&this._sel.length>1&&(this.loaded=!0),this.settings.rangeLock&&this.loaded?this._sel[0]<t&&(this._sel[1]=t):1!==this._sel.length?this._sel=[t]:t.startOf("day").yearDay()>this._sel[0].startOf("day").yearDay()?this._sel[1]=t:this._sel=[t,this._sel[0]];break;case"single":default:this._sel=[t]}return this._sel.sort(function(e,t){return e.startOf("day").yearDay()-t.startOf("day").yearDay()}),this.publish("change",this,[t]),n!==!1&&this.draw(),!0},weekSelected:function(t){var n=t.toDate(),i=e(n).startOf("week"),r=e(n).endOf("week").subtract(1,"day");this._sel=[i,r],this.publish("change",this,[t.day()]),this.draw()},monthDaySelected:function(t,n,i){var r=e(t).startOf("month").weekday(n),s=e(t).endOf("month");for(selected=[];r<=s;)r>=e(t).startOf("month")&&!this.direction(r)&&(i?this.removeSelected(e(r).hours(12)):this.addSelected(e(r).hours(12))),r.add(7,"d")},makeSelectedDateVisible:function(t){outOfViewMonth=e(t).date("1").diff(this.viewStartDate,"months"),outOfViewMonth<0?this.viewStartDate.subtract(1,"months"):outOfViewMonth>0&&outOfViewMonth>=this.settings.months&&this.viewStartDate.add(1,"months")},removeSelected:function(t,n){t=e(t,this.settings.format).hours(12);for(var i=this._sel.length;i--;)if(this._sel[i].startOf("day").yearDay()===t.startOf("day").yearDay())return this._sel.splice(i,1),this.publish("change",this,[t]),n!==!1&&this.draw(),!0;return!1},draw:function(){var i,s,o,a,u,l,c,d,h,f,p,m=e(this.viewStartDate).startOf("month").add(12,"hours"),v=this.classes,g=0,y=0,_=0,b=this.settings;u=this.calendars.length;do{i=e(m).date(1),i.day(i.day()<this.settings.weekStart?this.settings.weekStart-7:this.settings.weekStart),s=this.calendars[g],s.header.parentNode.setAttribute("data-datestart",m.format(this.settings.dayAttributeFormat)),s.caption.innerHTML=m.format(this.settings.titleFormat),y=0,c=0,_=0,h=[];for(var l=0;l<7;l++)r.removeClassName(s.header.children[l],v.daySelected),h[l]=0;do"week"==b.mode?(y%7===0&&0!==y&&c++,o=s.days[c].childNodes[y%7]):o=s.days[y],a=[],d=this.isSelected(i),d&&a.push({"-1":v.dayInRange,1:v.daySelected,true:v.daySelected}[d]),"range"===b.mode&&(this._sel[0]&&this._sel[0].startOf("day").yearDay()===i.clone().startOf("day").yearDay()&&a.push(v.dayInRangeStart),this._sel[1]&&this._sel[1].startOf("day").yearDay()===i.clone().startOf("day").yearDay()&&a.push(v.dayInRangeEnd)),b.dayHeaderClickable&&"multiple"===b.mode&&(a.push("k-day-week-"+i.weekday()),1!=d&&1!=d||this.direction(i)||m.format("M")!=i.format("M")||(h[i.weekday()]=h[i.weekday()]+1)),i.month()!=m.month()?a.push(v.dayOutOfMonth):a.push(v.dayInMonth),(!(this.blackout(i)||this.direction(i)||i.month()!=m.month()&&b.dayOutOfMonthClickable===!1)||d>0)&&a.push(v.dayActive),this.blackout(i)&&a.push(v.dayBlackout),this.rangeClass(i)&&a.push(this.rangeClass(i)),i.clone().startOf("day").yearDay()===t()&&a.push(v.dayToday),f=i.format(this.settings.dayAttributeFormat),b.dateClassMap[f]&&a.push(b.dateClassMap[f]),o.innerHTML=i.format(b.dayNumberFormat),o.className=a.join(" "),o.setAttribute("data-date",f),i.add(1,"days");while(++y<42);if(l=0,h.length>0)do if(h[l]>0){var w=n.moment(m).startOf("month").weekday(l),x=n.moment(m).startOf("month");endMonth=n.moment(m).endOf("month"),_=0;do w>=x&&!this.direction(w)&&_++,w.add(7,"d");while(w<=endMonth);_==h[l]?r.addClassName(s.header.children[l],v.daySelected):r.removeClassName(s.header.children[l],v.daySelected)}while(++l<h.length);m.add(1,"months")}while(++g<u);if(b.directionScrolling){var k=e().startOf("day").hours(12);p=m.diff(k,"months",!0),"today-past"===b.direction||"past"===b.direction?p<=0?(this.disableNextMonth=!1,r.removeClassName(this.container,v.disableNextMonth)):(this.disableNextMonth=!0,r.addClassName(this.container,v.disableNextMonth)):"today-future"!==b.direction&&"future"!==b.direction&&"select-future"!==b.direction||(p>b.months?(this.disablePreviousMonth=!1,
r.removeClassName(this.container,v.disablePreviousMonth)):(this.disablePreviousMonth=!0,r.addClassName(this.container,v.disablePreviousMonth))),"today-past"===b.direction||"past"===b.direction?p<=-11?(this.disableNextYear=!1,r.removeClassName(this.container,v.disableNextYear)):(this.disableNextYear=!0,r.addClassName(this.container,v.disableNextYear)):"today-future"!==b.direction&&"future"!==b.direction&&"select-future"!==b.direction||(p>11+b.months?(this.disablePreviousYear=!1,r.removeClassName(this.container,v.disablePreviousYear)):(this.disablePreviousYear=!0,r.addClassName(this.container,v.disablePreviousYear)))}}};var i=function(t,n,i){var s=[];"string"==typeof t?t=t.split(n):r.isArray(t)||(t=[t]);var o,a=t.length,u=0;do t[u]&&(o=e(t[u],i).hours(12),o.isValid()&&s.push(o));while(++u<a);return s};window.Kalendae=n;var r=n.util={isIE8:function(){return!(!/msie 8./i.test(navigator.appVersion)||/opera/i.test(navigator.userAgent)||!window.ActiveXObject||!XDomainRequest||window.msPerformance)},$:function(e){return"string"==typeof e?document.getElementById(e):e},$$:function(e){return document.querySelectorAll(e)},make:function(e,t,n){var i,r=document.createElement(e);if(t)for(i in t)t.hasOwnProperty(i)&&r.setAttribute(i,t[i]);return n&&n.appendChild(r),r},isVisible:function(e){return e.offsetWidth>0||e.offsetHeight>0},getStyle:function(e,t){var n,i;return e.currentStyle?n=e.currentStyle[t]:window.getComputedStyle&&(i=window.getComputedStyle(e,null),n=i?i[t]:""),n},domReady:function(e){var t=document.readyState;"complete"===t||"interactive"===t?e():setTimeout(function(){r.domReady(e)},9)},addEvent:function(e,t,n){var i=function(t){t=t||window.event;var i=t.target||t.srcElement,r=n.apply(e,[t,i]);return r===!1&&(t.preventDefault?t.preventDefault():(t.returnValue=!1,t.cancelBubble=!0)),r};return e.attachEvent?e.attachEvent("on"+t,i):e.addEventListener(t,i,!1),i},removeEvent:function(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n,!1)},fireEvent:function(e,t){if(document.createEvent){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}else document.createEventObject?e.fireEvent("on"+t):"function"==typeof e["on"+t]&&e["on"+t]()},hasClassName:function(e,t){if(!(e=r.$(e)))return!1;var n=e.className;return n.length>0&&(n==t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(n))},addClassName:function(e,t){(e=r.$(e))&&(r.hasClassName(e,t)||(e.className+=(e.className?" ":"")+t))},removeClassName:function(e,t){(e=r.$(e))&&(e.className=r.trimString(e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ")))},isFixed:function(e){do if("fixed"===r.getStyle(e,"position"))return!0;while(e=e.offsetParent);return!1},scrollContainer:function(e){do{var t=r.getStyle(e,"overflow");if("auto"===t||"scroll"===t)return e}while((e=e.parentNode)&&e!=window.document.body);return null},getPosition:function(e,t){var n=e.offsetLeft,i=e.offsetTop,r={};if(!t)for(;e=e.offsetParent;)n+=e.offsetLeft,i+=e.offsetTop;return r[0]=r.left=n,r[1]=r.top=i,r},getHeight:function(e){return e.offsetHeight||e.scrollHeight},getWidth:function(e){return e.offsetWidth||e.scrollWidth},trimString:function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")},merge:function(){for(var e=arguments[0]===!0,t={},n=e?1:0,i=function(t,n){if("object"==typeof n){for(var i in n)n.hasOwnProperty(i)&&(e&&"object"==typeof t[i]&&"object"==typeof n[i]?_update(t[i],n[i]):t[i]=n[i]);return t}};n<arguments.length;n++)i(t,arguments[n]);return t},isArray:function(e){return"[object Array]"==Object.prototype.toString.call(e)}};"function"==typeof document.addEventListener&&n.util.domReady(function(){for(var e,t,i,s=r.$$(".auto-kal"),o=s.length;o--;)e=s[o],i=e.getAttribute("data-kal"),t=null==i||""==i?{}:new Function("return {"+i+"};")(),"INPUT"===e.tagName?new n.Input(e,t):new n(r.merge(t,{attachTo:e}))}),n.Input=function(t,s){if(this.loaded=!1,"function"==typeof document.addEventListener||r.isIE8()){var o,a,u=this.input=r.$(t),l=!1;if(!u||"INPUT"!==u.tagName)throw"First argument for Kalendae.Input must be an <input> element or a valid element id.";var c=this,d=c.classes,h=c.settings=r.merge(c.defaults,s);this._events={},h.attachTo=u.parentElement,h.selected?o=!0:h.selected=u.value,n.call(c,h),h.closeButton&&(a=r.make("a",{class:d.closeButton},c.container),r.addEvent(a,"click",function(){u.blur()})),o&&("range"===this.settings.mode&&this.settings.rangeLock?u.value=c.getSelectedRaw()[1].format("MM/DD/YYYY"):u.value=c.getSelected());var f=c.container,p=!1;f.style.display="none",r.addClassName(f,d.positioned),this._events.containerMouseDown=r.addEvent(f,"mousedown",function(e,t){p=!0}),this._events.documentMousedown=r.addEvent(window.document,"mousedown",function(e,t){p=!1}),this._events.inputFocus=r.addEvent(u,"focus",function(){if(l=!0,"range"===c.settings.mode&&c.settings.rangeLock){var e=i(this.value,c.settings.parseSplitDelimiter,c.settings.format);e.length>1?c.setSelected([c.getSelectedRaw()[0],e[1]]):c.setSelected([c.getSelectedRaw()[0],e[0]])}else c.setSelected(this.value);l=!1,c.show()}),this._events.inputBlur=r.addEvent(u,"blur",function(){p&&r.isIE8()?(p=!1,u.focus()):c.hide(),c.loaded=!1}),this._events.inputKeyup=r.addEvent(u,"keyup",function(t){l=!0;var n=i(this.value,c.settings.parseSplitDelimiter,c.settings.format);n&&n.length&&n[0]&&n[0].year()>1e3?"range"===c.settings.mode&&c.settings.rangeLock?c.setSelected([c.settings.selected[0],this.value]):c.setSelected(this.value):(c.setSelected("",null),c.viewStartDate=e(c.defaultView),c.draw()),l=!1});var m=r.scrollContainer(u);m&&r.addEvent(m,"scroll",function(e){u.blur()}),c.subscribe("change",function(){l||("range"===this.settings.mode&&this.settings.rangeLock&&c.getSelectedRaw().length>1?u.value=c.getSelectedRaw()[1].format("MM/DD/YYYY"):u.value=c.getSelected(),r.fireEvent(u,"change"))})}},n.Input.prototype=r.merge(n.prototype,{defaults:r.merge(n.prototype.defaults,{format:"MM/DD/YYYY",side:"bottom",closeButton:!0,offsetLeft:0,offsetTop:0}),classes:r.merge(n.prototype.classes,{positioned:"k-floating",closeButton:"k-btn-close"}),show:function(){var e=this.container,t=e.style,n=this.input,i=r.getPosition(n),s=r.scrollContainer(n),o=s?s.scrollTop:0,a=s?s.scrollLeft:0,u=this.settings;switch(t.display="",u.side){case"left":t.left=i.left-r.getWidth(e)+u.offsetLeft-a+"px",t.top=i.top+u.offsetTop-o+"px";break;case"right":t.left=i.left+r.getWidth(n)-a+"px",t.top=i.top+u.offsetTop-o+"px";break;case"top":t.left=i.left+u.offsetLeft-a+"px",t.top=i.top-r.getHeight(e)+u.offsetTop-o+"px";break;case"bottom right":t.left=i.left-r.getWidth(e)+r.getWidth(n)+u.offsetLeft+"px",t.top=i.top+r.getHeight(n)+u.offsetTop-o+"px";break;case"bottom":default:t.left=i.left+u.offsetLeft-a+"px",t.top=i.top+r.getHeight(n)+u.offsetTop-o+"px"}r.addClassName(e,"kalendae-input-open"),t.position="absolute",this.publish("show",this)},hide:function(){this.container.style.display="none",r.removeClassName(this.container,"kalendae-input-open"),this.publish("hide",this)},destroy:function(){var e=this.container,t=this.input;r.removeEvent(e,"mousedown",this._events.containerMousedown),r.removeEvent(window.document,"mousedown",this._events.documentMousedown),r.removeEvent(t,"focus",this._events.inputFocus),r.removeEvent(t,"blur",this._events.inputBlur),r.removeEvent(t,"keyup",this._events.inputKeyup),e.parentNode&&e.parentNode.removeChild(e)}});var s=function(e){e||(e=this);var t=e.c_||{};e.publish=function(e,n,i){for(var r,s=t[e],o=s?s.length:0;o--;)if(r=s[o].apply(n,i||[]),"boolean"==typeof r)return r},e.subscribe=function(e,n,i){return t[e]||(t[e]=[]),i?t[e].push(n):t[e].unshift(n),[e,n]},e.unsubscribe=function(e){for(var n=t[e[0]],i=e[1],r=n?n.length:0;r--;)n[r]===i&&n.splice(r,1)}};if("undefined"!=typeof e&&(n.moment=e),!n.moment){if(!window.moment)throw"Kalendae requires moment.js. You must use kalendae.standalone.js if moment is not available on the page.";n.moment=window.moment}return e=n.moment,e.fn.yearDay=function(e){var t=Math.floor(this._d/864e5);return"undefined"==typeof e?t:this.add({d:e-t})},"undefined"==typeof jQuery||"function"!=typeof document.addEventListener&&!r.isIE8()||(jQuery.fn.kalendae=function(e){return this.each(function(t,i){"INPUT"===i.tagName?jQuery(i).data("kalendae",new n.Input(i,e)):jQuery(i).data("kalendae",new n(jQuery.extend({},{attachTo:i},e)))}),this}),n}),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=se.type(e);return"function"!==n&&!se.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t,n){if(se.isFunction(t))return se.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return se.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(me.test(t))return se.filter(t,e,n);t=se.filter(t,e)}return se.grep(e,function(e){return Q.call(t,e)>-1!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t={};return se.each(e.match(we)||[],function(e,n){t[n]=!0}),t}function o(){J.removeEventListener("DOMContentLoaded",o),e.removeEventListener("load",o),se.ready()}function a(){this.expando=se.expando+a.uid++}function u(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Fe,"-$&").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:De.test(n)?se.parseJSON(n):n)}catch(e){}Se.set(e,t,n)}else n=void 0;return n}function l(e,t,n,i){var r,s=1,o=20,a=i?function(){return i.cur()}:function(){return se.css(e,t,"")},u=a(),l=n&&n[3]||(se.cssNumber[t]?"":"px"),c=(se.cssNumber[t]||"px"!==l&&+u)&&Ae.exec(se.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do s=s||".5",c/=s,se.style(e,t,c+l);while(s!==(s=a()/u)&&1!==s&&--o)}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}function c(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&se.nodeName(e,t)?se.merge([e],n):n}function d(e,t){for(var n=0,i=e.length;i>n;n++)Te.set(e[n],"globalEval",!t||Te.get(t[n],"globalEval"))}function h(e,t,n,i,r){for(var s,o,a,u,l,h,f=t.createDocumentFragment(),p=[],m=0,v=e.length;v>m;m++)if(s=e[m],s||0===s)if("object"===se.type(s))se.merge(p,s.nodeType?[s]:s);else if(Pe.test(s)){for(o=o||f.appendChild(t.createElement("div")),a=(Oe.exec(s)||["",""])[1].toLowerCase(),u=Le[a]||Le._default,o.innerHTML=u[1]+se.htmlPrefilter(s)+u[2],h=u[0];h--;)o=o.lastChild;se.merge(p,o.childNodes),o=f.firstChild,o.textContent=""}else p.push(t.createTextNode(s));for(f.textContent="",m=0;s=p[m++];)if(i&&se.inArray(s,i)>-1)r&&r.push(s);else if(l=se.contains(s.ownerDocument,s),o=c(f.appendChild(s),"script"),l&&d(o),n)for(h=0;s=o[h++];)$e.test(s.type||"")&&n.push(s);return f}function f(){return!0}function p(){return!1}function m(){try{return J.activeElement}catch(e){}}function v(e,t,n,i,r,s){var o,a;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(a in t)v(e,a,n,i,t[a],s);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=p;else if(!r)return this;return 1===s&&(o=r,r=function(e){return se().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=se.guid++)),e.each(function(){se.event.add(this,t,r,i,n)})}function g(e,t){return se.nodeName(e,"table")&&se.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function y(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function _(e){var t=Ye.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function b(e,t){var n,i,r,s,o,a,u,l;if(1===t.nodeType){if(Te.hasData(e)&&(s=Te.access(e),o=Te.set(t,s),l=s.events)){delete o.handle,o.events={};for(r in l)for(n=0,i=l[r].length;i>n;n++)se.event.add(t,r,l[r][n])}Se.hasData(e)&&(a=Se.access(e),u=se.extend({},a),Se.set(t,u))}}function w(e,t){var n=t.nodeName.toLowerCase();"input"===n&&je.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function x(e,t,n,i){t=G.apply([],t);var r,s,o,a,u,l,d=0,f=e.length,p=f-1,m=t[0],v=se.isFunction(m);if(v||f>1&&"string"==typeof m&&!ie.checkClone&&Re.test(m))return e.each(function(r){var s=e.eq(r);v&&(t[0]=m.call(this,r,s.html())),x(s,t,n,i)});if(f&&(r=h(t,e[0].ownerDocument,!1,e,i),s=r.firstChild,1===r.childNodes.length&&(r=s),s||i)){for(o=se.map(c(r,"script"),y),a=o.length;f>d;d++)u=r,d!==p&&(u=se.clone(u,!0,!0),a&&se.merge(o,c(u,"script"))),n.call(e[d],u,d);if(a)for(l=o[o.length-1].ownerDocument,se.map(o,_),d=0;a>d;d++)u=o[d],$e.test(u.type||"")&&!Te.access(u,"globalEval")&&se.contains(l,u)&&(u.src?se._evalUrl&&se._evalUrl(u.src):se.globalEval(u.textContent.replace(Be,"")))}return e}function k(e,t,n){for(var i,r=t?se.filter(t,e):e,s=0;null!=(i=r[s]);s++)n||1!==i.nodeType||se.cleanData(c(i)),i.parentNode&&(n&&se.contains(i.ownerDocument,i)&&d(c(i,"script")),i.parentNode.removeChild(i));return e}function C(e,t){var n=se(t.createElement(e)).appendTo(t.body),i=se.css(n[0],"display");return n.detach(),i}function T(e){var t=J,n=Ue[e];return n||(n=C(e,t),"none"!==n&&n||(We=(We||se("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=We[0].contentDocument,t.write(),t.close(),n=C(e,t),We.detach()),Ue[e]=n),n}function S(e,t,n){var i,r,s,o,a=e.style;return n=n||Xe(e),n&&(o=n.getPropertyValue(t)||n[t],""!==o||se.contains(e.ownerDocument,e)||(o=se.style(e,t)),!ie.pixelMarginRight()&&Je.test(o)&&Ze.test(t)&&(i=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=n.width,a.width=i,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function D(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function F(e){if(e in it)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=nt.length;n--;)if(e=nt[n]+t,e in it)return e}function M(e,t,n){var i=Ae.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function A(e,t,n,i,r){for(var s=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>s;s+=2)"margin"===n&&(o+=se.css(e,n+Ee[s],!0,r)),i?("content"===n&&(o-=se.css(e,"padding"+Ee[s],!0,r)),"margin"!==n&&(o-=se.css(e,"border"+Ee[s]+"Width",!0,r))):(o+=se.css(e,"padding"+Ee[s],!0,r),"padding"!==n&&(o+=se.css(e,"border"+Ee[s]+"Width",!0,r)));return o}function E(t,n,i){var r=!0,s="width"===n?t.offsetWidth:t.offsetHeight,o=Xe(t),a="border-box"===se.css(t,"boxSizing",!1,o);if(J.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(s=Math.round(100*t.getBoundingClientRect()[n])),0>=s||null==s){if(s=S(t,n,o),(0>s||null==s)&&(s=t.style[n]),Je.test(s))return s;r=a&&(ie.boxSizingReliable()||s===t.style[n]),s=parseFloat(s)||0}return s+A(t,n,i||(a?"border":"content"),r,o)+"px"}function N(e,t){for(var n,i,r,s=[],o=0,a=e.length;a>o;o++)i=e[o],i.style&&(s[o]=Te.get(i,"olddisplay"),n=i.style.display,t?(s[o]||"none"!==n||(i.style.display=""),""===i.style.display&&Ne(i)&&(s[o]=Te.access(i,"olddisplay",T(i.nodeName)))):(r=Ne(i),"none"===n&&r||Te.set(i,"olddisplay",r?n:se.css(i,"display"))));for(o=0;a>o;o++)i=e[o],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?s[o]||"":"none"));return e}function j(e,t,n,i,r){return new j.prototype.init(e,t,n,i,r)}function O(){return e.setTimeout(function(){rt=void 0}),rt=se.now()}function $(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=Ee[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function L(e,t,n){for(var i,r=(I.tweeners[t]||[]).concat(I.tweeners["*"]),s=0,o=r.length;o>s;s++)if(i=r[s].call(n,t,e))return i}function P(e,t,n){var i,r,s,o,a,u,l,c,d=this,h={},f=e.style,p=e.nodeType&&Ne(e),m=Te.get(e,"fxshow");n.queue||(a=se._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,se.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=se.css(e,"display"),c="none"===l?Te.get(e,"olddisplay")||T(e.nodeName):l,"inline"===c&&"none"===se.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],ot.exec(r)){if(delete t[i],s=s||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;p=!0}h[i]=m&&m[i]||se.style(e,i)}else l=void 0;if(se.isEmptyObject(h))"inline"===("none"===l?T(e.nodeName):l)&&(f.display=l);else{m?"hidden"in m&&(p=m.hidden):m=Te.access(e,"fxshow",{}),s&&(m.hidden=!p),p?se(e).show():d.done(function(){se(e).hide()}),d.done(function(){var t;Te.remove(e,"fxshow");for(t in h)se.style(e,t,h[t])});for(i in h)o=L(p?m[i]:0,i,d),i in m||(m[i]=o.start,p&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}}function H(e,t){var n,i,r,s,o;for(n in e)if(i=se.camelCase(n),r=t[i],s=e[n],se.isArray(s)&&(r=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),o=se.cssHooks[i],o&&"expand"in o){s=o.expand(s),delete e[i];for(n in s)n in e||(e[n]=s[n],t[n]=r)}else t[i]=r}function I(e,t,n){var i,r,s=0,o=I.prefilters.length,a=se.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var t=rt||O(),n=Math.max(0,l.startTime+l.duration-t),i=n/l.duration||0,s=1-i,o=0,u=l.tweens.length;u>o;o++)l.tweens[o].run(s);return a.notifyWith(e,[l,s,n]),1>s&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:se.extend({},t),opts:se.extend(!0,{specialEasing:{},easing:se.easing._default},n),originalProperties:t,originalOptions:n,startTime:rt||O(),duration:n.duration,tweens:[],createTween:function(t,n){var i=se.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,i=t?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return t?(a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l,t])):a.rejectWith(e,[l,t]),this}}),c=l.props;for(H(c,l.opts.specialEasing);o>s;s++)if(i=I.prefilters[s].call(l,e,c,l.opts))return se.isFunction(i.stop)&&(se._queueHooks(l.elem,l.opts.queue).stop=se.proxy(i.stop,i)),i;return se.map(c,L,l),se.isFunction(l.opts.start)&&l.opts.start.call(e,l),se.fx.timer(se.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function q(e){return e.getAttribute&&e.getAttribute("class")||""}function V(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,s=t.toLowerCase().match(we)||[];if(se.isFunction(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function z(e,t,n,i){function r(a){var u;return s[a]=!0,se.each(e[a]||[],function(e,a){var l=a(t,n,i);return"string"!=typeof l||o||s[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),r(l),!1)}),u}var s={},o=e===Tt;return r(t.dataTypes[0])||!s["*"]&&r("*")}function R(e,t){var n,i,r=se.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&se.extend(!0,e,i),e}function Y(e,t,n){for(var i,r,s,o,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)s=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){s=r;break}o||(o=r)}s=s||o}return s?(s!==u[0]&&u.unshift(s),n[s]):void 0}function B(e,t,n,i){var r,s,o,a,u,l={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)l[o.toLowerCase()]=e.converters[o];for(s=c.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=s,s=c.shift())if("*"===s)s=u;else if("*"!==u&&u!==s){if(o=l[u+" "+s]||l["* "+s],!o)for(r in l)if(a=r.split(" "),a[1]===s&&(o=l[u+" "+a[0]]||l["* "+a[0]])){o===!0?o=l[r]:l[r]!==!0&&(s=a[0],c.unshift(a[1]));break}if(o!==!0)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+u+" to "+s}}}return{state:"success",data:t}}function W(e,t,n,i){var r;if(se.isArray(t))se.each(t,function(t,r){n||Mt.test(e)?i(e,r):W(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==se.type(t))i(e,t);else for(r in t)W(e+"["+r+"]",t[r],n,i)}function U(e){return se.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Z=[],J=e.document,X=Z.slice,G=Z.concat,K=Z.push,Q=Z.indexOf,ee={},te=ee.toString,ne=ee.hasOwnProperty,ie={},re="2.2.0",se=function(e,t){return new se.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,ue=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};se.fn=se.prototype={jquery:re,constructor:se,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=se.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return se.each(this,e)},map:function(e){return this.pushStack(se.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:K,sort:Z.sort,splice:Z.splice},se.extend=se.fn.extend=function(){var e,t,n,i,r,s,o=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"==typeof o||se.isFunction(o)||(o={}),a===u&&(o=this,a--);u>a;a++)if(null!=(e=arguments[a]))for(t in e)n=o[t],i=e[t],o!==i&&(l&&i&&(se.isPlainObject(i)||(r=se.isArray(i)))?(r?(r=!1,s=n&&se.isArray(n)?n:[]):s=n&&se.isPlainObject(n)?n:{},o[t]=se.extend(l,s,i)):void 0!==i&&(o[t]=i));return o},se.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===se.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!se.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){return"object"===se.type(e)&&!e.nodeType&&!se.isWindow(e)&&!(e.constructor&&!ne.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=se.trim(e),e&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ae,"ms-").replace(ue,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,r=0;if(n(e))for(i=e.length;i>r&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?se.merge(i,"string"==typeof e?[e]:e):K.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:Q.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],s=0,o=e.length,a=!n;o>s;s++)i=!t(e[s],s),i!==a&&r.push(e[s]);return r},map:function(e,t,i){var r,s,o=0,a=[];if(n(e))for(r=e.length;r>o;o++)s=t(e[o],o,i),null!=s&&a.push(s);else for(o in e)s=t(e[o],o,i),null!=s&&a.push(s);return G.apply([],a)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),se.isFunction(e)?(i=X.call(arguments,2),r=function(){return e.apply(t||this,i.concat(X.call(arguments)))},r.guid=e.guid=e.guid||se.guid++,r):void 0},now:Date.now,support:ie}),"function"==typeof Symbol&&(se.fn[Symbol.iterator]=Z[Symbol.iterator]),se.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,n,i){var r,s,o,a,u,l,d,f,p=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!i&&((t?t.ownerDocument||t:q)!==N&&E(t),t=t||N,O)){if(11!==m&&(l=ge.exec(e)))if(r=l[1]){if(9===m){if(!(o=t.getElementById(r)))return n;if(o.id===r)return n.push(o),n}else if(p&&(o=p.getElementById(r))&&H(t,o)&&o.id===r)return n.push(o),n}else{if(l[2])return K.apply(n,t.getElementsByTagName(e)),n;if((r=l[3])&&w.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(r)),n}if(w.qsa&&!B[e+" "]&&(!$||!$.test(e))){if(1!==m)p=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(_e,"\\$&"):t.setAttribute("id",a=I),d=T(e),s=d.length,u=he.test(a)?"#"+a:"[id='"+a+"']";s--;)d[s]=u+" "+h(d[s]);f=d.join(","),p=ye.test(e)&&c(t.parentNode)||t}if(f)try{return K.apply(n,p.querySelectorAll(f)),n}catch(e){}finally{a===I&&t.removeAttribute("id")}}}return D(e.replace(ae,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[I]=!0,e}function r(e){var t=N.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=t}function o(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return i(function(t){return t=+t,i(function(n,i){for(var r,s=e([],n.length,t),o=s.length;o--;)n[r=s[o]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,s=z++;return t.first?function(t,n,s){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,s)}:function(t,n,o){var a,u,l,c=[V,s];if(o){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[I]||(t[I]={}),u=l[t.uniqueID]||(l[t.uniqueID]={}),(a=u[i])&&a[0]===V&&a[1]===s)return c[2]=a[2];if(u[i]=c,c[2]=e(t,n,o))return!0}}}function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,s=n.length;s>r;r++)t(e,n[r],i);return i}function v(e,t,n,i,r){for(var s,o=[],a=0,u=e.length,l=null!=t;u>a;a++)(s=e[a])&&(!n||n(s,i,r))&&(o.push(s),l&&t.push(a));return o}function g(e,t,n,r,s,o){return r&&!r[I]&&(r=g(r)),s&&!s[I]&&(s=g(s,o)),i(function(i,o,a,u){var l,c,d,h=[],f=[],p=o.length,g=i||m(t||"*",a.nodeType?[a]:a,[]),y=!e||!i&&t?g:v(g,h,e,a,u),_=n?s||(i?e:p||r)?[]:o:y;if(n&&n(y,_,a,u),r)for(l=v(_,f),r(l,[],a,u),c=l.length;c--;)(d=l[c])&&(_[f[c]]=!(y[f[c]]=d));if(i){if(s||e){if(s){for(l=[],c=_.length;c--;)(d=_[c])&&l.push(y[c]=d);s(null,_=[],l,u)}for(c=_.length;c--;)(d=_[c])&&(l=s?ee(i,d):h[c])>-1&&(i[l]=!(o[l]=d))}}else _=v(_===o?_.splice(p,_.length):_),s?s(null,o,_,u):K.apply(o,_)})}function y(e){for(var t,n,i,r=e.length,s=x.relative[e[0].type],o=s||x.relative[" "],a=s?1:0,u=f(function(e){return e===t},o,!0),l=f(function(e){return ee(t,e)>-1},o,!0),c=[function(e,n,i){var r=!s&&(i||n!==F)||((t=n).nodeType?u(e,n,i):l(e,n,i));return t=null,r}];r>a;a++)if(n=x.relative[e[a].type])c=[f(p(c),n)];else{if(n=x.filter[e[a].type].apply(null,e[a].matches),n[I]){for(i=++a;r>i&&!x.relative[e[i].type];i++);return g(a>1&&p(c),a>1&&h(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),n,i>a&&y(e.slice(a,i)),r>i&&y(e=e.slice(i)),r>i&&h(e))}c.push(n)}return p(c)}function _(e,n){var r=n.length>0,s=e.length>0,o=function(i,o,a,u,l){var c,d,h,f=0,p="0",m=i&&[],g=[],y=F,_=i||s&&x.find.TAG("*",l),b=V+=null==y?1:Math.random()||.1,w=_.length;for(l&&(F=o===N||o||l);p!==w&&null!=(c=_[p]);p++){if(s&&c){for(d=0,o||c.ownerDocument===N||(E(c),a=!O);h=e[d++];)if(h(c,o||N,a)){u.push(c);break}l&&(V=b)}r&&((c=!h&&c)&&f--,i&&m.push(c))}if(f+=p,r&&p!==f){for(d=0;h=n[d++];)h(m,g,o,a);if(i){if(f>0)for(;p--;)m[p]||g[p]||(g[p]=X.call(u));g=v(g)}K.apply(u,g),l&&!i&&g.length>0&&f+n.length>1&&t.uniqueSort(u)}return l&&(V=b,F=y),m};return r?i(o):o}var b,w,x,k,C,T,S,D,F,M,A,E,N,j,O,$,L,P,H,I="sizzle"+1*new Date,q=e.document,V=0,z=0,R=n(),Y=n(),B=n(),W=function(e,t){return e===t&&(A=!0),0},U=1<<31,Z={}.hasOwnProperty,J=[],X=J.pop,G=J.push,K=J.push,Q=J.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",se=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",oe=new RegExp(ne+"+","g"),ae=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(se),he=new RegExp("^"+ie+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,_e=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xe=function(){E()};try{K.apply(J=Q.call(q.childNodes),q.childNodes),J[q.childNodes.length].nodeType}catch(e){K={apply:J.length?function(e,t){G.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}w=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},E=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:q;return i!==N&&9===i.nodeType&&i.documentElement?(N=i,j=N.documentElement,O=!C(N),(n=N.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),w.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=r(function(e){return e.appendChild(N.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(N.getElementsByClassName),w.getById=r(function(e){return j.appendChild(e).id=I,!N.getElementsByName||!N.getElementsByName(I).length}),w.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n?[n]:[]}},x.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(be,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){
var n,i=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},x.find.CLASS=w.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&O?t.getElementsByClassName(e):void 0},L=[],$=[],(w.qsa=ve.test(N.querySelectorAll))&&(r(function(e){j.appendChild(e).innerHTML="<a id='"+I+"'></a><select id='"+I+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&$.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||$.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+I+"-]").length||$.push("~="),e.querySelectorAll(":checked").length||$.push(":checked"),e.querySelectorAll("a#"+I+"+*").length||$.push(".#.+[+~]")}),r(function(e){var t=N.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&$.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||$.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),$.push(",.*:")})),(w.matchesSelector=ve.test(P=j.matches||j.webkitMatchesSelector||j.mozMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&r(function(e){w.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),L.push("!=",se)}),$=$.length&&new RegExp($.join("|")),L=L.length&&new RegExp(L.join("|")),t=ve.test(j.compareDocumentPosition),H=t||ve.test(j.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===N||e.ownerDocument===q&&H(q,e)?-1:t===N||t.ownerDocument===q&&H(q,t)?1:M?ee(M,e)-ee(M,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,i=0,r=e.parentNode,s=t.parentNode,a=[e],u=[t];if(!r||!s)return e===N?-1:t===N?1:r?-1:s?1:M?ee(M,e)-ee(M,t):0;if(r===s)return o(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;a[i]===u[i];)i++;return i?o(a[i],u[i]):a[i]===q?-1:u[i]===q?1:0},N):N},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==N&&E(e),n=n.replace(ce,"='$1']"),w.matchesSelector&&O&&!B[n+" "]&&(!L||!L.test(n))&&(!$||!$.test(n)))try{var i=P.call(e,n);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&E(e),H(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&E(e);var n=x.attrHandle[t.toLowerCase()],i=n&&Z.call(x.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==i?i:w.attributes||!O?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(A=!w.detectDuplicates,M=!w.sortStable&&e.slice(0),e.sort(W),A){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return M=null,e},k=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=k(t);return n},x=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||"").replace(be,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=R[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&R(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var s=t.attr(r,e);return null==s?"!="===n:!n||(s+="","="===n?s===i:"!="===n?s!==i:"^="===n?i&&0===s.indexOf(i):"*="===n?i&&s.indexOf(i)>-1:"$="===n?i&&s.slice(-i.length)===i:"~="===n?(" "+s.replace(oe," ")+" ").indexOf(i)>-1:"|="===n&&(s===i||s.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,h,f,p,m=s!==o?"nextSibling":"previousSibling",v=t.parentNode,g=a&&t.nodeName.toLowerCase(),y=!u&&!a,_=!1;if(v){if(s){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===g:1===h.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?v.firstChild:v.lastChild],o&&y){for(h=v,d=h[I]||(h[I]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),l=c[e]||[],f=l[0]===V&&l[1],_=f&&l[2],h=f&&v.childNodes[f];h=++f&&h&&h[m]||(_=f=0)||p.pop();)if(1===h.nodeType&&++_&&h===t){c[e]=[V,f,_];break}}else if(y&&(h=t,d=h[I]||(h[I]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),l=c[e]||[],f=l[0]===V&&l[1],_=f),_===!1)for(;(h=++f&&h&&h[m]||(_=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==g:1!==h.nodeType)||!++_||(y&&(d=h[I]||(h[I]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),c[e]=[V,_]),h!==t)););return _-=r,_===i||_%i===0&&_/i>=0}}},PSEUDO:function(e,n){var r,s=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[I]?s(n):s.length>1?(r=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=s(e,n),o=r.length;o--;)i=ee(e,r[o]),e[i]=!(t[i]=r[o])}):function(e){return s(e,0,r)}):s}},pseudos:{not:i(function(e){var t=[],n=[],r=S(e.replace(ae,"$1"));return r[I]?i(function(e,t,n,i){for(var s,o=r(e,null,i,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(be,we),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:i(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===j},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},x.pseudos.nth=x.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})x.pseudos[b]=u(b);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,T=t.tokenize=function(e,n){var i,r,s,o,a,u,l,c=Y[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=x.preFilter;a;){(!i||(r=ue.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),u.push(s=[])),i=!1,(r=le.exec(a))&&(i=r.shift(),s.push({value:i,type:r[0].replace(ae," ")}),a=a.slice(i.length));for(o in x.filter)!(r=fe[o].exec(a))||l[o]&&!(r=l[o](r))||(i=r.shift(),s.push({value:i,type:o,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):Y(e,u).slice(0)},S=t.compile=function(e,t){var n,i=[],r=[],s=B[e+" "];if(!s){for(t||(t=T(e)),n=t.length;n--;)s=y(t[n]),s[I]?i.push(s):r.push(s);s=B(e,_(r,i)),s.selector=e}return s},D=t.select=function(e,t,n,i){var r,s,o,a,u,l="function"==typeof e&&e,d=!i&&T(e=l.selector||e);if(n=n||[],1===d.length){if(s=d[0]=d[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&w.getById&&9===t.nodeType&&O&&x.relative[s[1].type]){if(t=(x.find.ID(o.matches[0].replace(be,we),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(r=fe.needsContext.test(e)?0:s.length;r--&&(o=s[r],!x.relative[a=o.type]);)if((u=x.find[a])&&(i=u(o.matches[0].replace(be,we),ye.test(s[0].type)&&c(t.parentNode)||t))){if(s.splice(r,1),e=i.length&&h(s),!e)return K.apply(n,i),n;break}}return(l||S(e,d))(i,t,!O,n,!t||ye.test(e)&&c(t.parentNode)||t),n},w.sortStable=I.split("").sort(W).join("")===I,w.detectDuplicates=!!A,E(),w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(N.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||s(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);se.find=ce,se.expr=ce.selectors,se.expr[":"]=se.expr.pseudos,se.uniqueSort=se.unique=ce.uniqueSort,se.text=ce.getText,se.isXMLDoc=ce.isXML,se.contains=ce.contains;var de=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&se(e).is(n))break;i.push(e)}return i},he=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},fe=se.expr.match.needsContext,pe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,me=/^.[^:#\[\.,]*$/;se.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?se.find.matchesSelector(i,e)?[i]:[]:se.find.matches(e,se.grep(t,function(e){return 1===e.nodeType}))},se.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(se(e).filter(function(){for(t=0;n>t;t++)if(se.contains(r[t],this))return!0}));for(t=0;n>t;t++)se.find(e,r[t],i);return i=this.pushStack(n>1?se.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&fe.test(e)?se(e):e||[],!1).length}});var ve,ge=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ye=se.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||ve,"string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ge.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof se?t[0]:t,se.merge(this,se.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),pe.test(i[1])&&se.isPlainObject(t))for(i in t)se.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return r=J.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):se.isFunction(e)?void 0!==n.ready?n.ready(e):e(se):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),se.makeArray(e,this))};ye.prototype=se.fn,ve=se(J);var _e=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};se.fn.extend({has:function(e){var t=se(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(se.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,s=[],o=fe.test(e)||"string"!=typeof e?se(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&se.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?se.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?Q.call(se(e),this[0]):Q.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(se.uniqueSort(se.merge(this.get(),se(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),se.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return de(e,"parentNode")},parentsUntil:function(e,t,n){return de(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return de(e,"nextSibling")},prevAll:function(e){return de(e,"previousSibling")},nextUntil:function(e,t,n){return de(e,"nextSibling",n)},prevUntil:function(e,t,n){return de(e,"previousSibling",n)},siblings:function(e){return he((e.parentNode||{}).firstChild,e)},children:function(e){return he(e.firstChild)},contents:function(e){return e.contentDocument||se.merge([],e.childNodes)}},function(e,t){se.fn[e]=function(n,i){var r=se.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=se.filter(i,r)),this.length>1&&(be[e]||se.uniqueSort(r),_e.test(e)&&r.reverse()),this.pushStack(r)}});var we=/\S+/g;se.Callbacks=function(e){e="string"==typeof e?s(e):se.extend({},e);var t,n,i,r,o=[],a=[],u=-1,l=function(){for(r=e.once,i=t=!0;a.length;u=-1)for(n=a.shift();++u<o.length;)o[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(u=o.length-1,a.push(n)),function t(n){se.each(n,function(n,i){se.isFunction(i)?e.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==se.type(i)&&t(i)})}(arguments),n&&!t&&l()),this},remove:function(){return se.each(arguments,function(e,t){for(var n;(n=se.inArray(t,o,n))>-1;)o.splice(n,1),u>=n&&u--}),this},has:function(e){return e?se.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},se.extend({Deferred:function(e){var t=[["resolve","done",se.Callbacks("once memory"),"resolved"],["reject","fail",se.Callbacks("once memory"),"rejected"],["notify","progress",se.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return se.Deferred(function(n){se.each(t,function(t,s){var o=se.isFunction(e[t])&&e[t];r[s[1]](function(){var e=o&&o.apply(this,arguments);e&&se.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[s[0]+"With"](this===i?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?se.extend(e,i):i}},r={};return i.pipe=i.then,se.each(t,function(e,s){var o=s[2],a=s[3];i[s[1]]=o.add,a&&o.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?i:this,arguments),this},r[s[0]+"With"]=o.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,s=X.call(arguments),o=s.length,a=1!==o||e&&se.isFunction(e.promise)?o:0,u=1===a?e:se.Deferred(),l=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?X.call(arguments):r,i===t?u.notifyWith(n,i):--a||u.resolveWith(n,i)}};if(o>1)for(t=new Array(o),n=new Array(o),i=new Array(o);o>r;r++)s[r]&&se.isFunction(s[r].promise)?s[r].promise().progress(l(r,n,t)).done(l(r,i,s)).fail(u.reject):--a;return a||u.resolveWith(i,s),u.promise()}});var xe;se.fn.ready=function(e){return se.ready.promise().done(e),this},se.extend({isReady:!1,readyWait:1,holdReady:function(e){e?se.readyWait++:se.ready(!0)},ready:function(e){(e===!0?--se.readyWait:se.isReady)||(se.isReady=!0,e!==!0&&--se.readyWait>0||(xe.resolveWith(J,[se]),se.fn.triggerHandler&&(se(J).triggerHandler("ready"),se(J).off("ready"))))}}),se.ready.promise=function(t){return xe||(xe=se.Deferred(),"complete"===J.readyState||"loading"!==J.readyState&&!J.documentElement.doScroll?e.setTimeout(se.ready):(J.addEventListener("DOMContentLoaded",o),e.addEventListener("load",o))),xe.promise(t)},se.ready.promise();var ke=function(e,t,n,i,r,s,o){var a=0,u=e.length,l=null==n;if("object"===se.type(n)){r=!0;for(a in n)ke(e,t,a,n[a],!0,s,o)}else if(void 0!==i&&(r=!0,se.isFunction(i)||(o=!0),l&&(o?(t.call(e,i),t=null):(l=t,t=function(e,t,n){return l.call(se(e),n)})),t))for(;u>a;a++)t(e[a],n,o?i:i.call(e[a],a,t(e[a],n)));return r?e:l?t.call(e):u?t(e[0],n):s},Ce=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};a.uid=1,a.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Ce(e))return{};var t=e[this.expando];return t||(t={},Ce(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[t]=n;else for(i in t)r[i]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,se.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,s=e[this.expando];if(void 0!==s){if(void 0===t)this.register(e);else{se.isArray(t)?i=t.concat(t.map(se.camelCase)):(r=se.camelCase(t),t in s?i=[t,r]:(i=r,i=i in s?[i]:i.match(we)||[])),n=i.length;for(;n--;)delete s[i[n]]}(void 0===t||se.isEmptyObject(s))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!se.isEmptyObject(t)}};var Te=new a,Se=new a,De=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Fe=/[A-Z]/g;se.extend({hasData:function(e){return Se.hasData(e)||Te.hasData(e)},data:function(e,t,n){return Se.access(e,t,n)},removeData:function(e,t){Se.remove(e,t)},_data:function(e,t,n){return Te.access(e,t,n)},_removeData:function(e,t){Te.remove(e,t)}}),se.fn.extend({data:function(e,t){var n,i,r,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(r=Se.get(s),1===s.nodeType&&!Te.get(s,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(i=o[n].name,0===i.indexOf("data-")&&(i=se.camelCase(i.slice(5)),u(s,i,r[i])));Te.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Se.set(this,e)}):ke(this,function(t){var n,i;if(s&&void 0===t){if(n=Se.get(s,e)||Se.get(s,e.replace(Fe,"-$&").toLowerCase()),void 0!==n)return n;if(i=se.camelCase(e),n=Se.get(s,i),void 0!==n)return n;if(n=u(s,i,void 0),void 0!==n)return n}else i=se.camelCase(e),this.each(function(){var n=Se.get(this,i);Se.set(this,i,t),e.indexOf("-")>-1&&void 0!==n&&Se.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Se.remove(this,e)})}}),se.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=Te.get(e,t),n&&(!i||se.isArray(n)?i=Te.access(e,t,se.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=se.queue(e,t),i=n.length,r=n.shift(),s=se._queueHooks(e,t),o=function(){se.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete s.stop,r.call(e,o,s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Te.get(e,n)||Te.access(e,n,{empty:se.Callbacks("once memory").add(function(){Te.remove(e,[t+"queue",n])})})}}),se.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?se.queue(this[0],e):void 0===t?this:this.each(function(){var n=se.queue(this,e,t);se._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&se.dequeue(this,e)})},dequeue:function(e){return this.each(function(){se.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=se.Deferred(),s=this,o=this.length,a=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)n=Te.get(s[o],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var Me=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ae=new RegExp("^(?:([+-])=|)("+Me+")([a-z%]*)$","i"),Ee=["Top","Right","Bottom","Left"],Ne=function(e,t){return e=t||e,"none"===se.css(e,"display")||!se.contains(e.ownerDocument,e)},je=/^(?:checkbox|radio)$/i,Oe=/<([\w:-]+)/,$e=/^$|\/(?:java|ecma)script/i,Le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Le.optgroup=Le.option,Le.tbody=Le.tfoot=Le.colgroup=Le.caption=Le.thead,Le.th=Le.td;var Pe=/<|&#?\w+;/;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ie.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var He=/^key/,Ie=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,qe=/^([^.]*)(?:\.(.+)|)/;se.event={global:{},add:function(e,t,n,i,r){var s,o,a,u,l,c,d,h,f,p,m,v=Te.get(e);if(v)for(n.handler&&(s=n,n=s.handler,r=s.selector),n.guid||(n.guid=se.guid++),(u=v.events)||(u=v.events={}),(o=v.handle)||(o=v.handle=function(t){return"undefined"!=typeof se&&se.event.triggered!==t.type?se.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(we)||[""],l=t.length;l--;)a=qe.exec(t[l])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f&&(d=se.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=se.event.special[f]||{},c=se.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&se.expr.match.needsContext.test(r),namespace:p.join(".")},s),(h=u[f])||(h=u[f]=[],h.delegateCount=0,d.setup&&d.setup.call(e,i,p,o)!==!1||e.addEventListener&&e.addEventListener(f,o)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),se.event.global[f]=!0)},remove:function(e,t,n,i,r){var s,o,a,u,l,c,d,h,f,p,m,v=Te.hasData(e)&&Te.get(e);if(v&&(u=v.events)){for(t=(t||"").match(we)||[""],l=t.length;l--;)if(a=qe.exec(t[l])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f){for(d=se.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,h=u[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;s--;)c=h[s],!r&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(s,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));o&&!h.length&&(d.teardown&&d.teardown.call(e,p,v.handle)!==!1||se.removeEvent(e,f,v.handle),delete u[f])}else for(f in u)se.event.remove(e,f+t[l],n,i,!0);se.isEmptyObject(u)&&Te.remove(e,"handle events")}},dispatch:function(e){e=se.event.fix(e);var t,n,i,r,s,o=[],a=X.call(arguments),u=(Te.get(this,"events")||{})[e.type]||[],l=se.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(o=se.event.handlers.call(this,e,u),t=0;(r=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(s=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.rnamespace||e.rnamespace.test(s.namespace))&&(e.handleObj=s,e.data=s.data,i=((se.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,s,o=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(i=[],n=0;a>n;n++)s=t[n],r=s.selector+" ",void 0===i[r]&&(i[r]=s.needsContext?se(r,this).index(u)>-1:se.find(r,this,null,[u]).length),i[r]&&i.push(s);i.length&&o.push({elem:u,handlers:i})}return a<t.length&&o.push({elem:this,handlers:t.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||J,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[se.expando])return e;var t,n,i,r=e.type,s=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Ie.test(r)?this.mouseHooks:He.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new se.Event(s),t=i.length;t--;)n=i[t],e[n]=s[n];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==m()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&se.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return se.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},se.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},se.Event=function(e,t){return this instanceof se.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:p):this.type=e,t&&se.extend(this,t),this.timeStamp=e&&e.timeStamp||se.now(),void(this[se.expando]=!0)):new se.Event(e,t)},se.Event.prototype={constructor:se.Event,isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation(),this.stopPropagation()}},se.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){se.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,s=e.handleObj;return(!r||r!==i&&!se.contains(i,r))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),se.fn.extend({on:function(e,t,n,i){return v(this,e,t,n,i)},one:function(e,t,n,i){return v(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,se(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){se.event.remove(this,e,n,t)})}});var Ve=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ze=/<script|<style|<link/i,Re=/checked\s*(?:[^=]|=\s*.checked.)/i,Ye=/^true\/(.*)/,Be=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;se.extend({htmlPrefilter:function(e){return e.replace(Ve,"<$1></$2>")},clone:function(e,t,n){var i,r,s,o,a=e.cloneNode(!0),u=se.contains(e.ownerDocument,e);if(!(ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||se.isXMLDoc(e)))for(o=c(a),s=c(e),i=0,r=s.length;r>i;i++)w(s[i],o[i]);if(t)if(n)for(s=s||c(e),o=o||c(a),i=0,r=s.length;r>i;i++)b(s[i],o[i]);else b(e,a);return o=c(a,"script"),o.length>0&&d(o,!u&&c(e,"script")),a},cleanData:function(e){for(var t,n,i,r=se.event.special,s=0;void 0!==(n=e[s]);s++)if(Ce(n)){if(t=n[Te.expando]){if(t.events)for(i in t.events)r[i]?se.event.remove(n,i):se.removeEvent(n,i,t.handle);n[Te.expando]=void 0}n[Se.expando]&&(n[Se.expando]=void 0)}}}),se.fn.extend({domManip:x,detach:function(e){return k(this,e,!0)},remove:function(e){return k(this,e)},text:function(e){return ke(this,function(e){return void 0===e?se.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return x(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.appendChild(e)}})},prepend:function(){return x(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return x(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return x(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(se.cleanData(c(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return se.clone(this,e,t)})},html:function(e){return ke(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ze.test(e)&&!Le[(Oe.exec(e)||["",""])[1].toLowerCase()]){e=se.htmlPrefilter(e);try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(se.cleanData(c(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return x(this,arguments,function(t){var n=this.parentNode;se.inArray(this,e)<0&&(se.cleanData(c(this)),n&&n.replaceChild(t,this))},e)}}),se.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){se.fn[e]=function(e){for(var n,i=[],r=se(e),s=r.length-1,o=0;s>=o;o++)n=o===s?this:this.clone(!0),se(r[o])[t](n),K.apply(i,n.get());return this.pushStack(i)}});var We,Ue={HTML:"block",BODY:"block"},Ze=/^margin/,Je=new RegExp("^("+Me+")(?!px)[a-z%]+$","i"),Xe=function(t){
var n=t.ownerDocument.defaultView;return n.opener||(n=e),n.getComputedStyle(t)},Ge=function(e,t,n,i){var r,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];r=n.apply(e,i||[]);for(s in t)e.style[s]=o[s];return r},Ke=J.documentElement;!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Ke.appendChild(o);var t=e.getComputedStyle(a);n="1%"!==t.top,s="2px"===t.marginLeft,i="4px"===t.width,a.style.marginRight="50%",r="4px"===t.marginRight,Ke.removeChild(o)}var n,i,r,s,o=J.createElement("div"),a=J.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(a),se.extend(ie,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},pixelMarginRight:function(){return null==i&&t(),r},reliableMarginLeft:function(){return null==i&&t(),s},reliableMarginRight:function(){var t,n=a.appendChild(J.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",Ke.appendChild(o),t=!parseFloat(e.getComputedStyle(n).marginRight),Ke.removeChild(o),a.removeChild(n),t}}))}();var Qe=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},nt=["Webkit","O","Moz","ms"],it=J.createElement("div").style;se.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=S(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,o,a=se.camelCase(t),u=e.style;return t=se.cssProps[a]||(se.cssProps[a]=F(a)||a),o=se.cssHooks[t]||se.cssHooks[a],void 0===n?o&&"get"in o&&void 0!==(r=o.get(e,!1,i))?r:u[t]:(s=typeof n,"string"===s&&(r=Ae.exec(n))&&r[1]&&(n=l(e,t,r),s="number"),void(null!=n&&n===n&&("number"===s&&(n+=r&&r[3]||(se.cssNumber[a]?"":"px")),ie.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,i))||(u[t]=n))))}},css:function(e,t,n,i){var r,s,o,a=se.camelCase(t);return t=se.cssProps[a]||(se.cssProps[a]=F(a)||a),o=se.cssHooks[t]||se.cssHooks[a],o&&"get"in o&&(r=o.get(e,!0,n)),void 0===r&&(r=S(e,t,i)),"normal"===r&&t in tt&&(r=tt[t]),""===n||n?(s=parseFloat(r),n===!0||isFinite(s)?s||0:r):r}}),se.each(["height","width"],function(e,t){se.cssHooks[t]={get:function(e,n,i){return n?Qe.test(se.css(e,"display"))&&0===e.offsetWidth?Ge(e,et,function(){return E(e,t,i)}):E(e,t,i):void 0},set:function(e,n,i){var r,s=i&&Xe(e),o=i&&A(e,t,i,"border-box"===se.css(e,"boxSizing",!1,s),s);return o&&(r=Ae.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=se.css(e,t)),M(e,n,o)}}}),se.cssHooks.marginLeft=D(ie.reliableMarginLeft,function(e,t){return t?(parseFloat(S(e,"marginLeft"))||e.getBoundingClientRect().left-Ge(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),se.cssHooks.marginRight=D(ie.reliableMarginRight,function(e,t){return t?Ge(e,{display:"inline-block"},S,[e,"marginRight"]):void 0}),se.each({margin:"",padding:"",border:"Width"},function(e,t){se.cssHooks[e+t]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Ee[i]+t]=s[i]||s[i-2]||s[0];return r}},Ze.test(e)||(se.cssHooks[e+t].set=M)}),se.fn.extend({css:function(e,t){return ke(this,function(e,t,n){var i,r,s={},o=0;if(se.isArray(t)){for(i=Xe(e),r=t.length;r>o;o++)s[t[o]]=se.css(e,t[o],!1,i);return s}return void 0!==n?se.style(e,t,n):se.css(e,t)},e,t,arguments.length>1)},show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ne(this)?se(this).show():se(this).hide()})}}),se.Tween=j,j.prototype={constructor:j,init:function(e,t,n,i,r,s){this.elem=e,this.prop=n,this.easing=r||se.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(se.cssNumber[n]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,n=j.propHooks[this.prop];return this.options.duration?this.pos=t=se.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=se.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){se.fx.step[e.prop]?se.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[se.cssProps[e.prop]]&&!se.cssHooks[e.prop]?e.elem[e.prop]=e.now:se.style(e.elem,e.prop,e.now+e.unit)}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},se.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},se.fx=j.prototype.init,se.fx.step={};var rt,st,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;se.Animation=se.extend(I,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return l(n.elem,e,Ae.exec(t),n),n}]},tweener:function(e,t){se.isFunction(e)?(t=e,e=["*"]):e=e.match(we);for(var n,i=0,r=e.length;r>i;i++)n=e[i],I.tweeners[n]=I.tweeners[n]||[],I.tweeners[n].unshift(t)},prefilters:[P],prefilter:function(e,t){t?I.prefilters.unshift(e):I.prefilters.push(e)}}),se.speed=function(e,t,n){var i=e&&"object"==typeof e?se.extend({},e):{complete:n||!n&&t||se.isFunction(e)&&e,duration:e,easing:n&&t||t&&!se.isFunction(t)&&t};return i.duration=se.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in se.fx.speeds?se.fx.speeds[i.duration]:se.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){se.isFunction(i.old)&&i.old.call(this),i.queue&&se.dequeue(this,i.queue)},i},se.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ne).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=se.isEmptyObject(e),s=se.speed(t,n,i),o=function(){var t=I(this,se.extend({},e),s);(r||Te.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",s=se.timers,o=Te.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&at.test(r)&&i(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(n),t=!1,s.splice(r,1));(t||!n)&&se.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Te.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],s=se.timers,o=i?i.length:0;for(n.finish=!0,se.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),se.each(["toggle","show","hide"],function(e,t){var n=se.fn[t];se.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate($(t,!0),e,i,r)}}),se.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){se.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),se.timers=[],se.fx.tick=function(){var e,t=0,n=se.timers;for(rt=se.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||se.fx.stop(),rt=void 0},se.fx.timer=function(e){se.timers.push(e),e()?se.fx.start():se.timers.pop()},se.fx.interval=13,se.fx.start=function(){st||(st=e.setInterval(se.fx.tick,se.fx.interval))},se.fx.stop=function(){e.clearInterval(st),st=null},se.fx.speeds={slow:600,fast:200,_default:400},se.fn.delay=function(t,n){return t=se.fx?se.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",ie.checkOn=""!==e.value,ie.optSelected=n.selected,t.disabled=!0,ie.optDisabled=!n.disabled,e=J.createElement("input"),e.value="t",e.type="radio",ie.radioValue="t"===e.value}();var ut,lt=se.expr.attrHandle;se.fn.extend({attr:function(e,t){return ke(this,se.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){se.removeAttr(this,e)})}}),se.extend({attr:function(e,t,n){var i,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"==typeof e.getAttribute?se.prop(e,t,n):(1===s&&se.isXMLDoc(e)||(t=t.toLowerCase(),r=se.attrHooks[t]||(se.expr.match.bool.test(t)?ut:void 0)),void 0!==n?null===n?void se.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=se.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!ie.radioValue&&"radio"===t&&se.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,r=0,s=t&&t.match(we);if(s&&1===e.nodeType)for(;n=s[r++];)i=se.propFix[n]||n,se.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)}}),ut={set:function(e,t,n){return t===!1?se.removeAttr(e,n):e.setAttribute(n,n),n}},se.each(se.expr.match.bool.source.match(/\w+/g),function(e,t){var n=lt[t]||se.find.attr;lt[t]=function(e,t,i){var r,s;return i||(s=lt[t],lt[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,lt[t]=s),r}});var ct=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;se.fn.extend({prop:function(e,t){return ke(this,se.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[se.propFix[e]||e]})}}),se.extend({prop:function(e,t,n){var i,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&se.isXMLDoc(e)||(t=se.propFix[t]||t,r=se.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=se.find.attr(e,"tabindex");return t?parseInt(t,10):ct.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ie.optSelected||(se.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),se.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){se.propFix[this.toLowerCase()]=this});var ht=/[\t\r\n\f]/g;se.fn.extend({addClass:function(e){var t,n,i,r,s,o,a,u=0;if(se.isFunction(e))return this.each(function(t){se(this).addClass(e.call(this,t,q(this)))});if("string"==typeof e&&e)for(t=e.match(we)||[];n=this[u++];)if(r=q(n),i=1===n.nodeType&&(" "+r+" ").replace(ht," ")){for(o=0;s=t[o++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");a=se.trim(i),r!==a&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,s,o,a,u=0;if(se.isFunction(e))return this.each(function(t){se(this).removeClass(e.call(this,t,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(we)||[];n=this[u++];)if(r=q(n),i=1===n.nodeType&&(" "+r+" ").replace(ht," ")){for(o=0;s=t[o++];)for(;i.indexOf(" "+s+" ")>-1;)i=i.replace(" "+s+" "," ");a=se.trim(i),r!==a&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):se.isFunction(e)?this.each(function(n){se(this).toggleClass(e.call(this,n,q(this),t),t)}):this.each(function(){var t,i,r,s;if("string"===n)for(i=0,r=se(this),s=e.match(we)||[];t=s[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(void 0===e||"boolean"===n)&&(t=q(this),t&&Te.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Te.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+q(n)+" ").replace(ht," ").indexOf(t)>-1)return!0;return!1}});var ft=/\r/g;se.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=se.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,se(this).val()):e,null==r?r="":"number"==typeof r?r+="":se.isArray(r)&&(r=se.map(r,function(e){return null==e?"":e+""})),t=se.valHooks[this.type]||se.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=se.valHooks[r.type]||se.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(ft,""):null==n?"":n)):void 0}}),se.extend({valHooks:{option:{get:function(e){return se.trim(e.value)}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,s="select-one"===e.type||0>r,o=s?null:[],a=s?r+1:i.length,u=0>r?a:s?r:0;a>u;u++)if(n=i[u],(n.selected||u===r)&&(ie.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!se.nodeName(n.parentNode,"optgroup"))){if(t=se(n).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,s=se.makeArray(t),o=r.length;o--;)i=r[o],(i.selected=se.inArray(se.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),se.each(["radio","checkbox"],function(){se.valHooks[this]={set:function(e,t){return se.isArray(t)?e.checked=se.inArray(se(e).val(),t)>-1:void 0}},ie.checkOn||(se.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var pt=/^(?:focusinfocus|focusoutblur)$/;se.extend(se.event,{trigger:function(t,n,i,r){var s,o,a,u,l,c,d,h=[i||J],f=ne.call(t,"type")?t.type:t,p=ne.call(t,"namespace")?t.namespace.split("."):[];if(o=a=i=i||J,3!==i.nodeType&&8!==i.nodeType&&!pt.test(f+se.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),l=f.indexOf(":")<0&&"on"+f,t=t[se.expando]?t:new se.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:se.makeArray(n,[t]),d=se.event.special[f]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!se.isWindow(i)){for(u=d.delegateType||f,pt.test(u+f)||(o=o.parentNode);o;o=o.parentNode)h.push(o),a=o;a===(i.ownerDocument||J)&&h.push(a.defaultView||a.parentWindow||e)}for(s=0;(o=h[s++])&&!t.isPropagationStopped();)t.type=s>1?u:d.bindType||f,c=(Te.get(o,"events")||{})[t.type]&&Te.get(o,"handle"),c&&c.apply(o,n),c=l&&o[l],c&&c.apply&&Ce(o)&&(t.result=c.apply(o,n),t.result===!1&&t.preventDefault());return t.type=f,r||t.isDefaultPrevented()||d._default&&d._default.apply(h.pop(),n)!==!1||!Ce(i)||l&&se.isFunction(i[f])&&!se.isWindow(i)&&(a=i[l],a&&(i[l]=null),se.event.triggered=f,i[f](),se.event.triggered=void 0,a&&(i[l]=a)),t.result}},simulate:function(e,t,n){var i=se.extend(new se.Event,n,{type:e,isSimulated:!0});se.event.trigger(i,null,t),i.isDefaultPrevented()&&n.preventDefault()}}),se.fn.extend({trigger:function(e,t){return this.each(function(){se.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?se.event.trigger(e,t,n,!0):void 0}}),se.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){se.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),se.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ie.focusin="onfocusin"in e,ie.focusin||se.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){se.event.simulate(t,e.target,se.event.fix(e))};se.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=Te.access(i,t);r||i.addEventListener(e,n,!0),Te.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Te.access(i,t)-1;r?Te.access(i,t,r):(i.removeEventListener(e,n,!0),Te.remove(i,t))}}});var mt=e.location,vt=se.now(),gt=/\?/;se.parseJSON=function(e){return JSON.parse(e+"")},se.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&se.error("Invalid XML: "+t),n};var yt=/#.*$/,_t=/([?&])_=[^&]*/,bt=/^(.*?):[ \t]*([^\r\n]*)$/gm,wt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,xt=/^(?:GET|HEAD)$/,kt=/^\/\//,Ct={},Tt={},St="*/".concat("*"),Dt=J.createElement("a");Dt.href=mt.href,se.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mt.href,type:"GET",isLocal:wt.test(mt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":St,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":se.parseJSON,"text xml":se.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,se.ajaxSettings),t):R(se.ajaxSettings,e)},ajaxPrefilter:V(Ct),ajaxTransport:V(Tt),ajax:function(t,n){function i(t,n,i,a){var l,d,y,_,w,k=n;2!==b&&(b=2,u&&e.clearTimeout(u),r=void 0,o=a||"",x.readyState=t>0?4:0,l=t>=200&&300>t||304===t,i&&(_=Y(h,x,i)),_=B(h,_,x,l),l?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(se.lastModified[s]=w),w=x.getResponseHeader("etag"),w&&(se.etag[s]=w)),204===t||"HEAD"===h.type?k="nocontent":304===t?k="notmodified":(k=_.state,d=_.data,y=_.error,l=!y)):(y=k,(t||!k)&&(k="error",0>t&&(t=0))),x.status=t,x.statusText=(n||k)+"",l?m.resolveWith(f,[d,k,x]):m.rejectWith(f,[x,k,y]),x.statusCode(g),g=void 0,c&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,h,l?d:y]),v.fireWith(f,[x,k]),c&&(p.trigger("ajaxComplete",[x,h]),--se.active||se.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,s,o,a,u,l,c,d,h=se.ajaxSetup({},n),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?se(f):se.event,m=se.Deferred(),v=se.Callbacks("once memory"),g=h.statusCode||{},y={},_={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=bt.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=_[n]=_[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return r&&r.abort(t),i(0,t),this}};if(m.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,h.url=((t||h.url||mt.href)+"").replace(yt,"").replace(kt,mt.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=se.trim(h.dataType||"*").toLowerCase().match(we)||[""],null==h.crossDomain){l=J.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Dt.protocol+"//"+Dt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=se.param(h.data,h.traditional)),z(Ct,h,n,x),2===b)return x;c=se.event&&h.global,c&&0===se.active++&&se.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!xt.test(h.type),s=h.url,h.hasContent||(h.data&&(s=h.url+=(gt.test(s)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=_t.test(s)?s.replace(_t,"$1_="+vt++):s+(gt.test(s)?"&":"?")+"_="+vt++)),h.ifModified&&(se.lastModified[s]&&x.setRequestHeader("If-Modified-Since",se.lastModified[s]),se.etag[s]&&x.setRequestHeader("If-None-Match",se.etag[s])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+St+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)x.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(h.beforeSend.call(f,x,h)===!1||2===b))return x.abort();w="abort";for(d in{success:1,error:1,complete:1})x[d](h[d]);if(r=z(Tt,h,n,x)){if(x.readyState=1,c&&p.trigger("ajaxSend",[x,h]),2===b)return x;h.async&&h.timeout>0&&(u=e.setTimeout(function(){x.abort("timeout")},h.timeout));try{b=1,r.send(y,i)}catch(e){if(!(2>b))throw e;i(-1,e)}}else i(-1,"No Transport");return x},getJSON:function(e,t,n){return se.get(e,t,n,"json")},getScript:function(e,t){return se.get(e,void 0,t,"script")}}),se.each(["get","post"],function(e,t){se[t]=function(e,n,i,r){return se.isFunction(n)&&(r=r||i,i=n,n=void 0),se.ajax(se.extend({url:e,type:t,dataType:r,data:n,success:i},se.isPlainObject(e)&&e))}}),se._evalUrl=function(e){return se.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},se.fn.extend({wrapAll:function(e){var t;return se.isFunction(e)?this.each(function(t){se(this).wrapAll(e.call(this,t))}):(this[0]&&(t=se(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return se.isFunction(e)?this.each(function(t){se(this).wrapInner(e.call(this,t))}):this.each(function(){var t=se(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=se.isFunction(e);return this.each(function(n){se(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){se.nodeName(this,"body")||se(this).replaceWith(this.childNodes)}).end()}}),se.expr.filters.hidden=function(e){return!se.expr.filters.visible(e)},se.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Ft=/%20/g,Mt=/\[\]$/,At=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;se.param=function(e,t){var n,i=[],r=function(e,t){t=se.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=se.ajaxSettings&&se.ajaxSettings.traditional),se.isArray(e)||e.jquery&&!se.isPlainObject(e))se.each(e,function(){r(this.name,this.value)});else for(n in e)W(n,e[n],t,r);return i.join("&").replace(Ft,"+")},se.fn.extend({serialize:function(){return se.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=se.prop(this,"elements");return e?se.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!se(this).is(":disabled")&&Nt.test(this.nodeName)&&!Et.test(e)&&(this.checked||!je.test(e))}).map(function(e,t){var n=se(this).val();return null==n?null:se.isArray(n)?se.map(n,function(e){return{name:t.name,value:e.replace(At,"\r\n")}}):{name:t.name,value:n.replace(At,"\r\n")}}).get()}}),se.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var jt={0:200,1223:204},Ot=se.ajaxSettings.xhr();ie.cors=!!Ot&&"withCredentials"in Ot,ie.ajax=Ot=!!Ot,se.ajaxTransport(function(t){var n,i;return ie.cors||Ot&&!t.crossDomain?{send:function(r,s){var o,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)a.setRequestHeader(o,r[o]);n=function(e){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(jt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}:void 0}),se.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return se.globalEval(e),e}}}),se.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),se.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=se("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}}});var $t=[],Lt=/(=)\?(?=&|$)|\?\?/;se.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||se.expando+"_"+vt++;return this[e]=!0,e}}),se.ajaxPrefilter("json jsonp",function(t,n,i){var r,s,o,a=t.jsonp!==!1&&(Lt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Lt.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=se.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Lt,"$1"+r):t.jsonp!==!1&&(t.url+=(gt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||se.error(r+" was not called"),o[0]},t.dataTypes[0]="json",s=e[r],e[r]=function(){o=arguments},i.always(function(){void 0===s?se(e).removeProp(r):e[r]=s,t[r]&&(t.jsonpCallback=n.jsonpCallback,$t.push(r)),o&&se.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),ie.createHTMLDocument=function(){var e=J.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),se.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||(ie.createHTMLDocument?J.implementation.createHTMLDocument(""):J);var i=pe.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=h([e],t,r),r&&r.length&&se(r).remove(),se.merge([],i.childNodes))};var Pt=se.fn.load;se.fn.load=function(e,t,n){if("string"!=typeof e&&Pt)return Pt.apply(this,arguments);var i,r,s,o=this,a=e.indexOf(" ");return a>-1&&(i=se.trim(e.slice(a)),e=e.slice(0,a)),se.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&se.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){s=arguments,o.html(i?se("<div>").append(se.parseHTML(e)).find(i):e)}).always(n&&function(e,t){o.each(function(){n.apply(o,s||[e.responseText,t,e])})}),this},se.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){se.fn[t]=function(e){return this.on(t,e)}}),se.expr.filters.animated=function(e){return se.grep(se.timers,function(t){return e===t.elem}).length},se.offset={setOffset:function(e,t,n){var i,r,s,o,a,u,l,c=se.css(e,"position"),d=se(e),h={};"static"===c&&(e.style.position="relative"),a=d.offset(),s=se.css(e,"top"),u=se.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(s+u).indexOf("auto")>-1,l?(i=d.position(),o=i.top,r=i.left):(o=parseFloat(s)||0,r=parseFloat(u)||0),se.isFunction(t)&&(t=t.call(e,n,se.extend({},a))),null!=t.top&&(h.top=t.top-a.top+o),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):d.css(h)}},se.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){se.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},s=i&&i.ownerDocument;return s?(t=s.documentElement,se.contains(t,i)?(r=i.getBoundingClientRect(),n=U(s),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===se.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),se.nodeName(e[0],"html")||(i=e.offset()),i.top+=se.css(e[0],"borderTopWidth",!0)-e.scrollTop(),i.left+=se.css(e[0],"borderLeftWidth",!0)-e.scrollLeft()),{top:t.top-i.top-se.css(n,"marginTop",!0),left:t.left-i.left-se.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===se.css(e,"position");)e=e.offsetParent;return e||Ke})}}),se.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;se.fn[e]=function(i){return ke(this,function(e,i,r){var s=U(e);return void 0===r?s?s[t]:e[i]:void(s?s.scrollTo(n?s.pageXOffset:r,n?r:s.pageYOffset):e[i]=r)},e,i,arguments.length)}}),se.each(["top","left"],function(e,t){se.cssHooks[t]=D(ie.pixelPosition,function(e,n){return n?(n=S(e,t),Je.test(n)?se(e).position()[t]+"px":n):void 0})}),se.each({Height:"height",Width:"width"},function(e,t){se.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){se.fn[i]=function(i,r){var s=arguments.length&&(n||"boolean"!=typeof i),o=n||(i===!0||r===!0?"margin":"border");return ke(this,function(t,n,i){var r;return se.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?se.css(t,n,o):se.style(t,n,i,o)},t,s?i:void 0,s,null)}})}),se.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),se.fn.andSelf=se.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return se});var Ht=e.jQuery,It=e.$;return se.noConflict=function(t){return e.$===se&&(e.$=It),t&&e.jQuery===se&&(e.jQuery=Ht),se},t||(e.jQuery=e.$=se),se}),function(e){"function"==typeof define&&define.amd?define("jquery.mask",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery||Zepto)}(function(e){var t=function(t,n,i){var r={invalid:[],getCaret:function(){try{var e,n=0,i=t.get(0),s=document.selection,o=i.selectionStart;return s&&-1===navigator.appVersion.indexOf("MSIE 10")?(e=s.createRange(),e.moveStart("character",-r.val().length),n=e.text.length):(o||"0"===o)&&(n=o),n}catch(e){}},setCaret:function(e){try{if(t.is(":focus")){var n;n=t.get(0).createTextRange(),n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}}catch(e){}},events:function(){t.on("keydown.mask",function(e){t.data("mask-keycode",e.keyCode||e.which)}).on(e.jMaskGlobals.useInput?"input.mask":"keyup.mask",r.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){t.keydown().keyup()},100)}).on("change.mask",function(){t.data("changed",!0)}).on("blur.mask",function(){a===r.val()||t.data("changed")||t.trigger("change"),t.data("changed",!1)}).on("blur.mask",function(){a=r.val()}).on("focus.mask",function(t){!0===i.selectOnFocus&&e(t.target).select()}).on("focusout.mask",function(){i.clearIfNotMatch&&!s.test(r.val())&&r.val("")})},getRegexMask:function(){for(var e,t,i,r,s=[],a=0;a<n.length;a++)(e=o.translation[n.charAt(a)])?(t=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),i=e.optional,(e=e.recursive)?(s.push(n.charAt(a)),r={digit:n.charAt(a),pattern:t}):s.push(i||e?t+"?":t)):s.push(n.charAt(a).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return s=s.join(""),r&&(s=s.replace(new RegExp("("+r.digit+"(.*"+r.digit+")?)"),"($1)?").replace(new RegExp(r.digit,"g"),r.pattern)),
new RegExp(s)},destroyEvents:function(){t.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(e){var n=t.is("input")?"val":"text";return 0<arguments.length?(t[n]()!==e&&t[n](e),n=t):n=t[n](),n},getMCharsBeforeCount:function(e,t){for(var i=0,r=0,s=n.length;r<s&&r<e;r++)o.translation[n.charAt(r)]||(e=t?e+1:e,i++);return i},caretPos:function(e,t,i,s){return o.translation[n.charAt(Math.min(e-1,n.length-1))]?Math.min(e+i-t-s,i):r.caretPos(e+1,t,i,s)},behaviour:function(n){n=n||window.event,r.invalid=[];var i=t.data("mask-keycode");if(-1===e.inArray(i,o.byPassKeys)){var s=r.getCaret(),a=r.val().length,u=r.getMasked(),l=u.length,c=r.getMCharsBeforeCount(l-1)-r.getMCharsBeforeCount(a-1),d=s<a;return r.val(u),d&&(8!==i&&46!==i&&(s=r.caretPos(s,a,l,c)),r.setCaret(s)),r.callbacks(n)}},getMasked:function(e){var t,s,a=[],u=r.val(),l=0,c=n.length,d=0,h=u.length,f=1,p="push",m=-1;for(i.reverse?(p="unshift",f=-1,t=0,l=c-1,d=h-1,s=function(){return-1<l&&-1<d}):(t=c-1,s=function(){return l<c&&d<h});s();){var v=n.charAt(l),g=u.charAt(d),y=o.translation[v];y?(g.match(y.pattern)?(a[p](g),y.recursive&&(-1===m?m=l:l===t&&(l=m-f),t===m&&(l-=f)),l+=f):y.optional?(l+=f,d-=f):y.fallback?(a[p](y.fallback),l+=f,d-=f):r.invalid.push({p:d,v:g,e:y.pattern}),d+=f):(e||a[p](v),g===v&&(d+=f),l+=f)}return e=n.charAt(t),c!==h+1||o.translation[e]||a.push(e),a.join("")},callbacks:function(e){var s=r.val(),o=s!==a,u=[s,e,t,i],l=function(e,t,n){"function"==typeof i[e]&&t&&i[e].apply(this,n)};l("onChange",!0===o,u),l("onKeyPress",!0===o,u),l("onComplete",s.length===n.length,u),l("onInvalid",0<r.invalid.length,[s,e,t,r.invalid,i])}};t=e(t);var s,o=this,a=r.val();n="function"==typeof n?n(r.val(),void 0,t,i):n,o.mask=n,o.options=i,o.remove=function(){var e=r.getCaret();return r.destroyEvents(),r.val(o.getCleanVal()),r.setCaret(e-r.getMCharsBeforeCount(e)),t},o.getCleanVal=function(){return r.getMasked(!0)},o.init=function(n){n=n||!1,i=i||{},o.clearIfNotMatch=e.jMaskGlobals.clearIfNotMatch,o.byPassKeys=e.jMaskGlobals.byPassKeys,o.translation=e.extend({},e.jMaskGlobals.translation,i.translation),o=e.extend(!0,{},o,i),s=r.getRegexMask(),!1===n?(i.placeholder&&t.attr("placeholder",i.placeholder),t.data("mask")&&t.attr("autocomplete","off"),r.destroyEvents(),r.events(),n=r.getCaret(),r.val(r.getMasked()),r.setCaret(n+r.getMCharsBeforeCount(n,!0))):(r.events(),r.val(r.getMasked()))},o.init(!t.is("input"))};e.maskWatchers={};var n=function(){var n=e(this),r={},s=n.attr("data-mask");if(n.attr("data-mask-reverse")&&(r.reverse=!0),n.attr("data-mask-clearifnotmatch")&&(r.clearIfNotMatch=!0),"true"===n.attr("data-mask-selectonfocus")&&(r.selectOnFocus=!0),i(n,s,r))return n.data("mask",new t(this,s,r))},i=function(t,n,i){i=i||{};var r=e(t).data("mask"),s=JSON.stringify;t=e(t).val()||e(t).text();try{return"function"==typeof n&&(n=n(t)),"object"!=typeof r||s(r.options)!==s(i)||r.mask!==n}catch(e){}};e.fn.mask=function(n,r){r=r||{};var s=this.selector,o=e.jMaskGlobals,a=e.jMaskGlobals.watchInterval,u=function(){if(i(this,n,r))return e(this).data("mask",new t(this,n,r))};return e(this).each(u),s&&""!==s&&o.watchInputs&&(clearInterval(e.maskWatchers[s]),e.maskWatchers[s]=setInterval(function(){e(document).find(s).each(u)},a)),this},e.fn.unmask=function(){return clearInterval(e.maskWatchers[this.selector]),delete e.maskWatchers[this.selector],this.each(function(){var t=e(this).data("mask");t&&t.remove().removeData("mask")})},e.fn.cleanVal=function(){return this.data("mask").getCleanVal()},e.applyDataMask=function(t){t=t||e.jMaskGlobals.maskElements,(t instanceof e?t:e(t)).filter(e.jMaskGlobals.dataMaskAttr).each(n)};var r={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,useInput:function(e){var t=document.createElement("div");e="on"+e;var n=e in t;return n||(t.setAttribute(e,"return;"),n="function"==typeof t[e]),n}("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};e.jMaskGlobals=e.jMaskGlobals||{},r=e.jMaskGlobals=e.extend(!0,{},r,e.jMaskGlobals),r.dataMask&&e.applyDataMask(),setInterval(function(){e.jMaskGlobals.watchDataMask&&e.applyDataMask()},r.watchInterval)}),function(e,t){if("function"==typeof define&&define.amd)define("jquery.serialize",["exports","jquery"],function(e,n){return t(e,n)});else if("undefined"!=typeof exports){var n=require("jquery");t(exports,n)}else t(e,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t){function n(e,n){function r(e,t,n){return e[t]=n,e}function s(e,t){for(var n,s=e.match(i.key);void 0!==(n=s.pop());)if(i.push.test(n)){var a=o(e.replace(/\[\]$/,""));t=r([],a,t)}else i.fixed.test(n)?t=r([],n,t):i.named.test(n)&&(t=r({},n,t));return t}function o(e){return void 0===f[e]&&(f[e]=0),f[e]++}function a(e){switch(t('[name="'+e.name+'"]',n).attr("type")){case"checkbox":return"on"===e.value||e.value;default:return e.value}}function u(t){if(!i.validate.test(t.name))return this;var n=s(t.name,a(t));return h=e.extend(!0,h,n),this}function l(t){if(!e.isArray(t))throw new Error("formSerializer.addPairs expects an Array");for(var n=0,i=t.length;n<i;n++)this.addPair(t[n]);return this}function c(){return h}function d(){return JSON.stringify(c())}var h={},f={};this.addPair=u,this.addPairs=l,this.serialize=c,this.serializeJSON=d}var i={validate:/^[a-z][a-z0-9_]*(?:\.[a-z0-9_]+)*(?:\[\])?$/i,key:/[a-z0-9_]+|(?=\[\])/gi,push:/^$/,fixed:/^\d+$/,named:/^[a-z0-9_]+$/i};return n.patterns=i,n.serializeObject=function(){return new n(t,this).addPairs(this.serializeArray()).serialize()},n.serializeJSON=function(){return new n(t,this).addPairs(this.serializeArray()).serializeJSON()},"undefined"!=typeof t.fn&&(t.fn.serializeObject=n.serializeObject,t.fn.serializeJSON=n.serializeJSON),e.FormSerializer=n,n}),define("jquery.auto-complete",["jquery"],function(e){return!function(e){e.fn.autoComplete=function(t){var n=e.extend({},e.fn.autoComplete.defaults,t);return"string"==typeof t?(this.each(function(){var n=e(this);"destroy"==t&&(e(window).off("resize.autocomplete",n.updateSC),n.off("blur.autocomplete focus.autocomplete keydown.autocomplete keyup.autocomplete"),n.data("autocomplete")?n.attr("autocomplete",n.data("autocomplete")):n.removeAttr("autocomplete"),e(n.data("sc")).remove(),n.removeData("sc").removeData("autocomplete"))}),this):this.each(function(){function t(e){var t=i.val();if(i.cache[t]=e,e.length&&t.length>=n.minChars){for(var r="",s=0;s<e.length;s++)r+=n.renderItem(e[s],t);i.sc.html(r),i.updateSC(0)}else i.sc.hide()}var i=e(this);i.sc=e('<div class="autocomplete-suggestions '+n.menuClass+'"></div>'),i.data("sc",i.sc).data("autocomplete",i.attr("autocomplete")),i.attr("autocomplete","off"),i.cache={},i.last_val="",i.updateSC=function(t,n){if(i.sc.css({top:i.offset().top+i.outerHeight(),left:i.offset().left,width:i.outerWidth()}),!t&&(i.sc.show(),i.sc.maxHeight||(i.sc.maxHeight=parseInt(i.sc.css("max-height"))),i.sc.suggestionHeight||(i.sc.suggestionHeight=e(".autocomplete-suggestion",i.sc).first().outerHeight()),i.sc.suggestionHeight))if(n){var r=i.sc.scrollTop(),s=n.offset().top-i.sc.offset().top;s+i.sc.suggestionHeight-i.sc.maxHeight>0?i.sc.scrollTop(s+i.sc.suggestionHeight+r-i.sc.maxHeight):0>s&&i.sc.scrollTop(s+r)}else i.sc.scrollTop(0)},e(window).on("resize.autocomplete",i.updateSC),i.sc.appendTo("body"),i.sc.on("mouseleave",".autocomplete-suggestion",function(){e(".autocomplete-suggestion.selected").removeClass("selected")}),i.sc.on("mouseenter",".autocomplete-suggestion",function(){e(".autocomplete-suggestion.selected").removeClass("selected"),e(this).addClass("selected")}),i.sc.on("mousedown click",".autocomplete-suggestion",function(t){var r=e(this),s=r.data("val");return(s||r.hasClass("autocomplete-suggestion"))&&(i.val(s),n.onSelect(t,s,r),i.sc.hide()),!1}),i.on("blur.autocomplete",function(){try{over_sb=e(".autocomplete-suggestions:hover").length}catch(e){over_sb=0}over_sb?i.is(":focus")||setTimeout(function(){i.focus()},20):(i.last_val=i.val(),i.sc.hide(),setTimeout(function(){i.sc.hide()},350))}),n.minChars||i.on("focus.autocomplete",function(){i.last_val="\n",i.trigger("keyup.autocomplete")}),i.on("keydown.autocomplete",function(t){if((40==t.which||38==t.which)&&i.sc.html()){var r,s=e(".autocomplete-suggestion.selected",i.sc);return s.length?(r=40==t.which?s.next(".autocomplete-suggestion"):s.prev(".autocomplete-suggestion"),r.length?(s.removeClass("selected"),i.val(r.addClass("selected").data("val"))):(s.removeClass("selected"),i.val(i.last_val),r=0)):(r=40==t.which?e(".autocomplete-suggestion",i.sc).first():e(".autocomplete-suggestion",i.sc).last(),i.val(r.addClass("selected").data("val"))),i.updateSC(0,r),!1}if(27==t.which)i.val(i.last_val).sc.hide();else if(13==t.which||9==t.which){var s=e(".autocomplete-suggestion.selected",i.sc);s.length&&i.sc.is(":visible")&&(n.onSelect(t,s.data("val"),s),setTimeout(function(){i.sc.hide()},20))}}),i.on("keyup.autocomplete",function(r){if(!~e.inArray(r.which,[13,27,35,36,37,38,39,40])){var s=i.val();if(s.length>=n.minChars){if(s!=i.last_val){if(i.last_val=s,clearTimeout(i.timer),n.cache){if(s in i.cache)return void t(i.cache[s]);for(var o=1;o<s.length-n.minChars;o++){var a=s.slice(0,s.length-o);if(a in i.cache&&!i.cache[a].length)return void t([])}}i.timer=setTimeout(function(){n.source(s,t)},n.delay)}}else i.last_val=s,i.sc.hide()}})})},e.fn.autoComplete.defaults={source:0,minChars:3,delay:150,cache:1,menuClass:"",renderItem:function(e,t){t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var n=new RegExp("("+t.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+e+'">'+e.replace(n,"<b>$1</b>")+"</div>"},onSelect:function(e,t,n){}}}(jQuery),e}),define("chosen",["jquery"],function(e){return function(){var e,t,n,i,r,s={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,i,r,s,o;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),title:e.title?e.title:void 0,children:0,disabled:e.disabled,classes:e.className}),s=e.childNodes,o=[],i=0,r=s.length;i<r;i++)n=s[i],o.push(this.add_option(n,t,e.disabled));return o},e.prototype.add_option=function(e,t,n){if("OPTION"===e.nodeName.toUpperCase())return""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,title:e.title?e.title:void 0,selected:e.selected,disabled:n===!0?n:e.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},e.prototype.escapeExpression=function(e){var t,n;return null==e||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(n,function(e){return t[e]||"&amp;"})):e},e}(),i.select_to_array=function(e){var t,n,r,s,o;for(n=new i,o=e.childNodes,r=0,s=o.length;r<s;r++)t=o[r],n.add_node(t);return n.parsed},t=function(){function e(t,n){this.form_field=t,this.options=null!=n?n:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY},e.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+e.group_label+"</b>"+e.html:e.html},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(e){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(e){var t=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return t.blur_test()},100)},e.prototype.results_option_build=function(e){var t,n,i,r,s,o,a;for(t="",r=0,a=this.results_data,s=0,o=a.length;s<o&&(n=a[s],i="",i=n.group?this.result_add_group(n):this.result_add_option(n),""!==i&&(r++,t+=i),(null!=e?e.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(n))),!(r>=this.max_shown_results));s++);return t},e.prototype.result_add_option=function(e){var t,n;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),n=document.createElement("li"),n.className=t.join(" "),n.style.cssText=e.style,n.setAttribute("data-option-array-index",e.array_index),n.innerHTML=e.search_text,e.title&&(n.title=e.title),this.outerHTML(n)):""},e.prototype.result_add_group=function(e){var t,n;return(e.search_match||e.group_match)&&e.active_options>0?(t=[],t.push("group-result"),e.classes&&t.push(e.classes),n=document.createElement("li"),n.className=t.join(" "),n.innerHTML=e.search_text,e.title&&(n.title=e.title),this.outerHTML(n)):""},e.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},e.prototype.reset_single_select_options=function(){var e,t,n,i,r;for(i=this.results_data,r=[],t=0,n=i.length;t<n;t++)e=i[t],e.selected?r.push(e.selected=!1):r.push(void 0);return r},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,n,i,r,s,o,a,u,l,c,d;for(this.no_results_clear(),i=0,s=this.get_search_text(),e=s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),u=new RegExp(e,"i"),n=this.get_search_regex(e),d=this.results_data,l=0,c=d.length;l<c;l++)t=d[l],t.search_match=!1,r=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(r=this.results_data[t.group_array_index],0===r.active_options&&r.search_match&&(i+=1),r.active_options+=1),t.search_text=t.group?t.label:t.html,t.group&&!this.group_search||(t.search_match=this.search_string_match(t.search_text,n),t.search_match&&!t.group&&(i+=1),t.search_match?(s.length&&(o=t.search_text.search(u),a=t.search_text.substr(0,o+s.length)+"</em>"+t.search_text.substr(o+s.length),t.search_text=a.substr(0,o)+"<em>"+a.substr(o)),null!=r&&(r.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),i<1&&s.length?(this.update_results_content(""),this.no_results(s)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.get_search_regex=function(e){var t;return t=this.search_contains?"":"^",new RegExp(t+e,"i")},e.prototype.search_string_match=function(e,t){var n,i,r,s;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(i=e.replace(/\[|\]/g,"").split(" "),i.length))for(r=0,s=i.length;r<s;r++)if(n=i[r],t.test(n))return!0},e.prototype.choices_count=function(){var e,t,n,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,i=this.form_field.options,t=0,n=i.length;t<n;t++)e=i[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){if(e.preventDefault(),!this.results_showing&&!this.is_disabled)return this.results_show()},e.prototype.keyup_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(e){var t=this;return setTimeout(function(){return t.results_search()},50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected)&&(!(!this.display_disabled_options&&e.disabled)&&!e.empty)},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){if(this.touch_started)return this.search_results_mouseup(e)},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:(t=document.createElement("div"),t.appendChild(e),t.innerHTML)},e.browser_is_supported=function(){return!/iP(od|hone)/i.test(window.navigator.userAgent)&&((!/Android/i.test(window.navigator.userAgent)||!/Mobile/i.test(window.navigator.userAgent))&&(!/IEMobile/i.test(window.navigator.userAgent)&&(!/Windows Phone/i.test(window.navigator.userAgent)&&(!/BlackBerry/i.test(window.navigator.userAgent)&&(!/BB10/i.test(window.navigator.userAgent)&&("Microsoft Internet Explorer"!==window.navigator.appName||document.documentMode>=8))))))},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),e=jQuery,e.fn.extend({chosen:function(i){return t.browser_is_supported()?this.each(function(t){var r,s;return r=e(this),s=r.data("chosen"),"destroy"===i?void(s instanceof n&&s.destroy()):void(s instanceof n||r.data("chosen",new n(this,i)))}):this}}),n=function(t){function n(){return r=n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},n.prototype.set_up_html=function(){var t,n;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),n={class:t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(n.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",n),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},n.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},n.prototype.register_observers=function(){var e=this;return this.container.bind("touchstart.chosen",function(t){return e.container_mousedown(t),t.preventDefault()}),this.container.bind("touchend.chosen",function(t){return e.container_mouseup(t),t.preventDefault()}),this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){e.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){e.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){e.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){e.input_blur(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){e.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){e.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},n.prototype.destroy=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},n.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},n.prototype.container_mousedown=function(t){if(!this.is_disabled&&(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null==t||!e(t.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()},n.prototype.container_mouseup=function(e){if("ABBR"===e.target.nodeName&&!this.is_disabled)return this.results_reset(e)},n.prototype.search_results_mousewheel=function(e){var t;if(e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t)return e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())},n.prototype.blur_test=function(e){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},n.prototype.close_field=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},n.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},n.prototype.test_active_click=function(t){var n;return n=e(t.target).closest(".chosen-container"),n.length&&this.container[0]===n[0]?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=i.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},n.prototype.result_do_highlight=function(e){var t,n,i,r,s;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),s=this.search_results.scrollTop(),r=i+s,n=this.result_highlight.position().top+this.search_results.scrollTop(),t=n+this.result_highlight.outerHeight(),t>=r)return this.search_results.scrollTop(t-i>0?t-i:0);if(n<s)return this.search_results.scrollTop(n)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},n.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},n.prototype.update_results_content=function(e){return this.search_results.html(e)},n.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},n.prototype.set_tab_index=function(e){var t;if(this.form_field.tabIndex)return t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t},n.prototype.set_label_behavior=function(){var t=this;if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()})},n.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},n.prototype.search_results_mouseup=function(t){var n;if(n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),n.length)return this.result_highlight=n,this.result_select(t),this.search_field.focus()},n.prototype.search_results_mouseover=function(t){var n;if(n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first())return this.result_do_highlight(n)},n.prototype.search_results_mouseout=function(t){if(e(t.target).hasClass("active-result"))return this.result_clear_highlight()},n.prototype.choice_build=function(t){var n,i,r=this;return n=e("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(t)+"</span>"),t.disabled?n.addClass("search-choice-disabled"):(i=e("<a />",{class:"search-choice-close","data-option-array-index":t.array_index}),i.bind("click.chosen",function(e){return r.choice_destroy_link_click(e)}),n.append(i)),this.search_container.before(n)},n.prototype.choice_destroy_link_click=function(t){if(t.preventDefault(),t.stopPropagation(),!this.is_disabled)return this.choice_destroy(e(t.target))},n.prototype.choice_destroy=function(e){if(this.result_deselect(e[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()},n.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide();
},n.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},n.prototype.result_select=function(e){var t,n;if(this.result_highlight)return t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),n=this.results_data[t[0].getAttribute("data-option-array-index")],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(this.choice_label(n)),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale())},n.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(e)},n.prototype.result_deselect=function(e){var t;return t=this.results_data[e],!this.form_field.options[t.options_index].disabled&&(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},n.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},n.prototype.get_search_text=function(){return e("<div/>").text(e.trim(this.search_field.val())).html()},n.prototype.winnow_results_set_highlight=function(){var e,t;if(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null!=e)return this.result_do_highlight(e)},n.prototype.no_results=function(t){var n;return n=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),n.find("span").first().html(t),this.search_results.append(n),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},n.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},n.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},n.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},n.prototype.keydown_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},n.prototype.search_field_scale=function(){var t,n,i,r,s,o,a,u,l;if(this.is_multiple){for(i=0,a=0,s="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],u=0,l=o.length;u<l;u++)r=o[u],s+=r+":"+this.search_field.css(r)+";";return t=e("<div />",{style:s}),t.text(this.search_field.val()),e("body").append(t),a=t.width()+25,t.remove(),n=this.container.outerWidth(),a>n-10&&(a=n-10),this.search_field.css({width:a+"px"})}},n}(t)}.call(this),e}),define("env-config",["app"],function(e){var t={base_url:"https://app.staging.payment.rafiproperties.com",base_path:"/",API:"https://api.staging.payment.rafiproperties.com/",dwolla_env:"sandbox",bugherd:!0,bugherd_key:"iu4t9xs1xpvpinhndnrpaa",sentry:!0,sentry_dsn:"https://f99ae8cc4704427cb75dcdadb1951dc4@sentry.io/91967",debug:!1,console:!0,bug_reporting:!0};return t}),function(){function e(e){function t(t,n,i,r,s,o){for(;s>=0&&s<o;s+=e){var a=r?r[s]:s;i=n(i,t[a],a,t)}return i}return function(n,i,r,s){i=_(i,s,4);var o=!S(n)&&y.keys(n),a=(o||n).length,u=e>0?0:a-1;return arguments.length<3&&(r=n[o?o[u]:u],u+=e),t(n,i,r,o,u,a)}}function t(e){return function(t,n,i){n=b(n,i);for(var r=T(t),s=e>0?0:r-1;s>=0&&s<r;s+=e)if(n(t[s],s,t))return s;return-1}}function n(e,t,n){return function(i,r,s){var o=0,a=T(i);if("number"==typeof s)e>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(n&&s&&a)return s=n(i,r),i[s]===r?s:-1;if(r!==r)return s=t(c.call(i,o,a),y.isNaN),s>=0?s+o:-1;for(s=e>0?o:a-1;s>=0&&s<a;s+=e)if(i[s]===r)return s;return-1}}function i(e,t){var n=E.length,i=e.constructor,r=y.isFunction(i)&&i.prototype||a,s="constructor";for(y.has(e,s)&&!y.contains(t,s)&&t.push(s);n--;)s=E[n],s in e&&e[s]!==r[s]&&!y.contains(t,s)&&t.push(s)}var r=this,s=r._,o=Array.prototype,a=Object.prototype,u=Function.prototype,l=o.push,c=o.slice,d=a.toString,h=a.hasOwnProperty,f=Array.isArray,p=Object.keys,m=u.bind,v=Object.create,g=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var _=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,s){return e.call(t,n,i,r,s)}}return function(){return e.apply(t,arguments)}},b=function(e,t,n){return null==e?y.identity:y.isFunction(e)?_(e,t,n):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,t){return b(e,t,1/0)};var w=function(e,t){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var s=arguments[r],o=e(s),a=o.length,u=0;u<a;u++){var l=o[u];t&&void 0!==n[l]||(n[l]=s[l])}return n}},x=function(e){if(!y.isObject(e))return{};if(v)return v(e);g.prototype=e;var t=new g;return g.prototype=null,t},k=function(e){return function(t){return null==t?void 0:t[e]}},C=Math.pow(2,53)-1,T=k("length"),S=function(e){var t=T(e);return"number"==typeof t&&t>=0&&t<=C};y.each=y.forEach=function(e,t,n){t=_(t,n);var i,r;if(S(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var s=y.keys(e);for(i=0,r=s.length;i<r;i++)t(e[s[i]],s[i],e)}return e},y.map=y.collect=function(e,t,n){t=b(t,n);for(var i=!S(e)&&y.keys(e),r=(i||e).length,s=Array(r),o=0;o<r;o++){var a=i?i[o]:o;s[o]=t(e[a],a,e)}return s},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,t,n){var i;if(i=S(e)?y.findIndex(e,t,n):y.findKey(e,t,n),void 0!==i&&i!==-1)return e[i]},y.filter=y.select=function(e,t,n){var i=[];return t=b(t,n),y.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},y.reject=function(e,t,n){return y.filter(e,y.negate(b(t)),n)},y.every=y.all=function(e,t,n){t=b(t,n);for(var i=!S(e)&&y.keys(e),r=(i||e).length,s=0;s<r;s++){var o=i?i[s]:s;if(!t(e[o],o,e))return!1}return!0},y.some=y.any=function(e,t,n){t=b(t,n);for(var i=!S(e)&&y.keys(e),r=(i||e).length,s=0;s<r;s++){var o=i?i[s]:s;if(t(e[o],o,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,i){return S(e)||(e=y.values(e)),("number"!=typeof n||i)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=function(e,t){var n=c.call(arguments,2),i=y.isFunction(t);return y.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var i,r,s=-(1/0),o=-(1/0);if(null==t&&null!=e){e=S(e)?e:y.values(e);for(var a=0,u=e.length;a<u;a++)i=e[a],i>s&&(s=i)}else t=b(t,n),y.each(e,function(e,n,i){r=t(e,n,i),(r>o||r===-(1/0)&&s===-(1/0))&&(s=e,o=r)});return s},y.min=function(e,t,n){var i,r,s=1/0,o=1/0;if(null==t&&null!=e){e=S(e)?e:y.values(e);for(var a=0,u=e.length;a<u;a++)i=e[a],i<s&&(s=i)}else t=b(t,n),y.each(e,function(e,n,i){r=t(e,n,i),(r<o||r===1/0&&s===1/0)&&(s=e,o=r)});return s},y.shuffle=function(e){for(var t,n=S(e)?e:y.values(e),i=n.length,r=Array(i),s=0;s<i;s++)t=y.random(0,s),t!==s&&(r[s]=r[t]),r[t]=n[s];return r},y.sample=function(e,t,n){return null==t||n?(S(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,t,n){return t=b(t,n),y.pluck(y.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var D=function(e){return function(t,n,i){var r={};return n=b(n,i),y.each(t,function(i,s){var o=n(i,s,t);e(r,i,o)}),r}};y.groupBy=D(function(e,t,n){y.has(e,n)?e[n].push(t):e[n]=[t]}),y.indexBy=D(function(e,t,n){e[n]=t}),y.countBy=D(function(e,t,n){y.has(e,n)?e[n]++:e[n]=1}),y.toArray=function(e){return e?y.isArray(e)?c.call(e):S(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:S(e)?e.length:y.keys(e).length},y.partition=function(e,t,n){t=b(t,n);var i=[],r=[];return y.each(e,function(e,n,s){(t(e,n,s)?i:r).push(e)}),[i,r]},y.first=y.head=y.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var F=function(e,t,n,i){for(var r=[],s=0,o=i||0,a=T(e);o<a;o++){var u=e[o];if(S(u)&&(y.isArray(u)||y.isArguments(u))){t||(u=F(u,t,n));var l=0,c=u.length;for(r.length+=c;l<c;)r[s++]=u[l++]}else n||(r[s++]=u)}return r};y.flatten=function(e,t){return F(e,t,!1)},y.without=function(e){return y.difference(e,c.call(arguments,1))},y.uniq=y.unique=function(e,t,n,i){y.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=b(n,i));for(var r=[],s=[],o=0,a=T(e);o<a;o++){var u=e[o],l=n?n(u,o,e):u;t?(o&&s===l||r.push(u),s=l):n?y.contains(s,l)||(s.push(l),r.push(u)):y.contains(r,u)||r.push(u)}return r},y.union=function(){return y.uniq(F(arguments,!0,!0))},y.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=T(e);i<r;i++){var s=e[i];if(!y.contains(t,s)){for(var o=1;o<n&&y.contains(arguments[o],s);o++);o===n&&t.push(s)}}return t},y.difference=function(e){var t=F(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(t,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,T).length||0,n=Array(t),i=0;i<t;i++)n[i]=y.pluck(e,i);return n},y.object=function(e,t){for(var n={},i=0,r=T(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},y.findIndex=t(1),y.findLastIndex=t(-1),y.sortedIndex=function(e,t,n,i){n=b(n,i,1);for(var r=n(t),s=0,o=T(e);s<o;){var a=Math.floor((s+o)/2);n(e[a])<r?s=a+1:o=a}return s},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),s=0;s<i;s++,e+=n)r[s]=e;return r};var M=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var s=x(e.prototype),o=e.apply(s,r);return y.isObject(o)?o:s};y.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,c.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return M(e,i,t,this,n.concat(c.call(arguments)))};return i},y.partial=function(e){var t=c.call(arguments,1),n=function(){for(var i=0,r=t.length,s=Array(r),o=0;o<r;o++)s[o]=t[o]===y?arguments[i++]:t[o];for(;i<arguments.length;)s.push(arguments[i++]);return M(e,n,this,this,s)};return n},y.bindAll=function(e){var t,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++)n=arguments[t],e[n]=y.bind(e[n],e);return e},y.memoize=function(e,t){var n=function(i){var r=n.cache,s=""+(t?t.apply(this,arguments):i);return y.has(r,s)||(r[s]=e.apply(this,arguments)),r[s]};return n.cache={},n},y.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var i,r,s,o=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:y.now(),o=null,s=e.apply(i,r),o||(i=r=null)};return function(){var l=y.now();a||n.leading!==!1||(a=l);var c=t-(l-a);return i=this,r=arguments,c<=0||c>t?(o&&(clearTimeout(o),o=null),a=l,s=e.apply(i,r),o||(i=r=null)):o||n.trailing===!1||(o=setTimeout(u,c)),s}},y.debounce=function(e,t,n){var i,r,s,o,a,u=function(){var l=y.now()-o;l<t&&l>=0?i=setTimeout(u,t-l):(i=null,n||(a=e.apply(s,r),i||(s=r=null)))};return function(){s=this,r=arguments,o=y.now();var l=n&&!i;return i||(i=setTimeout(u,t)),l&&(a=e.apply(s,r),s=r=null),a}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},y.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},y.once=y.partial(y.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return A&&i(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return A&&i(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i},y.mapObject=function(e,t,n){t=b(t,n);for(var i,r=y.keys(e),s=r.length,o={},a=0;a<s;a++)i=r[a],o[i]=t(e[i],i,e);return o},y.pairs=function(e){for(var t=y.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},y.invert=function(e){for(var t={},n=y.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()},y.extend=w(y.allKeys),y.extendOwn=y.assign=w(y.keys),y.findKey=function(e,t,n){t=b(t,n);for(var i,r=y.keys(e),s=0,o=r.length;s<o;s++)if(i=r[s],t(e[i],i,e))return i},y.pick=function(e,t,n){var i,r,s={},o=e;if(null==o)return s;y.isFunction(t)?(r=y.allKeys(o),i=_(t,n)):(r=F(arguments,!1,!1,1),i=function(e,t,n){return t in n},o=Object(o));for(var a=0,u=r.length;a<u;a++){var l=r[a],c=o[l];i(c,l,o)&&(s[l]=c)}return s},y.omit=function(e,t,n){if(y.isFunction(t))t=y.negate(t);else{var i=y.map(F(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(i,t)}}return y.pick(e,t,n)},y.defaults=w(y.allKeys,!0),y.create=function(e,t){var n=x(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),s=0;s<i;s++){var o=n[s];if(t[o]!==r[o]||!(o in r))return!1}return!0};var N=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var r=d.call(e);if(r!==d.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var s="[object Array]"===r;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,a=t.constructor;if(o!==a&&!(y.isFunction(o)&&o instanceof o&&y.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===e)return i[u]===t;if(n.push(e),i.push(t),s){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!N(e[u],t[u],n,i))return!1}else{var l,c=y.keys(e);if(u=c.length,y.keys(t).length!==u)return!1;for(;u--;)if(l=c[u],!y.has(t,l)||!N(e[l],t[l],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(e,t){return N(e,t)},y.isEmpty=function(e){return null==e||(S(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=f||function(e){return"[object Array]"===d.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===d.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&h.call(e,t)},y.noConflict=function(){return r._=s,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=k,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var i=Array(Math.max(0,e));t=_(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},O=y.invert(j),$=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};y.escape=$(j),y.unescape=$(O),y.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),y.isFunction(i)?i.call(e):i};var L=0;y.uniqueId=function(e){var t=++L+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+H[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var i=RegExp([(t.escape||P).source,(t.interpolate||P).source,(t.evaluate||P).source].join("|")+"|$","g"),r=0,s="__p+='";e.replace(i,function(t,n,i,o,a){return s+=e.slice(r,a).replace(I,q),r=a+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(t.variable||"obj","_",s)}catch(e){throw e.source=s,e}var a=function(e){return o.call(this,e,y)},u=t.variable||"obj";return a.source="function("+u+"){\n"+s+"}",a},y.chain=function(e){var t=y(e);return t._chain=!0,t};var V=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){y.each(y.functions(e),function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),V(this,n.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],V(this,n)}}),y.each(["concat","join","slice"],function(e){var t=o[e];y.prototype[e]=function(){return V(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),define("vendor/loader",["underscore"],function(e){var t=function(e){this.type=e||""};return e.extend(t.prototype,{get:function(){var t=Array.prototype.slice.call(arguments),n=$.Deferred(),i=this.type?this.type+"/":this.type;return t=e.map(t,function(e){return i+e}),require(t,function(){n.resolve.apply(n,arguments)},function(e){throw n.reject.apply(n,arguments),e}),n.promise()}}),t}),function(e){var t="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,i,r){t.Backbone=e(t,r,n,i)});else if("undefined"!=typeof exports){var n,i=require("underscore");try{n=require("jquery")}catch(e){}e(t,exports,i,n)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(function(e,t,n,i){var r=e.Backbone,s=Array.prototype.slice;t.VERSION="1.2.3",t.$=i,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o=function(e,t,i){switch(e){case 1:return function(){return n[t](this[i])};case 2:return function(e){return n[t](this[i],e)};case 3:return function(e,r){return n[t](this[i],u(e,this),r)};case 4:return function(e,r,s){return n[t](this[i],u(e,this),r,s)};default:return function(){var e=s.call(arguments);return e.unshift(this[i]),n[t].apply(n,e)}}},a=function(e,t,i){n.each(t,function(t,r){n[r]&&(e.prototype[r]=o(t,r,i))})},u=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?l(e):n.isString(e)?function(t){return t.get(e)}:e},l=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},d=/\s+/,h=function(e,t,i,r,s){var o,a=0;if(i&&"object"==typeof i){void 0!==r&&"context"in s&&void 0===s.context&&(s.context=r);for(o=n.keys(i);a<o.length;a++)t=h(e,t,o[a],i[o[a]],s)}else if(i&&d.test(i))for(o=i.split(d);a<o.length;a++)t=e(t,o[a],r,s);else t=e(t,i,r,s);return t};c.on=function(e,t,n){return f(this,e,t,n)};var f=function(e,t,n,i,r){if(e._events=h(p,e._events||{},t,n,{context:i,ctx:e,listening:r}),r){var s=e._listeners||(e._listeners={});s[r.id]=r}return e};c.listenTo=function(e,t,i){if(!e)return this;var r=e._listenId||(e._listenId=n.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),o=s[r];if(!o){var a=this._listenId||(this._listenId=n.uniqueId("l"));o=s[r]={obj:e,objId:r,id:a,listeningTo:s,count:0}}return f(e,t,i,this,o),this};var p=function(e,t,n,i){if(n){var r=e[t]||(e[t]=[]),s=i.context,o=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:s,ctx:s||o,listening:a})}return e};c.off=function(e,t,n){return this._events?(this._events=h(m,this._events,e,t,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(e,t,i){var r=this._listeningTo;if(!r)return this;for(var s=e?[e._listenId]:n.keys(r),o=0;o<s.length;o++){var a=r[s[o]];if(!a)break;a.obj.off(t,i,this)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var m=function(e,t,i,r){if(e){var s,o=0,a=r.context,u=r.listeners;if(t||i||a){for(var l=t?[t]:n.keys(e);o<l.length;o++){t=l[o];var c=e[t];if(!c)break;for(var d=[],h=0;h<c.length;h++){var f=c[h];i&&i!==f.callback&&i!==f.callback._callback||a&&a!==f.context?d.push(f):(s=f.listening,s&&0===--s.count&&(delete u[s.id],delete s.listeningTo[s.objId]))}d.length?e[t]=d:delete e[t]}return n.size(e)?e:void 0}for(var p=n.keys(u);o<p.length;o++)s=u[p[o]],delete u[s.id],delete s.listeningTo[s.objId]}};c.once=function(e,t,i){var r=h(v,{},e,t,n.bind(this.off,this));return this.on(r,void 0,i)},c.listenToOnce=function(e,t,i){var r=h(v,{},t,i,n.bind(this.stopListening,this,e));return this.listenTo(e,r)};var v=function(e,t,i,r){if(i){var s=e[t]=n.once(function(){r(t,s),i.apply(this,arguments)});s._callback=i}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),i=0;i<t;i++)n[i]=arguments[i+1];return h(g,this._events,e,void 0,n),this};var g=function(e,t,n,i){if(e){var r=e[t],s=e.all;r&&s&&(s=s.slice()),r&&y(r,i),s&&y(s,[t].concat(i))}return e},y=function(e,t){var n,i=-1,r=e.length,s=t[0],o=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s,o);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s,o,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}};c.bind=c.on,c.unbind=c.off,n.extend(t,c);var _=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(_.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,i){if(null==e)return this;var r;if("object"==typeof e?(r=e,i=t):(r={})[e]=t,i||(i={}),!this._validate(r,i))return!1;var s=i.unset,o=i.silent,a=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,d=this._previousAttributes;for(var h in r)t=r[h],n.isEqual(l[h],t)||a.push(h),n.isEqual(d[h],t)?delete c[h]:c[h]=t,s?delete l[h]:l[h]=t;if(this.id=this.get(this.idAttribute),!o){a.length&&(this._pending=i);for(var f=0;f<a.length;f++)this.trigger("change:"+a[f],this,l[a[f]],i)}if(u)return this;if(!o)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,i={};for(var r in e){var s=e[r];n.isEqual(t[r],s)||(i[r]=s)}return!!n.size(i)&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,i=e.success;return e.success=function(n){var r=e.parse?t.parse(n,e):n;return!!t.set(r,e)&&(i&&i.call(e.context,t,n,e),void t.trigger("sync",t,n,e))},V(this,e),this.sync("read",this,e)},save:function(e,t,i){var r;null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t,i=n.extend({validate:!0,parse:!0},i);var s=i.wait;if(r&&!s){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var o=this,a=i.success,u=this.attributes;i.success=function(e){o.attributes=u;var t=i.parse?o.parse(e,i):e;return s&&(t=n.extend({},r,t)),!(t&&!o.set(t,i))&&(a&&a.call(i.context,o,e,i),void o.trigger("sync",o,e,i))},V(this,i),r&&s&&(this.attributes=n.extend({},u,r));var l=i.patch?"patch":this.isNew()?"create":"update";"patch"!==l||i.attrs||(i.attrs=r);var c=this.sync(l,this,i);return this.attributes=u,c},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,r=e.wait,s=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){r&&s(),i&&i.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var o=!1;return this.isNew()?n.defer(e.success):(V(this,e),o=this.sync("delete",this,e)),r||s(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||q();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1)}});var b={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};a(_,b,"attributes");var w=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},x={add:!0,remove:!0,merge:!0},k={add:!0,remove:!1},C=function(e,t,n){n=Math.min(Math.max(n,0),e.length);for(var i=Array(e.length-n),r=t.length,s=0;s<i.length;s++)i[s]=e[s+n];for(s=0;s<r;s++)e[s+n]=t[s];for(s=0;s<i.length;s++)e[s+r+n]=i[s]};n.extend(w.prototype,c,{model:_,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,k))},remove:function(e,t){t=n.extend({},t);var i=!n.isArray(e);e=i?[e]:n.clone(e);var r=this._removeModels(e,t);return!t.silent&&r&&this.trigger("update",this,t),i?r[0]:r},set:function(e,t){if(null!=e){t=n.defaults({},t,x),t.parse&&!this._isModel(e)&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?[e]:e.slice();var r=t.at;null!=r&&(r=+r),r<0&&(r+=this.length+1);for(var s,o=[],a=[],u=[],l={},c=t.add,d=t.merge,h=t.remove,f=!1,p=this.comparator&&null==r&&t.sort!==!1,m=n.isString(this.comparator)?this.comparator:null,v=0;v<e.length;v++){s=e[v];var g=this.get(s);if(g){if(d&&s!==g){var y=this._isModel(s)?s.attributes:s;t.parse&&(y=g.parse(y,t)),g.set(y,t),p&&!f&&(f=g.hasChanged(m))}l[g.cid]||(l[g.cid]=!0,o.push(g)),e[v]=g}else c&&(s=e[v]=this._prepareModel(s,t),s&&(a.push(s),this._addReference(s,t),l[s.cid]=!0,o.push(s)))}if(h){for(v=0;v<this.length;v++)s=this.models[v],l[s.cid]||u.push(s);u.length&&this._removeModels(u,t)}var _=!1,b=!p&&c&&h;if(o.length&&b?(_=this.length!=o.length||n.some(this.models,function(e,t){return e!==o[t]}),this.models.length=0,C(this.models,o,0),this.length=this.models.length):a.length&&(p&&(f=!0),C(this.models,a,null==r?this.length:r),this.length=this.models.length),
f&&this.sort({silent:!0}),!t.silent){for(v=0;v<a.length;v++)null!=r&&(t.index=r+v),s=a[v],s.trigger("add",s,this,t);(f||_)&&this.trigger("sort",this,t),(a.length||u.length)&&this.trigger("update",this,t)}return i?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return s.apply(this.models,arguments)},get:function(e){if(null!=e){var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]}},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var i=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===i||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=n.extend({parse:!0},e);var t=e.success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t.call(e.context,i,n,e),i.trigger("sync",i,n,e)},V(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var i=t.wait;if(e=this._prepareModel(e,t),!e)return!1;i||this.add(e,t);var r=this,s=t.success;return t.success=function(e,t,n){i&&r.add(e,n),s&&s.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeModels:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=this.get(e[i]);if(r){var s=this.indexOf(r);this.models.splice(s,1),this.length--,t.silent||(t.index=s,r.trigger("remove",r,this,t)),n.push(r),this._removeReference(r,t)}}return!!n.length&&n},_isModel:function(e){return e instanceof _},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if("add"!==e&&"remove"!==e||n===this){if("destroy"===e&&this.remove(t,i),"change"===e){var r=this.modelId(t.previousAttributes()),s=this.modelId(t.attributes);r!==s&&(null!=r&&delete this._byId[r],null!=s&&(this._byId[s]=t))}this.trigger.apply(this,arguments)}}});var T={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};a(w,T,"models");var S=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,F)),this._ensureElement(),this.initialize.apply(this,arguments)},D=/^(\S+)\s*(.*)$/,F=["model","collection","el","id","attributes","className","tagName","events"];n.extend(S.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;this.undelegateEvents();for(var t in e){var i=e[t];if(n.isFunction(i)||(i=this[i]),i){var r=t.match(D);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,i,r){var s=M[e];n.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};if(r.url||(o.url=n.result(i,"url")||q()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",r.emulateJSON&&(o.data._method=s);var a=r.beforeSend;r.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",s),a)return a.apply(this,arguments)}}"GET"===o.type||r.emulateJSON||(o.processData=!1);var u=r.error;r.error=function(e,t,n){r.textStatus=t,r.errorThrown=n,u&&u.call(r.context,e,t,n)};var l=r.xhr=t.ajax(n.extend(o,r));return i.trigger("request",i,l,r),l};var M={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var A=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,N=/(\(\?)?:\w+/g,j=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(A.prototype,c,{initialize:function(){},route:function(e,i,r){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var s=this;return t.history.route(e,function(n){var o=s._extractParameters(e,n);s.execute(r,o,i)!==!1&&(s.trigger.apply(s,["route:"+i].concat(o)),s.trigger("route",i,o),t.history.trigger("route",s,i,o))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(O,"\\$&").replace(E,"(?:$1)?").replace(N,function(e,t){return t?e:"([^/?]+)"}).replace(j,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var $=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,P=/^\/+|\/+$/g,H=/#.*$/;$.started=!1,n.extend($.prototype,c,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(L,"")},start:function(e){if($.started)throw new Error("Backbone.history has already been started");if($.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(P,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var s=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),$.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t!==this.fragment&&(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!$.started)return!1;t&&t!==!0||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+e;if(e=this.decodeFragment(e.replace(H,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;t.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new $;var I=function(e,t){var i,r=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};_.extend=w.extend=A.extend=S.extend=$.extend=I;var q=function(){throw new Error('A "url" property or function must be specified')},V=function(e,t){var n=t.error;t.error=function(i){n&&n.call(t.context,e,i,t),e.trigger("error",e,i,t)}};return t.Validation=function(e){"use strict";var t={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},n={formatLabel:function(e,n){return u[t.labelFormatter](e,n)},format:function(){var e=Array.prototype.slice.call(arguments),t=e.shift();return t.replace(/\{(\d+)\}/g,function(t,n){return"undefined"!=typeof e[n]?e[n]:t})}},i=function(t,n,r){return n=n||{},r=r||"",e.each(t,function(s,o){t.hasOwnProperty(o)&&(s&&e.isArray(s)?e.forEach(s,function(e,t){i(e,n,r+o+"."+t+"."),n[r+o+"."+t]=e}):s&&"object"==typeof s&&s.constructor===Object&&i(s,n,r+o+"."),n[r+o]=s)}),n},r=function(){var r=function(t,n){return n=n||e.keys(e.result(t,"validation")||{}),e.reduce(n,function(e,t){return e[t]=void 0,e},{})},o=function(t,n){var i=t.attributes;if(e.isFunction(i)?i=i(n):e.isString(i)&&e.isFunction(l[i])&&(i=l[i](n)),e.isArray(i))return i},a=function(t,n){var i=t.validation?e.result(t,"validation")[n]||{}:{};return(e.isFunction(i)||e.isString(i))&&(i={fn:i}),e.isArray(i)||(i=[i]),e.reduce(i,function(t,n){return e.each(e.without(e.keys(n),"msg"),function(e){t.push({fn:c[e],val:n[e],msg:n.msg})}),t},[])},u=function(t,i,r,s){return e.reduce(a(t,i),function(o,a){var u=e.extend({},n,c),l=a.fn.call(u,r,i,a.val,t,s);return l!==!1&&o!==!1&&(l&&!o?e.result(a,"msg")||l:o)},"")},d=function(t,n,i){var r,s={},o=!0,a=e.clone(n);return e.each(i,function(e,n){r=u(t,n,e,a),r&&(s[n]=r,o=!1)}),{invalidAttrs:s,isValid:o}},h=function(t,n){return{preValidate:function(t,n){var i,r=this,s={};return e.isObject(t)?(e.each(t,function(e,t){i=r.preValidate(t,e),i&&(s[t]=i)}),e.isEmpty(s)?void 0:s):u(this,t,n,e.extend({},this.attributes))},isValid:function(r){var s,a,l,c;return r=r||o(n,t),e.isString(r)?a=[r]:e.isArray(r)&&(a=r),a&&(s=i(this.attributes),e.each(this.associatedViews,function(t){e.each(a,function(i){l=u(this,i,s[i],e.extend({},this.attributes)),l?(n.invalid(t,i,l,n.selector),c=c||{},c[i]=l):n.valid(t,i,n.selector)},this)},this)),r===!0&&(c=this.validate()),c&&this.trigger("invalid",this,c,{validationError:c}),a?!c:!this.validation||this._isValid},validate:function(s,a){var u=this,l=!s,c=e.extend({},n,a),h=r(u,o(n,t)),f=e.extend({},h,u.attributes,s),p=i(f),m=s?i(s):p,v=d(u,f,e.pick(p,e.keys(h)));if(u._isValid=v.isValid,e.each(u.associatedViews,function(t){e.each(h,function(e,n){var i=v.invalidAttrs.hasOwnProperty(n),r=m.hasOwnProperty(n);i||c.valid(t,n,c.selector),i&&(r||l)&&c.invalid(t,n,v.invalidAttrs[n],c.selector)})}),e.defer(function(){u.trigger("validated",u._isValid,u,v.invalidAttrs),u.trigger("validated:"+(u._isValid?"valid":"invalid"),u,v.invalidAttrs)}),!c.forceUpdate&&e.intersection(e.keys(v.invalidAttrs),e.keys(m)).length>0)return v.invalidAttrs}}},f=function(t,n,i){n.associatedViews?n.associatedViews.push(t):n.associatedViews=[t],e.extend(n,h(t,i))},p=function(t,n){n&&t.associatedViews&&t.associatedViews.length>1?t.associatedViews=e.without(t.associatedViews,n):(delete t.validate,delete t.preValidate,delete t.isValid,delete t.associatedViews)},m=function(e){f(this.view,e,this.options)},v=function(e){p(e)};return{version:"0.11.3",configure:function(n){e.extend(t,n)},bind:function(n,i){i=e.extend({},t,s,i);var r=i.model||n.model,o=i.collection||n.collection;if("undefined"==typeof r&&"undefined"==typeof o)throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";r?f(n,r,i):o&&(o.each(function(e){f(n,e,i)}),o.bind("add",m,{view:n,options:i}),o.bind("remove",v))},unbind:function(t,n){n=e.extend({},n);var i=n.model||t.model,r=n.collection||t.collection;i?p(i,t):r&&(r.each(function(e){p(e,t)}),r.unbind("add",m),r.unbind("remove",v))},mixin:h(null,t)}}(),s=r.callbacks={valid:function(e,t,n){e.$("["+n+'~="'+t+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(e,t,n,i){e.$("["+i+'~="'+t+'"]').addClass("invalid").attr("data-error",n)}},o=r.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},a=r.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",digits:"{0} must only contain digits",number:"{0} must be a number",email:"{0} must be a valid email",url:"{0} must be a valid url",inlinePattern:"{0} is invalid"},u=r.labelFormatters={none:function(e){return e},sentenceCase:function(e){return e.indexOf("[")>-1&&e.indexOf("]")>-1?e=e.match(/\[\w*\]$/)[0].replace(/[\[\]]/g,""):e.indexOf(".")>-1&&(e=e.match(/\.\w*$/)[0].replace(/[\.]/g,"")),e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0===t?e.toUpperCase():" "+e.toLowerCase()}).replace(/_/g," ")},label:function(e,t){return t.labels&&t.labels[e]||u.sentenceCase(e,t)}},l=r.attributeLoaders={inputNames:function(e){var t=[];return e&&e.$("form [name]").each(function(){/^(?:input|select|textarea)$/i.test(this.nodeName)&&this.name&&"submit"!==this.type&&t.indexOf(this.name)===-1&&t.push(this.name)}),t}},c=r.validators=function(){var t=String.prototype.trim?function(e){return null===e?"":String.prototype.trim.call(e)}:function(e){var t=/^\s+/,n=/\s+$/;return null===e?"":e.toString().replace(t,"").replace(n,"")},n=function(t){return e.isNumber(t)||e.isString(t)&&t.match(o.number)},i=function(n){return!(e.isNull(n)||e.isUndefined(n)||e.isString(n)&&""===t(n)||e.isArray(n)&&e.isEmpty(n))};return{fn:function(t,n,i,r,s){return e.isString(i)&&(i=r[i]),i.call(r,t,n,s)},required:function(t,n,r,s,o){var u=e.isFunction(r)?r.call(s,t,n,o):r;return!(!u&&!i(t))&&(u&&!i(t)?this.format(a.required,this.formatLabel(n,s)):void 0)},acceptance:function(t,n,i,r){if("true"!==t&&(!e.isBoolean(t)||t===!1))return this.format(a.acceptance,this.formatLabel(n,r))},min:function(e,t,i,r){if(!n(e)||e<i)return this.format(a.min,this.formatLabel(t,r),i)},max:function(e,t,i,r){if(!n(e)||e>i)return this.format(a.max,this.formatLabel(t,r),i)},range:function(e,t,i,r){if(!n(e)||e<i[0]||e>i[1])return this.format(a.range,this.formatLabel(t,r),i[0],i[1])},length:function(t,n,i,r){if(!e.isString(t)||t.length!==i)return this.format(a.length,this.formatLabel(n,r),i)},minLength:function(t,n,i,r){if(!e.isString(t)||t.length<i)return this.format(a.minLength,this.formatLabel(n,r),i)},maxLength:function(t,n,i,r){if(!e.isString(t)||t.length>i)return this.format(a.maxLength,this.formatLabel(n,r),i)},rangeLength:function(t,n,i,r){if(!e.isString(t)||t.length<i[0]||t.length>i[1])return this.format(a.rangeLength,this.formatLabel(n,r),i[0],i[1])},oneOf:function(t,n,i,r){if(!e.include(i,t))return this.format(a.oneOf,this.formatLabel(n,r),i.join(", "))},equalTo:function(e,t,n,i,r){if(e!==r[n])return this.format(a.equalTo,this.formatLabel(t,i),this.formatLabel(n,i))},pattern:function(e,t,n,r){if(!i(e)||!e.toString().match(o[n]||n))return this.format(a[n]||a.inlinePattern,this.formatLabel(t,r),n)}}}();return e.each(c,function(t,i){c[i]=e.bind(c[i],e.extend({},n,c))}),r}(n),t}),!function(e,t){if("function"==typeof define&&define.amd)define("vendor/backbone-computed.min",["backbone","underscore"],t);else{if("undefined"!=typeof exports)return module.exports=t(require("backbone"),require("underscore"));t(e.Backbone,e._)}}(this,function(e,t){function n(){var n,i=t.extend({},Object.getPrototypeOf(this),this.constructor.__super__);for(var s in i)i.hasOwnProperty(s)&&(n=i[s],n instanceof e.computed&&r(this,n,s))}e.Computed=e.computed=function(t){return this instanceof e.computed?(t=Array.prototype.slice.call(t,0),this.computedFunction=t[t.length-1],void(this.dep=t.slice(0,-1))):new e.computed(arguments)},e.computed.prototype.getDependentProperties=function(){return this.dep};var i=e.Model;e.Model=i.extend({constructor:function(){i.apply(this,arguments),n.call(this)}});var r=function(e,n,i){var r=function(){e.set(i,n.computedFunction.call(e))},s=t.memoize(function(){return t.filter(n.getDependentProperties(),function(e){return e.indexOf("event:")<0})}),o=t.memoize(function(){return t.chain(n.getDependentProperties()).filter(function(e){return 0===e.indexOf("event:")}).map(function(e){return e.replace("event:","")}).value()}),a=function(){return s().map(function(e){return"change:"+e})},u=function(){if(s().length){var t=a().join(" ");e.on(t,r)}},l=function(){if(o().length){var t=o().join(" ");e.on(t,r)}};u(),l(),r()};return e.computed.alias=function(t){return e.computed(t,function(){return this.get(t)})},e.computed.equal=function(t,n){return e.computed(t,function(){return this.get(t)===n})},e.computed}),define("model/AppModel",["app","vendor/backbone-computed.min"],function(e){var t=Backbone.Model.extend({idAttribute:"_id",name:"model",dependents:[],search_filters:[],display_name:function(){return this.get(this.displayName)},initialize:function(e,t){t||(t={}),this.options||(this.options={}),this.options=_.extend(this.options,t)},trim:function(e){var t=this;_.each(e,function(n,i){var r=typeof n;"string"==r?""===n||void 0===n?delete e[i]:e[i]=$.trim(n):"object"==r&&t.trim(n)})},save:function(e,t){t||(t={}),this.isNew()&&this.trim(e),this.set(e);var n=e;if(void 0===t.patch&&(t.patch=!0),t.method="POST",!this.isNew()){if(t.patch===!0){var i=this.changedAttributes();if(!i)return $.Deferred().reject({changed:!1});n=i}t.method="PUT"}var r=this.filters||[];return n=_.omit(n,r),Backbone.Model.prototype.save.call(this,n,t)}});return t}),define("collection/AppCollection",["app"],function(e){var t=Backbone.Collection.extend({idAttribute:"_id",sort_key:"_id",initialize:function(e,t){return t||(t={}),this.options||(this.options={}),this.options=_.extend(this.options,t),this},comparator:function(e){return e.get(this.sort_key)},sortByField:function(e,t){this.sort_key=e,this.sort()},search:function(e){var n;e.constructor===Array?(n={},e.forEach(function(e,t){n[e.toLowerCase()]=0})):e.constructor===String&&(e=e.toLowerCase());var i=this.filter(function(t){var i,r=!1,s=_.omit(t.attributes,t.search_filters);n&&(i=_.extend({},n));for(var o in s)if("string"==typeof s[o])if(i)for(var a in i)(""+s[o]).toLowerCase().indexOf(a)>-1&&i[a]++;else"string"==typeof e&&(""+s[o]).toLowerCase().indexOf(e)>-1&&(r=!0);return i?_.every(_.values(i),function(e){return e>0}):r});return new t(i)},filters:function(e){var n=this.filter(function(t){var n=(_.omit(t.attributes,t.search_filters),{}),i={};for(var r in e)0!==e[r].length&&(n[r]={},i[r]=!1,e[r].dates?n[r].dates=t.get(r):e[r].forEach(function(i){n[r][i]=0;var s=t.get(r);e[r].indexOf(s.toString())>-1&&n[r][i]++}));for(var s in n)if("object"==typeof n[s]&&n[s].dates){var o=moment(e[s].dates[0]),a=moment(e[s].dates[1]);i[s]=_.every(n[s],function(e){var t=moment.utc(e);return o<=t&&t<=a})}else i[s]=_.some(_.values(n[s]),function(e){return e>0});return _.every(_.values(i),function(e){return e===!0})});return new t(n)}});return t}),define("text",["module"],function(e){"use strict";var t,n,i=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,s=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,o="undefined"!=typeof location&&location.href,a=o&&location.protocol&&location.protocol.replace(/\:/,""),u=o&&location.hostname,l=o&&(location.port||void 0),c=[],d=e.config&&e.config()||{};return t={version:"2.0.5",strip:function(e){if(e){e=e.replace(r,"");var t=e.match(s);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t+=1){n=i[t];try{e=new ActiveXObject(n)}catch(e){}if(e){i=[n];break}}return e},parseName:function(e){var t,n,i,r=!1,s=e.indexOf("."),o=0===e.indexOf("./")||0===e.indexOf("../");return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,i=n||t,s=i.indexOf("!"),s!==-1&&(r="strip"===i.substring(s+1),i=i.substring(0,s),n?n=i:t=i),{moduleName:t,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,i,r){var s,o,a,u=t.xdRegExp.exec(e);return!u||(s=u[2],o=u[3],o=o.split(":"),a=o[1],o=o[0],!(s&&s!==n||o&&o.toLowerCase()!==i.toLowerCase()||(a||o)&&a!==r))},finishLoad:function(e,n,i,r){i=n?t.strip(i):i,d.isBuild&&(c[e]=i),r(i)},load:function(e,n,i,r){if(r.isBuild&&!r.inlineText)return void i();d.isBuild=r.isBuild;var s=t.parseName(e),c=s.moduleName+(s.ext?"."+s.ext:""),h=n.toUrl(c),f=d.useXhr||t.useXhr;!o||f(h,a,u,l)?t.get(h,function(n){t.finishLoad(e,s.strip,n,i)},function(e){i.error&&i.error(e)}):n([c],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,i)})},write:function(e,n,i,r){if(c.hasOwnProperty(n)){var s=t.jsEscape(c[n]);i.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,i,r,s){var o=t.parseName(n),a=o.ext?"."+o.ext:"",u=o.moduleName+a,l=i.toUrl(o.moduleName+a)+".js";t.load(u,i,function(n){var i=function(e){return r(l,e)};i.asModule=function(e,t){return r.asModule(e,l,t)},t.write(e,u,i,s)},s)}},"node"===d.env||!d.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(n=require.nodeRequire("fs"),t.get=function(e,t){var i=n.readFileSync(e,"utf8");0===i.indexOf("\ufeff")&&(i=i.substring(1)),t(i)}):"xhr"===d.env||!d.env&&t.createXhr()?t.get=function(e,n,i,r){var s,o=t.createXhr();if(o.open("GET",e,!0),r)for(s in r)r.hasOwnProperty(s)&&o.setRequestHeader(s.toLowerCase(),r[s]);d.onXhr&&d.onXhr(o,e),o.onreadystatechange=function(t){var r,s;4===o.readyState&&(r=o.status,r>399&&r<600?(s=new Error(e+" HTTP status: "+r),s.xhr=o,i(s)):n(o.responseText))},o.send(null)}:("rhino"===d.env||!d.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java)&&(t.get=function(e,t){var n,i,r="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),r)),u="";try{for(n=new java.lang.StringBuffer,i=a.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),n.append(i);null!==(i=a.readLine());)n.append(o),n.append(i);u=String(n.toString())}finally{a.close()}t(u)}),t}),define("text!templates/tips/tips.html",[],function(){return'<div class="header"></div>\n<div class="scroll-y">\n  <h2>Tips <a class="action-tips-close" href="#">X</a></h2>\n\n  <ul class="tips"></ul>\n</div>'}),define("view/tips/TipsView",["app","text!templates/tips/tips.html"],function(e,t){return Backbone.View.extend({className:"tips-view",events:{"click .action-tips-close":"hide"},template:_.template(t),initialize:function(e){e&&_.extend(this,e),this.$parent=$(this.selector),this.render()},render:function(){var e=this;this.$el.html(this.template());var t=this.context.tips;return!!t&&(t.forEach(function(t){var n=$("<li />");"string"==typeof t?n.html("<p>"+t+"</p>"):"object"==typeof t&&(n.append($("<h3>"+t.header+"</h3>")),n.append($("<p>"+t.body+"</p>")),t.link&&n.append($('<a href="'+t.link+'" target="_blank">Read more &rarr;</a>'))),e.$el.find(".tips").append(n)}),this.$parent.append(this.$el),this)},hide:function(){this.$parent.addClass("hide-tips")},show:function(){this.$parent.removeClass("hide-tips")}})}),define("text!templates/logo.html",[],function(){return'<% var fillString = \'\';\nif (typeof (fill) !== \'undefined\') {\n\tfillString = \' style="fill:\' + fill + \'"\';\n} %>\n<div class="logo"><svg viewBox="0 0 289.33 171.17"<%= fillString %>><path d="M289.67,171.58H0.33V0.42H289.67V171.58Zm-285.33-4H285.67V4.42H4.33V167.58Z" transform="translate(-0.33 -0.42)"/><path d="M44.68,139.65H40.49v7.51H35v-25H45.22c6,0,9.59,3.54,9.59,8.66v0.07C54.8,136.65,50.29,139.65,44.68,139.65Zm4.54-8.76c0-2.47-1.72-3.79-4.47-3.79H40.49v7.65h4.36c2.75,0,4.36-1.65,4.36-3.79v-0.07Z" transform="translate(-0.33 -0.42)"/><path d="M83.09,147.16l-2.29-5.62H70.22l-2.29,5.62H62.31L73,121.95h5.08l10.73,25.21H83.09Zm-7.58-18.6-3.33,8.12h6.65Z" transform="translate(-0.33 -0.42)"/><path d="M109.63,137.18v10h-5.51v-9.87L94.5,122.13h6.44l6,10.05L113,122.13h6.26Z" transform="translate(-0.33 -0.42)"/><path d="M149.94,147.16V130.82l-7,10.7h-0.14l-7-10.59v16.24h-5.4v-25h5.94l6.58,10.59,6.58-10.59h5.94v25h-5.47Z" transform="translate(-0.33 -0.42)"/><path d="M169.37,147.16v-25h18.88V127H174.84v5.08h11.8V137h-11.8v5.26h13.59v4.9H169.37Z" transform="translate(-0.33 -0.42)"/><path d="M219,147.16l-12.12-15.92v15.92h-5.44v-25h5.08l11.73,15.42V122.13h5.44v25H219Z" transform="translate(-0.33 -0.42)"/><path d="M248.3,127.21v20h-5.51v-20h-7.62v-5.08h20.75v5.08H248.3Z" transform="translate(-0.33 -0.42)"/><path d="M35.12,103.29v-8h7.6c3.37,0,4.45-1.09,4.45-3.91V43.23c0-2.82-1.09-3.91-4.45-3.91h-7.6v-8H82.36c15.75,0,23.13,6.19,23.13,18,0,11.19-9.45,16.62-20.42,17.6v0.21c11.4,1.41,14,6.41,14,14.88,0,11.51,2.61,13.25,4.45,13.25,2.6,0,3.69-2.28,3.69-8.69V83.2h7.17v3.37c0,13.9-6,18.9-15,18.9-10.75,0-14-5.87-14-14.77,0-17.38-3.91-21.18-16.62-21.18H62.38V91.34c0,2.83,1.09,3.91,4.45,3.91h7.93v8H35.12ZM62.38,61.47H75.2c11.73,0,15.1-3.8,15.1-11.84,0-6.73-4.45-10.53-14-10.53H62.38V61.47Z" transform="translate(-0.33 -0.42)"/><path d="M177.17,84.39v3.26c0,12.16-4.89,17.27-14,17.27-5.43,0-10.1-2.28-11-8-4,6.08-11,8-17.81,8-8.47,0-15.1-4-15.1-13.79,0-21.07,32.58-10.86,32.58-26.17,0-7-5.87-8.25-11.62-8.25-3,0-8.15,1-10.1,3.58,4-.55,7.17,1.19,7.17,5.65,0,4.89-3.36,6.41-7.6,6.41a7.71,7.71,0,0,1-7.82-8c0-11.07,13.25-13.46,21.83-13.46,14.66,0,21,6.63,21,15.75V93.19c0,2.39,1,3.58,2.6,3.58s2.93-1.52,2.93-8.25V84.39h7Zm-25.3-7.93-11.51,5.21c-3.15,1.41-6.51,3.15-6.51,8.26,0,4.56,2.06,6.84,6.51,6.84,7.38,0,11.51-6.3,11.51-13.25V76.46Z" transform="translate(-0.33 -0.42)"/><path d="M180.32,52.46h10.32V49.64c0-13.9,7.38-20.53,18.78-20.53,7,0,15.2,4.13,15.2,12.06,0,4.34-2.5,7.49-6.95,7.49-4,0-7.06-2.72-7.06-6.3,0-3.37,2.38-5.54,5.53-6a0.58,0.58,0,0,1-.21-0.33,10.11,10.11,0,0,0-5.32-1.52c-5.65,0-7.17,3.8-7.17,8.69v9.23h11.08v7.17H203.45V91.77c0,3.15,1.3,4.35,4.34,4.35h6.63v7.17h-34V96.12h5.87c3,0,4.35-1.2,4.35-4.35V59.63H180.32V52.46Z" transform="translate(-0.33 -0.42)"/><path d="M224.41,103.29V96.12h5c3,0,4.35-1.2,4.35-4.35V64c0-3.15-1.3-4.34-4.35-4.34h-5V52.46h22.15V91.77c0,3.15,1.3,4.35,4.35,4.35h5.32v7.17H224.41ZM238.75,30a7.82,7.82,0,1,1-7.82,7.82A7.86,7.86,0,0,1,238.75,30" transform="translate(-0.33 -0.42)"/></svg></div>';
}),define("app",["env-config","vendor/loader","model/AppModel","collection/AppCollection","view/tips/TipsView","text!templates/logo.html"],function(e,t,n,i,r,s){function o(e,t){var n=e,i={};return _.each(t,function(e){i[e]=n.indexOf(e)>-1}),_.every(i,function(e){return e===!0})}var a={};return a.config=_.extend({bugherd:!1,sentry:!1,debug:!1,console:!0,bug_reporting:!1},e),_.extend(a,{version:"0.1.0",url:{host:location.host,origin:location.origin,protocol:location.protocol,base_url:a.config.base_url,base_path:a.config.base_path,query_string:function(){return window.location.search.slice(1).split("&")[0]}},API:function(){var e=this.utils.stash.getItem("API");return e&&this.config.debug?e:a.config.API},Model:n,Collection:i,View:{TipsView:r},views:{},collections:{},models:{},templates:{logo:_.template(s)},schema:{process:function(e,t,n){var i=this,r=n||t.schema;if(!r)return e;e=a.utils.trim(e);var s=_.extend({},e);for(var o in e)if(o in r)if(Array.isArray(r[o]))s[o]=s[o].map(function(e){return i.process(e,t,r[o][0])});else if(r[o].type)try{s[o]=a.schema.format[r[o].type](s[o],s)}catch(e){return console.warn(e),!1}else s[o]=this.process(e[o],t,r[o]);return s},format:{dob:function(e,t){var n=[t.dob_month,t.dob_day,t.dob_year];if(n.some(function(e){return void 0===e}))throw new TypeError("Incomplete date");var i=n.join(", "),r=moment.utc(i).format("YYYY-MM-DD");return t.dateOfBirth=r,e},phone:function(e){var t=a.utils.uglyPhone(e)||e;return t},money:function(e){var t=a.utils.parseMoney(e);if(a.utils.validateMoney(t))throw new TypeError("Invalid currency amount");return parseFloat(t)},money_or_zero:function(e){var t=a.utils.parseMoney(e);if(a.utils.validateMoney(t,null,null,!0))throw new TypeError("Invalid currency amount");return parseFloat(t)},charge:function(e,t){var n=a.utils.parseMoney(e);if(a.utils.validateMoney(n))throw new TypeError("Invalid charge amount");return["first_month","last_month","credit"].contains(t.type)?n=-Math.abs(n):["rent","fee"].contains(t.type)&&(n=Math.abs(n)),parseFloat(n)},transfer:function(e,t){var n=a.utils.parseMoney(e);if(a.utils.validateMoney(n))throw new TypeError("Invalid charge amount");return n="negative"===t.type?-Math.abs(n):Math.abs(n),delete t.type,parseFloat(n)},ISO:function(e){var t=moment.utc(e);if(t.isValid()===!1)throw new TypeError("Invalid ISO date input");return t.toISOString().slice(0,-5)},array:function(e){return Array.isArray(e)||(e=[e]),e}}},utils:{stash:localStorage||{getItem:function(){},setItem:function(){},removeItem:function(){}},load:new t,loadView:new t("view"),loadModel:new t("model"),loadCollection:new t("collection"),promises:function(e){if("number"==typeof e){for(var t=[];e-- >0;)t.push($.Deferred());return t}},hasTouch:function(){return!!window.ontouchstart},isMobile:function(){var e=/(iP(od|hone|ad))|(IEMobile)|(Windows Phone)|(Blackberry)|(BB10)|(Android.*Mobile)/i;return e.test(window.navigator.userAgent)},isIE:function(){var e=window.navigator.appName;return"Microsoft Internet Explorer"===e},prepInputs:function(e){var t=e.$el.find("input.phone");a.utils.isMobile()&&(e.$el.find("input.mobile-number").attr({type:"number"}),t.attr("type","tel")),t.length>0&&t.mask("(000) 000-0000"),e.$el.find(".chosen").chosen({disable_search:!0}),a.controls.smartTextarea(e);var n=e.$el.find(".money input");n.length>0&&a.controls.maskMoney(n,e),e.$el.find(".chosen-multiple").chosen(),e.$el.find(".focus").focus()},trim:function(e){var t=this;return _.each(e,function(n,i){var r=typeof n;"string"==r?""===n?delete e[i]:e[i]=$.trim(n):null===n||void 0===n?delete e[i]:"object"==r&&t.trim(n)}),e},request:function(e,t){var n=this;e||(e={}),e.data&&(e.data=JSON.stringify(e.data));var i=_.extend({method:"POST",path:"",timeout_duration:3e4},e),r=$.Deferred(),s=setTimeout(function(){a.alerts.error("The request timed out."),u.abort()},i.timeout_duration),o=/^https?:\/\//i;o.test(i.path)||(i.path=a.API()+i.path);var u=$.ajax({url:i.path,method:i.method,data:i.data,retryCount:0,retryLimit:2,beforeSend:function(e){if(!i.noheaders){i.refresh&&a.session.injectHeader(e,"Refresh",a.utils.stash.getItem("refresh"));var t=n.stash.getItem("authorization");t&&a.session.injectHeader(e,"Authorization",t);var r=n.stash.getItem("activation");r&&a.session.injectHeader(e,"Activation",r);var s=a.session.tokens.pass;s&&a.session.injectHeader(e,"Password",s)}},success:function(e){e.session&&e.session.activation_token&&t&&"success"in t&&t.success(e),r.resolve(e)},error:function(e,n){t&&"error"in t&&t.error(e,n),r.reject(e)},complete:function(e){clearTimeout(s),t&&"complete"in t&&t.complete(e)}});return _.extend(u,r),u},getFocused:function(){return document.activeElement},getOrdinal:function(e){var t=["th","st","nd","rd"],n=e%100;return t[(n-20)%10]||t[n]||t[0]},modelNames:function(e,t){if("string"!=typeof e)return!1;if("boolean"!=typeof t)return!1;var n={users:"user",admins:"admin",managers:"manager",tenants:"tenant",landlords:"landlord",companies:"company",properties:"property",units:"unit",leases:"lease",bills:"bill",transfers:"transfer"};if(t===!0){for(var i in n)if(e===n[i])return i}else if(t===!1)return n[e]},domFriendlyString:function(e){return e+="",e.replace(/[^a-z0-9]/g,function(e){var t=e.charCodeAt(0);return 32==t?"-":t>=65&&t<=90?"_"+e.toLowerCase():"__"+("000"+t.toString(16)).slice(-4)})},whichTransitionEvent:function(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]},parseMoney:function(e){if(["string","number"].contains(typeof e)){if(/[^$,\.\d\-\+]/.test(e))return!1;var t=parseFloat((""+e).replace(/[\$\,]/g,"")).toFixed(2);return"string"==typeof t&&t}},parseName:function(e){var t,n=e.split(" ");n.length>1&&(t=n.pop()+"");var i=n.join(" "),r={first_name:i};return t&&(r.last_name=t),r},validate:function(e,t){var n=t?t:{},i=e.model.clone().attributes;if(!t){var r=e.$el.find("form");n=r.serializeObject()}e.model.set(n);var s=e.model.validate();return a.utils.scrollToErrors(e)&&(s=!0),e.model.clear().set(i),!s},scrollToErrors:function(e){var t,n=e.$el.find(".has-error");if(n.length){t=!0;var i=n[0],r=e.$el.find(".scroll-container");if(r.length){var s=$(i)[0].offsetTop;r.animate({scrollTop:s},600)}}else t=!1;return t},validateMoney:function(e,t,n,i){var r="Please enter a valid amount";try{if("undefined"==typeof e)throw new TypeError;if(isNaN(e))throw new TypeError;if(console.log(i),!i&&!+e)throw new TypeError;var s;if(e=e.toString(),e.indexOf(".")>-1&&(s=e.split(".")[1],s.length>2))throw new TypeError;var o=parseInt(e),a=o.toString();if(s&&(a+="."+s),a!=e)throw new TypeError}catch(e){return console.error(e),r}},validateCharges:function(e){var t;if(e)return e.forEach(function(e){void 0===e.amount&&(e.amount="");var n=a.utils.validateMoney(e.amount);if(n){var i=$('input[name*="amount"]').filter(function(){return this.value==e.amount});a.controls.fieldError({element:i,type:"error",error:n}),t="Invalid input"}}),t},validateContact:function(e,t){var n;if(!e)return!1;"string"!=typeof e&&console.error("validateContact() expects a string as first argument."),t&&("boolean"!=typeof t&&console.error("validateContact() expects a boolean as second argument"),n={});var i=e.replace(/[^a-zA-Z0-9]/g,"");return 10==i.length||11==i.length?!/[^0-9]/g.test(i)&&((11!==i.length||1===i.charAt(0))&&(t?(n.phone=i.replace(/[^0-9]/g,""),n):"phone")):!!/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i.test(e)&&(t?(n.email=e,n):"email")},prettyMoney:function(e){var t=parseFloat(e),n="";t<0&&(n="-"),t=Math.abs(t);var i=a.utils.parseMoney(t);return console.log(i),n+"$"+i.replace(/(\d)(?=(\d{3})+\.)/g,"$1,")},prettyPhone:function(e){if(this.validateContact(e)){var t=e.slice(0,3),n=e.slice(3,6),i=e.slice(6,10);return"("+t+") "+n+"-"+i}},uglyPhone:function(e){return this.validateContact(e,!0).phone},sortCollection:function(e,t){var n=e?$($(e.currentTarget)[0]):t.$el.find(".sorted"),i=n.attr("data-field-sort")||n.attr("data-field");if(0===n.length||!i)return t.renderTable(),!1;e?(t.$el.find(".thead a").not(n).removeClass("sorted reverse"),n.hasClass("sorted")?n.hasClass("sorted reverse")?(n.removeClass("reverse"),t.collection.models.reverse()):n.hasClass("sorted")&&(n.addClass("reverse"),t.collection.models.reverse()):(n.addClass("sorted"),t.collection.sortByField(i))):n.hasClass("sorted reverse")?(t.collection.sortByField(i),t.collection.models.reverse()):n.hasClass("sorted")&&t.collection.sortByField(i),t.renderTable();var r;return r=t.parentModel?a.views.unitsView.selected:a.views.currentView.selected,r&&t.$el.find('.row[data-id="'+r+'"]').addClass("selected"),t},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},stateAbbr:function(e){var t,n,i=[["Arizona","AZ"],["Alabama","AL"],["Alaska","AK"],["Arizona","AZ"],["Arkansas","AR"],["California","CA"],["Colorado","CO"],["Connecticut","CT"],["Delaware","DE"],["Florida","FL"],["Georgia","GA"],["Hawaii","HI"],["Idaho","ID"],["Illinois","IL"],["Indiana","IN"],["Iowa","IA"],["Kansas","KS"],["Kentucky","KY"],["Kentucky","KY"],["Louisiana","LA"],["Maine","ME"],["Maryland","MD"],["Massachusetts","MA"],["Michigan","MI"],["Minnesota","MN"],["Mississippi","MS"],["Missouri","MO"],["Montana","MT"],["Nebraska","NE"],["Nevada","NV"],["New Hampshire","NH"],["New Jersey","NJ"],["New Mexico","NM"],["New York","NY"],["North Carolina","NC"],["North Dakota","ND"],["Ohio","OH"],["Oklahoma","OK"],["Oregon","OR"],["Pennsylvania","PA"],["Rhode Island","RI"],["South Carolina","SC"],["South Dakota","SD"],["Tennessee","TN"],["Texas","TX"],["Utah","UT"],["Vermont","VT"],["Virginia","VA"],["Washington","WA"],["West Virginia","WV"],["Wisconsin","WI"],["Wyoming","WY"]];return 2==e.length?(e=e.toUpperCase(),t=i.find(function(t){if(t[1]===e)return t}),n=t[0]):(e=e.toLowerCase(),t=i.find(function(t){if(t[0].toLowerCase()===e)return t}),n=t[1]),n},getOnboardingSteps:function(e){var t=[],n="tenant"===e.role,i="admin"===e.role,r=i?e.company.dwolla:e.dwolla,s=i&&!r;return n&&!e.leases.length?(t.push({name:"no_lease",value:!1,options:{background:"rgb(213, 91, 85)"}}),t):(n&&t.push({name:"terms",value:e.terms_accepted,options:{background:"rgb(0, 113, 188)"}}),(n||i)&&(s&&(t.push({name:"dwolla_type",value:r,options:{background:"rgb(0, 113, 188)"}}),t.push({name:"dwolla_verify",value:r,options:{background:"rgb(60, 81, 132)"}})),e.status.active||t.push({name:"dwolla_iav",value:!(!r||r&&!r.primary_funding_source),dwolla_account:r,options:{background:"rgb(25, 158, 134)"}})),n&&e.leases.forEach(function(n){var i=n.split&&n.split.hasOwnProperty(e._id);t.push({name:"show_lease",value:i,lease:n,options:{background:"rgb(213, 91, 85)"}}),t.push({name:"split",value:i,lease:n,options:{background:"rgb(0, 169, 157)"}})}),e.status.active||t.push({name:"password",value:e.status.active,options:{background:"rgb(0, 113, 188)"}}),t.map(function(e,t){return e.index=t,e}))}}}),Backbone.View.prototype.close=function(){this.remove(),this.unbind(),this.onClose&&this.onClose()},Backbone.Collection.prototype.save=function(e){Backbone.sync("update",this,e)},Backbone.Model.prototype.get=function(e){return e.indexOf(".")<0?this.attributes[e]:_.reduce(e.split("."),function(e,t){return e&&e[t]},this.attributes)},_.extend(Backbone.Validation.validators,{arrayItems:function(e,t,n,i){return Array.isArray(e)?void e.every(function(e,t,i){for(var r in n)if(r.required===!0&&"undefined"==typeof e[r])return!1}):"Value must be an array"}}),_.extend(_.templateSettings,{evaluate:/\{\{#([\s\S]+?)\}\}/g,interpolate:/\{\{[^#\{]([\s\S]+?)[^\}]\}\}/g,escape:/\{\{\{([\s\S]+?)\}\}\}/g}),_.extend(Backbone.Validation.patterns,{alphanumeric:/^[a-zA-Z0-9_]*$/,alphabetical:/^[a-zA-Z\s_]*$/,password:/^(?=.*[A-Z])(?=.*[0-9])(?=.*[a-z]).{8,}$/,zip:/^\d{5}(?:[-\s]\d{4})?$/}),_.extend(Backbone.Validation.messages,{alphanumeric:"Please enter only letters and numbers",alphabetical:"Please enter only letters",password:"Your password must contain at least one lowercase letter, one uppercase letter, and one number",zip:"Please enter a valid US zip code"}),_.extend(Backbone.Validation.callbacks,{valid:function(e,t,n){var i=e.$('[name="'+t+'"]'),r=i.closest(".field-group");r.removeClass("has-error"),r.find(".help-text").html("").addClass("hidden")},invalid:function(e,t,n,i){var r=e.$('[name="'+t+'"]');r.length<1&&(r=e.$("."+t));var s=r.closest(".field-group");s.addClass("has-error"),s.find(".help-text").html(n).removeClass("hidden"),a.controls.modalShake(e)}}),Array.prototype.contains=function(){return o(this,arguments)},String.prototype.contains=function(e){return o(this,arguments)},String.prototype.insert=function(e,t){return t>0?this.substring(0,t)+e+this.substring(t,this.length):"undefined"==typeof t?this+e:e+this},a.utils.transitionEvent=a.utils.whichTransitionEvent(),a}),define("text!templates/account/login.html",[],function(){return'<div class="small-panel dark">\n\t<div class="header">\n\t\t{{ /* ok */ logo }}\n\t</div>\n\t<div class="container">\n\t\t<form class="content login visible">\n\n\t\t\t<div class="field-group">\n\t\t\t  <legend>Email or Phone</legend>\n\t\t\t  <input class="username" type="text" value="{{{ user }}}" required />\n\t\t\t</div>\n\n\t\t\t<div class="field-group">\n\t\t\t  <legend>Password</legend>\n\t\t\t  <input class="password" type="password" value="{{{ pw }}}" required />\n\t\t\t</div>\n\n\t\t\t{{# var checked = (localStorage.getItem(\'remember-me\') !== \'false\') ? \' checked\' : \'\'; }}\n\t\t\t\n\t\t\t<div class="field-group">\n\t\t\t\t<input type="checkbox" id="remember-me" {{{ checked }}}>\n\t\t\t\t<label for="remember-me">Remember me</label>\n\t\t\t</div>\n\n\t\t\t<input type="submit" class="btn btn-primary action-login" value="Submit">\n\n\t\t\t<div class="links">\n\t\t\t\t<a href="/forgot">Forgot password?</a>\n\t\t\t</div>\n\t\t\t\n\t\t</form>\n\n\t\t<form class="content forgot forgot-begin">\n\t\t\t<div class="field-group">\n\t\t\t  <legend>Email or Phone</legend>\n\t\t\t  <input class="username" type="text" value="{{{ user }}}" required />\n\t\t\t</div>\n\n\t\t\t<div class="field-group reset-code">\n\t\t\t  <legend>Reset Code</legend>\n\t\t\t  <input class="code" type="text" />\n\t\t\t</div>\n\n\t\t\t<input type="submit" class="btn btn-primary action-forgot-submit" value="Submit">\n\n\t\t\t<div class="links">\n\t\t\t\t<a href="/">Nevermind</a>\n\t\t\t</div>\n\t\t</form>\n\n\n\t\t<form class="content reset reset-code">\n\t\t\t<div class="field-group">\n\t\t\t  <legend>New Password</legend>\n\t\t\t  <input class="password-field password" type="password" required />\n\t\t\t</div>\n\n\t\t\t<div class="field-group">\n\t\t\t  <legend>Confirm Password</legend>\n\t\t\t  <input class="password-field password-confirm" type="password" required />\n\t\t\t</div>\n\n\t\t\t<input type="submit" class="btn btn-primary action-reset-submit" value="Submit">\n\n\t\t\t<div class="links">\n\t\t\t\t<a href="/">Nevermind</a>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n\n</div>'}),define("view/account/Login",["app","text!templates/account/login.html"],function(e,t){return Backbone.View.extend(_.extend({},Backbone.Events,{className:"login-container",events:{"click .action-login":"loginRequest","change #remember-me":"toggleRemember","submit form.begin":"submitForgot","submit form.end":"submitCode","submit form.reset-code":"submitReset","submit form.reset-token":"submitResetToken"},initialize:function(){return this.on("showLogin",this.showLogin,this),this.on("showForgot",this.showForgot,this),this.on("showReset",this.showReset,this),this.on("saveToken",this.saveToken,this),this.render()},render:function(){var n=e.session.get("logged_in");if(!n){this.template=_.template(t);var i=e.utils.stash.getItem("last-login")||"",r=e.utils.stash.getItem("last-pw")||"";return this.$el.html(this.template({logo:e.templates.logo(),user:i,pw:r})),$("body").removeClass("loading"),e.controls.renderPasswordFields(this),this.toggleRemember(),this.$el.find(".code").mask("ZZZ–ZZZ",{translation:{Z:{pattern:/[A-Za-z0-9]/}}}),this.$el}this.close()},validateContact:function(t){delete this.phone,delete this.email;var n=e.utils.validateContact(t,!0);return n.phone?(this.phone=n.phone,"phone"):n.email?(this.email=n.email,"email"):(e.alerts.error("Please enter a valid email or phone"),!1)},loginRequest:function(t){t.preventDefault(),e.utils.stash.removeItem("activation");var n,i=this.$el.find(".login .username").val(),r=this.validateContact(i),s=this.email||this.phone;if(!r)return!1;n=r;var o={password:$(".login .password").val()};o[n]=s;var a=[];for(var u in o)o[u]||($("."+u).parent().addClass("error"),a.push(e.utils.capitalize(u)));return a.length>0?(a.length>1?e.alerts.error("You have omitted required fields: "+a.join(", ")):e.alerts.error(a+" is a required field"),!1):(this.rememberForget(),void e.controls.login(o))},toggleRemember:function(t){this.$el.find("#remember-me").is(":checked")?e.utils.stash.setItem("remember-me",!0):e.utils.stash.setItem("remember-me",!1),this.rememberForget()},rememberForget:function(){if("true"==e.utils.stash.getItem("remember-me")){var t=this.$el.find(".username").val(),n=this.$el.find(".password").val();e.utils.stash.setItem("last-login",t),e.utils.stash.setItem("last-pw",n)}else e.utils.stash.removeItem("last-login"),e.utils.stash.removeItem("last-pw")},showLogin:function(){console.log("showLogin"),console.log(this.$el.find(".login")),this.$el.find(".login").addClass("visible"),this.$el.find(".forgot, .reset").removeClass("forgot-sent visible")},showForgot:function(){this.$el.find(".login, .reset").removeClass("visible");var e=this.$el.find(".forgot").removeClass("end").addClass("visible begin");e.find(".reset-code .code").removeAttr("required"),e.find(".username").prop("disabled",!1),this.$el.find(".username").focus()},showForgot2:function(){var e=this.$el.find(".forgot").addClass("end").removeClass("begin");e.find(".reset-code .code").val("").attr("required","required").focus(),e.find(".username").prop("disabled",!0),this.$el.find(".code").focus()},showReset:function(){this.$el.find(".login").removeClass("visible");var e=this.$el.find(".forgot").removeClass("visible end").addClass("begin");e.find(".reset-code .code").removeAttr("required");this.$el.find(".reset").addClass("visible");this.$el.find(".password").focus()},submitForgot:function(t){t.preventDefault();var n,i=this,r=this.$el.find(".forgot .username").val(),s=this.validateContact(r),o=this.email||this.phone;if(!s)return!1;n=s;var a={};a[n]=o,e.session.postPassword(a).then(function(){var t="Thanks, we sent you a";t+="phone"===n?" text message":"n email",t+=" with a verification code.",e.alerts.success(t),i.showForgot2()}).fail(function(t){e.controls.handleError(t)})},submitCode:function(t){t.preventDefault();var n=this,i=this.email||this.phone,r=this.email?"email":"phone",s=$.trim(this.$el.find(".forgot .code").val().toUpperCase());if(7!==s.length)return e.alerts.error("Please enter a valid code."),!1;var o={code:s};o[r]=i,e.session.putPassword(o).then(function(){e.alerts.success("Please enter a new password"),n.code=s,n.showReset()}).fail(function(){e.alerts.error("The code you have entered is invalid.")})},submitReset:function(t){t.preventDefault();var n=this.email||this.phone,i=this.email?"email":"phone",r=this.code,s=this.$el.find(".reset .password").val(),o=this.$el.find(".reset .password-confirm").val();if(s!==o)return e.alerts.error("Passwords must match"),!1;var a={password:s,code:r};a[i]=n,this.verifyLogin(a)},submitResetToken:function(t){t.preventDefault();var n=this.email||this.phone,i=this.email?"email":"phone",r=this.token,s=this.$el.find(".reset .password").val(),o=this.$el.find(".reset .password-confirm").val();if(s!==o)return e.alerts.error("Passwords must match"),!1;var a={password:s,token:r};a[i]=n,this.verifyLogin(a)},saveToken:function(){this.token=window.location.search.slice(1),this.$el.find(".reset").removeClass("reset-code").addClass("reset-token")},verifyLogin:function(t){console.log(t);var n=this;e.session.putPassword(t).then(function(i){e.alerts.success("Password succesfully reset!");var r,s;i?(r=i.email||i.phone,s=i.email?"email":"phone"):(r=n.email||n.phone,s=n.email?"email":"phone");var o={password:t.password};o[s]=r,e.controls.login(o)}).fail(function(t){e.controls.handleError(t)})}}))}),define("text!templates/account/account-activation.html",[],function(){return'<div class="container loading">\n  <div class="step scroll-container"></div>\n  <div class="breadcrumbs"></div>\n</div>'}),define("view/account/Activate",["app","text!templates/account/account-activation.html"],function(e,t){return Backbone.View.extend({className:"activation dark",template:_.template(t),events:{"click .breadcrumb":"goToStep"},dwolla_data:{},initialize:function(t){t&&_.extend(this,t);var n=e.models.AccountModel;if(this.user=this.user?new n(this.user):e.session.user,this.user.get("status.active")===!1)e.utils.stash.removeItem("authorization"),e.utils.stash.removeItem("refresh");else if(e.session.get("logged_in")===!1)return e.router.navigate("/",{trigger:!0,replace:!0}),e.alerts.error("You have already activated your account, please log in");return this.$el.html(this.template()),this.$el.append(e.templates.logo()),this.render(),this},updateUser:function(e){_.extend(this.user,e),this.initialize()},render:function(){$("body").removeClass("loading");return this.renderSteps(),this},checkStep:function(){for(var e=0;e<this.steps.length;e++){var t=this.steps[e];if(!t.value){this.currentStep=t,this.showStep(t);break}e===this.steps.length-1&&this.loginAndClose()}},renderSteps:function(){if(this.steps=e.utils.getOnboardingSteps(this.user.toJSON()),console.log(this.steps),this.steps.length>1)for(var t=0;t<this.steps.length;t++){var n=$("<a>",{href:"#",class:"breadcrumb","data-name":this.steps[t].name,"data-step":t});this.$el.find(".breadcrumbs").append(n)}this.$el.find(".container").append($('<div class="fade"></div>')),this.fade=this.$el.find(".fade"),this.checkStep()},showStep:function(t){var n=this;e.utils.loadView.get("account/activate/"+t.name).then(function(e){n.currentView=new e({step:t,parentView:n});var i=t.options.background;n.$el.css("background-color",i).find(".step").html(n.currentView.$el),n.fade.css("box-shadow","inset 0 -19px 10px -12px "+i),n.updateBreadcrumbs(t),n.$el.find(".container").removeClass("loading")})},updateBreadcrumbs:function(e){var t=e.index;this.$el.find(".breadcrumb").removeClass("current");for(var n=0;n<=t;n++)this.$el.find('.breadcrumb[data-step="'+n+'"]').addClass("active");this.$el.find('.breadcrumb[data-step="'+t+'"]').addClass("current")},next:function(){var e=this.currentStep.index+1;return e>this.steps.length-1?void this.loginAndClose():(this.currentStep=this.steps[e],void this.showStep(this.currentStep))},loginAndClose:function(){var t=this;e.router.checkAuth().then(function(){t.close()}).fail(function(){e.controls.login().then(function(){t.close()})})},goToStep:function(e){var t=$(e.currentTarget).attr("data-step");this.currentStep=this.steps[t],this.showStep(this.currentStep)},setDwollaData:function(e){_.extend(this.dwolla_data,e)}})}),define("router",["app","view/account/Login","view/account/Activate"],function(e,t,n){var i=Backbone.Router.extend({initialize:function(){var t=this;this.on("route",function(n,i){return e.alerts.dismiss(),e.session.get("logged_in")?void t.hasPermission():(e.session.once("change:logged_in",t.hasPermission,t),!0)})},routes:{"":"default","dashboard/:id":"renderApp","dashboard/:id/:bid":"renderLayer",dashboard:"renderApp",companies:"renderApp","companies/:id":"renderLayer",superadmins:"renderApp","superadmins/:id":"renderLayer",admins:"renderApp","admins/:id":"renderLayer",managers:"renderApp","managers/:id":"renderLayer",tenants:"renderApp","tenants/:id":"renderLayer",landlords:"renderApp","landlords/:id":"renderLayer",properties:"renderApp","properties/:id":"renderLayer","properties/:id/:units":"renderLayer","properties/:id/:units/:uid":"renderLayerPanel",rentroll:"renderApp","rentroll/:id":"renderLayer",leases:"renderApp","leases/:id":"renderLayer",myleases:"renderApp","myleases/:id":"renderLayer",bills:"renderApp","bills/:id":"renderLayer",account:"renderApp","account/:id":"renderApp",forgot:"showForgot","password?:id":"showReset","confirm?:id":"handleConfirm","activate?:id":"handleActivate","decline?:id":"renderDecline",ledger:"renderApp","ledger/:id":"renderLayer",webhooks:"renderApp",webhookEvents:"renderApp",400:"permissionDenied","*path":"notFound"},permissions:{companies:["superadmin"],"companies/*":["superadmin"],superadmins:["superadmin"],"superadmins/*":["superadmin"],admins:["superadmin","admin"],"admins/*":["superadmin","admin"],managers:["superadmin","admin","manager"],"managers/*":["superadmin","admin","manager"],tenants:["superadmin","admin","manager"],"tenants/*":["superadmin","admin","manager"],landlords:["superadmin","admin","manager"],"landlords/*":["superadmin","admin","manager"],"account/contact":["admin","manager","tenant","landlord"],"account/payment":["admin","manager","tenant"],"account/transfers":["manager","tenant"],"account/data":["superadmin","admin"],"account/company":["admin"],properties:["superadmin","admin","manager"],"properties/*":["superadmin","admin","manager"],"properties/*/units":["superadmin","admin","manager"],"properties/*/units/*":["superadmin","admin","manager"],leases:["superadmin","admin","manager"],"leases/*":["superadmin","admin","manager"],"myleases/*":["tenant"],bills:["superadmin","admin","manager"],"bills/*":["superadmin","admin","manager","tenant"],ledger:["superadmin","admin","manager"],"ledger/*":["superadmin","admin","manager"],rentroll:["superadmin","admin","manager"],"rentroll/*":["superadmin","admin","manager"]},hasPermission:function(){var t=this,n=this.getPath(),i=e.session.get("user_role"),r=!1;return _.each(this.permissions,function(e,t){if(!r&&t.contains("*")){var i=t;i=i.replace(/\*/g,"\\w*");var s=new RegExp("^"+i+"$");n.match(s)&&(r=!0,n=t)}}),!(this.permissions[n]&&!this.permissions[n].contains(i))||(t.navigate("400",{trigger:!0,replace:!0}),!1)},getPath:function(){return Backbone.history.getFragment().split("?")[0]},getPathArray:function(){return this.getPath().split("/")},getRoute:function(){return this.getPath().split("/")[0].split("?")[0]},getPage:function(){return this.getPath().split("/").slice(-1).toString()},checkAuth:function(){var t=this,n=new $.Deferred;if(t.previous=t.current,t.current=t.getRoute(),this.loaded)return e.session.get("logged_in")&&t.hasPermission()?n.resolve():n.reject();var i=e.utils.stash.getItem("refresh");return i?(e.session.refresh().always(function(){t.loaded=!0}).then(function(t){return e.session.updateSessionUser(t),e.session.set({logged_in:!0,user_role:e.session.user.get("role")}),n.resolve()}).fail(function(){return t.storeReferer(),n.reject()}),n.promise()):(this.loaded=!0,t.storeReferer(),n.reject())},storeReferer:function(){var t=this.getPath();return!["/","activate"].contains(t)&&void(e.session.referer=t)},default:function(){var e=this;this.checkAuth().then(function(){e.navigate("dashboard",{trigger:!0,replace:!0})}).fail(function(){e.renderLogin()})},renderApp:function(t,n){var i;n&&n.contains("ckcachecontrol")&&(n=""),["account","dashboard"].contains(this.getRoute())&&(i=this.getPathArray()[1]),t=this.getRoute();var r=n||t,s=this,o=$.Deferred();return this.checkAuth().then(function(){s.loginView&&(s.loginView.close(),delete s.loginView),e.views.appView?e.views.appView.render(r,i).then(function(){return o.resolve()}):e.utils.loadView.get("AppView").then(function(e){var t=new e;t.render(r,i).then(function(){return o.resolve()})})}).fail(function(){s.navigate("/",{trigger:!0,replace:!0})}),o.promise()},renderView:function(t){var n;"dashboard"==this.getRoute()?(n="mybill",t=this.getPage(),e.views.appView.renderModel(n,t)):(n="units"==this.getPage()?this.getPage():this.getRoute(),e.views.appView.renderModel(n,t))},renderLayer:function(t){var n;t&&(n=t);var i=this;this.checkAuth().then(function(){e.views.appView&&i.previous===i.current?i.renderView(n):i.renderApp(n).then(function(){i.renderView(n)})}).fail(function(){i.navigate("/",{trigger:!0,replace:!0})})},renderLayerPanel:function(t,n,i){var r=this;this.checkAuth().then(function(){e.views.appView?e.views.appView.renderUnit(t,i):r.renderApp().then(function(){e.views.appView.renderModel(n,t).then(function(){e.views.appView.renderUnit(t,i)})})}).fail(function(){r.navigate("/",{trigger:!0,replace:!0})})},handleConfirm:function(){var t=this,n={token:e.url.query_string()};e.session.verifyCode(n).then(function(n){e.session.updateSessionUser(n),e.session.set("logged_in",!0),t.loaded=!0,t.navigate("account/contact",{trigger:!0,replace:!0}),e.controls.wait(800).then(function(){e.alerts.success("Thanks for verifying your contact method!")})}).fail(function(n){t.renderApp(),e.alerts.error("Sorry, your confirmation link is invalid")})},handleActivate:function(){var t=this;e.views.activateView||this.checkAuth().then(function(){e.alerts.error("You must log out before activating a new account"),e.router.navigate("/dashboard",{trigger:!1,replace:!0}),t.renderApp()}).fail(function(){var n={token:e.url.query_string()};e.session.verifyAuthentication(n).then(function(e){t.renderActivate(e)}).fail(function(n){e.alerts.error("Your invitation token has expired."),t.renderLogin()})})},renderActivate:function(t){e.views.activateView=new n({user:t}),$("main").html(e.views.activateView.$el)},renderLogin:function(){e.views.loginView?e.views.loginView.trigger("showLogin"):(e.views.loginView=new t,$("main").html(e.views.loginView.$el))},renderDecline:function(){e.views.declineView||e.utils.loadView.get("account/Decline").then(function(t){e.views.declineView=new t,$("main").html(e.views.declineView.$el)})},showForgot:function(){e.views.loginView||(e.views.loginView=new t,$("main").html(e.views.loginView.render())),e.views.loginView.trigger("showForgot")},showReset:function(n){var i=this;e.views.loginView||(e.views.loginView=new t,$("main").html(e.views.loginView.render()));var r={token:n};e.session.putPassword(r).then(function(t){e.views.loginView.user=t,e.views.loginView.trigger("showReset"),e.views.loginView.trigger("saveToken")}).fail(function(){e.alerts.error("Your reset link has expired"),i.navigate("/",{trigger:!0,replace:!0})})},permissionDenied:function(){this.renderApp("400")},notFound:function(){this.renderApp(null,"404")}});return i}),define("model/users/UserModel",["app"],function(e){var t=e.Model.extend({name:"user",displayName:"full_name",initialize:function(e,t){t||(t={}),this.options||(this.options={}),this.options=_.extend(this.options,t),this.options.role||(this.options.role="users"),this.on("change:phone_pretty",this.updatePhone,this)},urlRoot:function(){return e.API()+this.options.role+"/"},defaults:{first_name:"",last_name:""},schema:{phone:{type:"phone"},charges:[{amount:{type:"money"},phone:{type:"phone"}}]},filters:["full_name","role","profile","phone_pretty","initials","status","created","updated","intials"],full_name:Backbone.computed("first_name","last_name",function(){return this.isNew()?"":_.escape(this.get("first_name")+" "+this.get("last_name")||"")}),initials:Backbone.computed("first_name","last_name",function(){return this.isNew()?"":_.escape(this.get("first_name")[0]+""+this.get("last_name")[0]).toUpperCase()}),profile:Backbone.computed("_id","role",function(){var e=this.get("role");if(e)return"/"+e+"s/"+this.get("_id")}),phone_pretty:Backbone.computed("phone",function(){var t=this.get("phone");if(t)return e.utils.prettyPhone(t)}),dwolla_account:Backbone.computed("role","dwolla","company",function(){var e=this.get("role");if(["admin","tenant"].contains(e)){var t="";return"admin"===e&&(t="company."),t+="dwolla",this.get(t)}}),updatePhone:function(){var t=e.utils.uglyPhone(this.get("phone_pretty"));
this.set("phone",t)},validation:{first_name:{required:!0,maxLength:60},last_name:{required:!0,maxLength:60},email:function(t,n,i){return t?t&&!e.utils.validateContact(t)?"Please enter a valid email address":void 0:"Email is required"},phone:function(t,n,i){if(t&&!e.utils.validateContact(t))return"Please enter a valid phone number"}},resendInvitation:function(t,n){t||(t={});var i=this.get("role")+"s/"+this.id+"/reinvite",r=$.Deferred();return e.utils.request({data:t,path:i}).success(function(e){return r.resolve(e)}).error(function(e){return r.reject(e)}),r},unremove:function(t,n){t||(t={});var i=this.get("role")+"s/"+this.id+"/unremove",r=$.Deferred();return e.utils.request({data:t,path:i,method:"PUT"}).success(function(e){return r.resolve(e)}).error(function(e){return r.reject(e)}),r}});return t}),define("model/account/AccountModel",["app","model/users/UserModel"],function(e,t){var n=t.extend({name:"account",initialize:function(e,t){t||(t={}),this.options||(this.options={}),_.extend(this.options,t),this.options.action||(this.options.action="")},url:function(){return e.API()+"account/"+this.options.action}});return n}),define("model/session/SessionModel",["app","model/account/AccountModel"],function(e,t){var n=Backbone.Model.extend({defaults:{logged_in:!1,user_role:null},tokens:{},initialize:function(){this.updateAjaxSetup(),e.models.AccountModel=t,this.user=new t,this.bind("change:logged_in",this.updateSession,this)},url:function(){return e.API()},isSuperAdmin:function(){return"superadmin"==this.get("user_role")},isAdmin:function(){return"admin"==this.get("user_role")},isManager:function(){return"manager"==this.get("user_role")},isTenant:function(){return"tenant"==this.get("user_role")},isLandlord:function(){return"landlord"==this.get("user_role")},isOnboarded:function(t){if(e.config.debug&&e.utils.stash.getItem("bypass-activation"))return!0;var n=t||e.session.user.toJSON();if(["superadmin"].contains(n.role))return!0;var i=e.utils.getOnboardingSteps(n);return!!i&&!i.some(function(e){return!e.value})},setTokens:function(t){return t.authorization&&e.utils.stash.setItem("authorization",t.authorization),t.refresh&&e.utils.stash.setItem("refresh",t.refresh),t.activation&&e.utils.stash.setItem("activation",t.activation),this.updateAjaxSetup(),this},updateSession:function(){e.utils.stash.removeItem("activation"),this.get("logged_in")?(this.tokens={},this.set("user_role",this.user.get("role"))):(e.utils.stash.setItem("last-login",this.user.get("email")||this.user.get("phone")),e.utils.stash.removeItem("authorization"),e.utils.stash.removeItem("refresh"),this.user.clear().set(this.user.defaults),e.collections.companies&&(e.collections.companies.reset(),delete e.collections.companies),e.views.accountView&&(e.views.accountView.model.clear(),delete e.views.accountView),e.views.appView&&(e.views.appView.close(),delete e.views.appView),e.views.activateView&&(e.views.activateView.close(),delete e.views.activateView),e.views.currentView&&(e.views.currentView.close(),delete e.views.currentView))},updateAjaxSetup:function(){var t=this;$.ajaxSetup({contentType:"application/json",dataType:"json",beforeSend:function(n){t.injectHeader(n,"Authorization",e.utils.stash.getItem("authorization"));var i=e.utils.stash.getItem("activation");i&&t.injectHeader(n,"Activation",i),t.tokens.pass&&t.injectHeader(n,"Password",t.tokens.pass)}})},updateSessionUser:function(e){this.user.set(e),this.setTokens({authorization:e.session.authorization_token,refresh:e.session.refresh_token})},injectHeader:function(e,t,n){var i=n;return n||(i=""),e.setRequestHeader(t,i),e},login:function(t,n){t||(t={});var i=!!t.refresh;return e.utils.request({path:"users/login",method:"POST",data:t.data,refresh:i},n)},logout:function(t){return e.utils.request({path:"users/logout",method:"POST",refresh:!0},t)},refresh:function(t,n){return t||(t={}),e.utils.request({path:"users/tokens",method:"GET",data:t.data,refresh:!0},n)},postPassword:function(t,n){return e.utils.request({data:t,path:"users/password",method:"POST"},n)},putPassword:function(t,n){return e.utils.request({data:t,path:"users/password",method:"PUT"},n)},setPassword:function(t,n){return e.utils.request({data:t,path:"users/activate/password",method:"POST"},n)},verifyCode:function(t,n){return e.utils.request({data:t,path:"users/contact",method:"PUT"},n)},verifyAuthentication:function(t,n){var i=this,r=e.utils.request({data:t,path:"users/activate/contact",method:"PUT"},n);return r.then(function(e){e.session&&e.session.activation_token&&i.setTokens({activation:e.session.activation_token})}),r},requestAuthentication:function(t,n){return e.utils.request({data:t,path:"users/activate/contact",method:"POST"},n)},updateLease:function(t,n){return e.utils.request({data:t,path:"users/activate/leases",method:"PUT"},n)},declineInvitation:function(t,n){return e.utils.request({data:t,path:"users/activate/decline",method:"POST"},n)},refreshTokens:function(){var t=this,n=new $.Deferred;return e.utils.request({path:"users/tokens",method:"GET",refresh:!0}).then(function(e){return t.updateSessionUser(e||{}),n.resolve(e)}).fail(function(t){return e.router.navigate("/",{trigger:!0,replace:!0}),n.reject(t)}),n}});return n}),define("text!templates/alert.html",[],function(){return'<div class="alert type-{{{ alert.type }}}">\n\n\t{{# if (alert.type === \'warn\') { }}\n\t\t<div class="type icon error"></div>\n\t{{# } else if (alert.type === \'error\') { }}\n\t\t<div class="type icon error white"></div>\n\t{{# } else if (alert.type === \'success\') { }}\n\t\t<div class="type icon success white"></div>\n\t{{# } }}\n\n\t<span>{{{ alert.message }}}</span>\n\n\t<a href="#" class="icon action-close">\n\t\t<svg viewBox="-139 146 40 40" stroke-width="2"><line x1="-135.3" y1="149.7" x2="-102.7" y2="182.3"/><line x1="-135.3" y1="182.3" x2="-102.7" y2="149.7"/></svg>\n\t</a>\n\n\t<div class="progress"></div>\n\n</div>'}),define("view/AlertView",["app","text!templates/alert.html"],function(e,t){return Backbone.View.extend({events:{click:"closeAlert",mouseenter:"delayTimeout",mouseleave:"beginTimeout"},duration:6e3,template:_.template(t),initialize:function(t){e.alerts.dismiss(),e.views.alertView=this,this.render(t)},render:function(e){var t=this;this.$el.html(this.template({alert:e})),this.$alert=this.$el.find(".alert");var n=setTimeout(function(){t.$alert.addClass("current"),clearTimeout(n)},10);return this.beginTimeout(),this},beginTimeout:function(){var e=this;this.$alert.removeClass("restart"),this.autoClose=setTimeout(function(){e.closeAlert(),clearTimeout(this.autoClose)},this.duration)},delayTimeout:function(){this.$alert.addClass("restart"),clearTimeout(this.autoClose)},closeAlert:function(t){var n=this;clearTimeout(this.autoClose),delete e.views.alertView,this.$alert.fadeOut(300,function(){n.close()})}})}),define("text!templates/modals/modal-dialog.html",[],function(){return'<div class="modal dialog">\n  <h2 class="message"><%- dialog.message %></h2>\n\n\t<footer>\n\t  <div class="actions right">\n\t    <a href="#" class="btn action-cancel">Cancel</a>\n\t    <a href="#" class="btn btn-primary action-confirm">Confirm</a>\n\t  </div>\n\t</footer>\n</div>\n\n<div class="overlay"></div>'}),define("view/modals/ModalDialogView",["backbone","text!templates/modals/modal-dialog.html"],function(e,t){return e.View.extend({events:{keyup:"keyControl","click .action-confirm":"confirm","click .action-cancel":"closeModal","click .overlay":"closeModal"},keyControl:function(e){if(e.preventDefault(),27===e.which)this.closeModal();else if(13===e.which){if(this.app.utils.getFocused().parentNode.className.contains("actions"))return;this.confirm()}},template:_.template(t),initialize:function(e){e&&_.extend(this,e),this.app.views.appView&&this.app.views.appView.trigger("modalOpened"),this.app.views.modalView=this},render:function(){return this.eventName||(this.eventName="confirm"),this.$el.html(this.template({dialog:this.model})),$(".modal-container").html(this.$el).addClass("visible"),this.$el.find(".action-confirm").focus(),this},closeModal:function(){$(".modal-container").removeClass("visible"),this.app.views.appView&&this.app.views.appView.trigger("modalClosed"),this.close()},confirm:function(){this.context.trigger(this.eventName),this.closeModal()}})}),define("text!templates/modals/modal-confirm.html",[],function(){return'<div class="modal model confirm">\n  <header>\n    <h2 class="color-bg-error"><span class="icon error"></span> {{{ dialogue.message }}}</h2>\n  </header>\n  <div class="content">\n    <div class="form-model">\n  \n      {{# if (warning) { }}\n      <div class="field-group">\n        <h3>{{{ warning }}}</h3>\n      </div>\n      {{# } }}\n\n      {{# if (data_summary) { }}\n      <div class="field-group data-summary">\n        {{{ data_summary }}}\n      </div>\n      {{# } }}\n\n      <div class="field-group">\n        <h3>Please enter your password to continue. This action cannot be undone.</h3>\n      </div>\n\n      <div class="field-group">\n        <legend>Password</legend>\n        <input name="password" type="password" class="password" required />\n        <span class="help-text"></span>\n      </div>\n\n      <div class="field-group">\n        <input type="checkbox" id="confirm"><label for="confirm">I understand</label>\n        <span class="help-text"></span>\n      </div>\n\n    </div>\n  </div>\n  <footer>\n    <div class="actions right">\n      <a href="#" class="btn action-cancel">Cancel</a>\n      <a href="#" class="btn btn-primary action-confirm">Confirm</a>\n    </div>\n  </footer>\n</div>\n\n<div class="overlay"></div>'}),define("view/modals/ModalConfirmView",["model/account/AccountModel","text!templates/modals/modal-confirm.html"],function(e,t){return Backbone.View.extend({events:{"click .action-confirm":"confirm","click .action-cancel":"closeModal","click .overlay":"closeModal",keyup:"keyControl"},template:_.template(t),keyControl:function(e){if(27===e.which)this.closeModal();else if(13===e.which){if(this.app.utils.getFocused().parentNode.className.contains("actions"))return;this.confirm()}},initialize:function(e){e&&_.extend(this,e),this.model=this.context.model,this.app.views.appView.trigger("modalOpened"),this.app.views.modalView=this,this.render()},render:function(){var e={message:this.message},t=this,n=Object.keys(this.data).map(function(e,n,i){if("tenant"!==e)return e+": "+t.data[e].length}).join(", ");return this.$el.html(this.template({warning:this.warning(),data_summary:n,dialogue:e})),$(".modal-container").html(this.$el).addClass("visible"),this.$el.find(".password").focus(),this.delegateEvents(),this},warning:function(){var e;return this.data.tenant?(e="Deleting this tenant will remove them from their lease",this.data.leases.length>1&&(e+="s"),e+="!"):e="Deleting this "+this.model.name+" will also delete its data!",e},closeModal:function(){$(".modal-container").removeClass("visible"),this.app.views.appView.trigger("modalClosed"),this.close()},refuse:function(){this.app.controls.modalShake(this)},confirm:function(e){var t=this,n=this.$el.find("#confirm"),i=n.is(":checked");i||this.app.controls.fieldError({element:n,type:"error",error:"Please confirm"});var r=this.$el.find(".password"),s=r.val();return s||this.app.controls.fieldError({element:r,type:"error",error:"Please enter your password"}),i&&s?(this.app.session.tokens.pass=s,void this.context[this.method](null,!0).then(function(){t.context.trigger("hardConfirm"),t.closeModal()}).fail(function(e){t.refuse(),e.responseJSON&&"incorrect_password"==e.responseJSON.error&&t.app.controls.fieldError({element:r,type:"error",error:"Incorrect password"})})):void this.refuse()}})}),require(["app","router","model/session/SessionModel","view/AlertView","view/modals/ModalDialogView","view/modals/ModalConfirmView","https://cdn.ravenjs.com/3.9.1/raven.min.js"],function(e,t,n,i,r,s,o){e.session=new n,e.router=new t,_.extend(e,{alerts:{display:function(e,t){var n=new i({type:e,message:t});return $(".alerts").append(n.$el),this},dismiss:function(){return e.views.alertView&&e.views.alertView.closeAlert(),this},success:function(e){return this.display("success",e),this},warn:function(e){return this.display("warn",e),this},error:function(e){return this.display("error",e),this}},controls:{login:function(t,n){var i=e.session.login({data:t});return i.then(function(t){e.router.loaded=!0,e.session.updateSessionUser(t||{}),e.session.set("logged_in",!0);var i=e.session.referer||"dashboard";e.router.navigate(i,{trigger:!0,replace:!0}),n&&e.alerts.success("Successfully logged in!")}).fail(function(t){var n=t.responseJSON&&t.responseJSON.message;e.controls.handleError(t,n)}),i},logout:function(){e.controls.loadLock(!0);var t=e.session.logout();return t.always(function(t){e.session.set("logged_in",!1),e.controls.loadLock(!1)}).fail(function(t){e.controls.handleError(t)}),t},wait:function(e){var t=$.Deferred(),n=setTimeout(function(){return clearTimeout(n),t.resolve()},e);return t},modalConfirm:function(t,n,i){return this.modal=new r({model:{message:t},context:i,eventName:n,app:e}).render(),this.modal},modalHardConfirm:function(t,n,i,r){return this.modal=new s({message:t,context:n,method:i,data:r,app:e}).render(),this.modal},renderPasswordFields:function(e){var t=e.$el.find('input[type="password"]');$.each(t,function(e,t){var n=$('<div class="pw-container"></div>'),i=$('<div href="#" class="pw-toggle"></div>');$(t).wrap(n).after(i),i.on("click",function(e){$(t).hasClass("password-visible")?$(t).removeClass("password-visible").attr("type","password"):$(t).addClass("password-visible").attr("type","text")})})},fieldError:function(t){return t.constructor==Array?t.forEach(function(t){e.controls.renderError(t)}):t.constructor==Object&&e.controls.renderError(t),this},renderError:function(e){var t=e.error?"error":"message",n=e[t];$(e.element).closest(".field-group").addClass("has-"+t).find(".help-text").html(n);return this},loadLock:function(e){if(e===!0)this.appendLoader();else if(e===!1)this.removeLoader();else if(void 0===e){var t;t=document.querySelector(".full-page.loading"),t?this.removeLoader():this.appendLoader()}return this},appendLoader:function(){var e;e=document.createElement("div"),e.className="full-page loading",document.body.appendChild(e)},removeLoader:function(){var e;e=document.querySelector(".full-page.loading"),e.remove()},smartRender:function(t,n){t.companies=!1;var i=$.Deferred(),r=[e.collections.companies];n&&n.superadmin&&_.extend(r,n.superadmin);var s=n||{};s.superadmin=r;var o=e.session.get("user_role"),a=s[o];if(!a)return i.resolve();var u=a.length,l=e.utils.promises(u);return _.each(a,function(t,n){t.fetch().then(function(e){l[n].resolve()}).fail(function(t){e.controls.handleError(t)})}),$.when.apply($,l).then(function(){i.resolve()}),i},handleError:function(t,n,i,r){404==t.status?e.alerts.error(n||"Something went wrong..."):["dwolla_api_error","dwolla_api_communication_error"].contains(t.responseJSON.error)?e.alerts.error("It looks like our payment processor is experiencing problems"):"dependency_error"==t.responseJSON.error?e.controls.modalHardConfirm("Please confirm your password",i,r,t.responseJSON.data):"server_error"==t.responseJSON.error?(e.alerts.error(n||"Something went wrong..."),e.config.console&&console.error(t)):t.responseJSON&&t.responseJSON.message?e.alerts.error(t.responseJSON.message):(e.alerts.error(n||"Something went wrong..."),e.config.console&&console.error(t),e.config.bug_reporting&&o.captureException(t))},smartTextarea:function(e){var t=e.$el.find("textarea");if(0!==t.length)return t.attr("data-size",t[0].scrollHeight),t.on("keyup keydown",function(){var e=$(this);""===e.val()?e.css({height:"33px"}):e.attr("data-size")!==e[0].scrollHeight&&(e.css({height:e[0].scrollHeight}),e.attr("data-size",e[0].scrollHeight))}),t},modalShake:function(e){var t=e.$el.find(".modal");if(t.length>0){t.addClass("shake");var n=setTimeout(function(){t.removeClass("shake"),clearTimeout(n)},600)}return this},maskMoney:function(t,n,i){"undefined"==typeof i&&(i=7);var r=new Array(i+1).join("z"),s=n.$el.find(t);return s.mask(r,{translation:{z:{pattern:/[0-9\.]/}}}),s.on("change",function(t){var n=$(t.target),i=n.val(),r=e.utils.validateMoney(i);r?e.controls.fieldError({element:n,error:"Please enter a valid amount"}):n.val().contains(".")&&(".00"==n.val().slice(-3)?n.val(n.val().slice(0,-3)):".0"==n.val().slice(-2)?n.val(n.val().slice(0,-2)):1===n.val().split(".")[1].length&&n.val(n.val()+"0"))}),s},hideTertiary:function(){var t=this;if(!this.hidingTertiary){var n=e.router.getRoute();return e.router.navigate(n,{trigger:!1}),e.router.trigger("route"),$(".row.selected").removeClass("selected"),this.hidingTertiary=!0,$("body").addClass("tertiary-hidden").one(e.utils.transitionEvent,function(){var n=e.views.modelView||e.views.unitsView;n.close(),delete e.views.modelView,delete e.views.unitsView,delete e.views.currentView.selected,delete t.hidingTertiary}),e.views.unitView&&this.hideQuarternary({trigger:!0}),this}},hideQuarternary:function(t){var n=this;if(!this.hidingQuarternary){if(t&&t.trigger){var i=e.router.getPath().split("/");i.pop(),i=i.join("/"),e.router.navigate(i,{trigger:!1}),e.router.trigger("route")}return $(".tertiary .row.selected").removeClass("selected"),e.views.unitView.$el.removeClass("active"),this.hidingQuarternary=!0,$("body").addClass("quarternary-hidden").one(e.utils.transitionEvent,function(){e.views.unitView&&e.views.unitView.close(),delete e.views.unitView,delete e.views.currentView.selected,delete n.hidingQuarternary}),this}}}});var a=!(!window.history||!history.pushState);if(a?Backbone.history.start({pushState:!0,root:e.url.base_path}):Backbone.history.start(),e.config.debug&&e.utils.loadView.get("DebugView").then(function(t){e.views.debugView=new t}),e.config.bugherd){var u=document.createElement("script"),l=document.getElementsByTagName("script")[0];u.type="text/javascript",u.src="https://www.bugherd.com/sidebarv2.js?apikey="+e.config.bugherd_key,l.parentNode.insertBefore(u,l)}e.config.sentry&&o.config(e.config.sentry_dsn,{ignoreUrls:[/10.1.10.38:81/,/payment.rafiproperties.com/]}).install(),window.onerror=function(t,n,i,r,s){e.config.sentry&&(o.captureException(s),o.showReportDialog())},$(document).ajaxError(function(t,n,i){e.config.bug_reporting&&500===n.status&&n.responseJSON&&n.responseJSON.event_id&&o.showReportDialog({eventId:n.responseJSON.event_id,dsn:n.responseJSON.public_dsn})}).on("click",'a[href^="/"]:not([data-bypass])',function(t){t.preventDefault();var n=$(this).attr("href");e.router.navigate(n,{trigger:!0,replace:!1})}).on("click",'a[href="#"]:not([data-bypass])',function(e){e.preventDefault()}).on("click",".action-toggle-nav",function(e){$(this).toggleClass("active"),$("nav").toggleClass("active")}).on("keyup",".has-error input",function(){$(this).closest(".field-group").removeClass("has-error"),$(this).closest(".help-text").text("")}).on("change",".has-error input",function(){$(this).hasClass("chosen")||($(this).closest(".field-group").removeClass("has-error"),$(this).closest(".help-text").text(""))}).on("click",".has-error .chosen-container",function(){$(this).closest(".field-group").removeClass("has-error"),$(this).closest(".help-text").text("")}).on("keyup",".focus-chain",function(e){var t,n=String.fromCharCode(e.which);if(t=$(this).hasClass("numbers-only")?/\d/:$(this).hasClass("letters-only")?/[a-z]/i:/[a-z]\d/i,n.match(t)&&(console.log($(this).attr("maxlength")),!($(this).attr("maxlength")&&$(this).val().length<$(this).attr("maxlength")))){var i=$(".focus-chain"),r=i.length,s=i.index($(this));++s!==r&&i[s].focus()}}).on("click",".jasmine-version",function(e){e.preventDefault(),$(this).closest(".jasmine_html-reporter").removeClass("visible")}),Backbone.ajax=function(){var t=arguments,n=Backbone.$.ajax.apply(Backbone.$,t),i=$.Deferred();return n.always(function(i,r,s){if(e.session.tokens.pass&&delete e.session.tokens.pass,s&&s.responseJSON){if("token_expired"!=s.responseJSON.error)return n.resolve(i,r,s);e.session.refreshTokens().then(function(){Backbone.$.ajax.apply(Backbone.$,t).then(function(e,t,i){return n.resolve(e,t,i)},function(e){return n.reject(e)})})}}).fail(function(e){return n.reject(e)}),_.extend(n,i),n}}),define("main",function(){}),require.config({waitSeconds:60,baseUrl:location.origin+"/js/build/1483717107/",paths:{jquery:"vendor/jquery.min","jquery.mask":"vendor/jquery.mask.min","jquery.auto-complete":"vendor/jquery.auto-complete.min","jquery.serialize":"vendor/jquery.serialize-object",underscore:"vendor/underscore",backbone:"vendor/backbone",async:"vendor/async",text:"vendor/text",moment:"vendor/moment.min",kalendae:"vendor/kalendae",chosen:"vendor/chosen.jquery",d3:"vendor/d3",c3:"vendor/c3",xlsx:"vendor/xlsx",jszip:"vendor/jszip",jasmine:"vendor/tests/jasmine","jasmine-html":"vendor/tests/jasmine-html","jasmine-boot":"vendor/tests/boot"},shim:{backbone:{deps:["underscore","jquery"],exports:"Backbone"},xlsx:{deps:["jszip"],exports:"XLSX"},"jasmine-html":{deps:["jasmine"]},"jasmine-boot":{deps:["jasmine","jasmine-html"]}}}),require.onError=function(e){throw e},require(["async","moment","kalendae","jquery","jquery.mask","jquery.serialize","jquery.auto-complete","chosen","main"]),define("config.build",function(){});
//# sourceMappingURL=app.build.js.map
