{"version":3,"sources":["view/account/Transfers.js"],"names":["define","app","TransferView","AccountTransfersCollection","AccountTransfersTemplate","Backbone","View","extend","className","template","_","initialize","self","this","$el","html","collection","fetch","then","render","length","each","model","find","append","removeClass"],"mappings":"AAIAA,QACE,MACA,8BACA,gDACA,2CAEF,SAASC,EAAKC,EAAcC,EAA4BC,GAEtD,MAAOC,UAASC,KAAKC,QAEnBC,UAAW,oCAEXC,SAAUC,EAAED,SAASL,GAErBO,WAAY,WACV,GAAIC,GAAOC,IAEXA,MAAKC,IAAIC,KAAKF,KAAKJ,YAEnBI,KAAKG,WAAa,GAAIb,GAEtBU,KAAKG,WAAWC,QAAQC,KAAK,WAC3BN,EAAKO,YAITA,OAAQ,WACN,GAAIP,GAAOC,IAWX,OATIA,MAAKG,WAAWI,OAAS,EAC3BP,KAAKG,WAAWK,KAAK,SAASC,GAC5BV,EAAKE,IAAIS,KAAK,cAAcC,OAAO,GAAItB,IAAeoB,MAAOA,IAASR,OAGxEF,EAAKE,IAAIS,KAAK,cAAcR,KAAK,uBAGnCF,KAAKC,IAAIW,YAAY,WACdZ","file":"Transfers.js","sourcesContent":["/**\n * account/Transfers.js\n */\n\ndefine([\n  'app',\n  'view/transfers/TransferView',\n  'collection/session/AccountTransfersCollection',\n  'text!templates/transfers/transfers.html'\n],\nfunction(app, TransferView, AccountTransfersCollection, AccountTransfersTemplate) {\n\n  return Backbone.View.extend({\n\n    className: 'account account-transfers loading',\n\n    template: _.template(AccountTransfersTemplate),\n\n    initialize: function() {\n      var self = this;\n\n      this.$el.html(this.template());\n\n      this.collection = new AccountTransfersCollection();\n\n      this.collection.fetch().then(function() {\n        self.render();\n      });\n    },\n\n    render: function() {\n      var self = this;\n\n      if (this.collection.length > 0) {\n        this.collection.each(function(model) {\n          self.$el.find('.transfers').append(new TransferView({ model: model }).$el);\n        });        \n      } else {\n        self.$el.find('.transfers').html('No transfers found.');\n      }\n\n      this.$el.removeClass('loading');\n      return this;\n    },\n\n  });\n});"]}