{"version":3,"sources":["view/modals/ModalUnremoveView.js"],"names":["define","app","ModalView","ModalUnremoveTemplate","extend","title","this","target","name","template","_","messages","success","error","initialize","_options","console","log","renderModalView","render","ready"],"mappings":"AAIAA,QACE,MACA,wBACA,6CAEF,SAASC,EAAKC,EAAWC,GAEvB,MAAOD,GAAUE,QAEfC,MAAO,WACL,MAAO,YAAcC,KAAKC,OAAOC,MAGnCC,SAAUC,EAAED,SAASN,GAErBQ,UACEC,QAAS,gCACTC,MAAO,qCAGTC,WAAY,SAASC,GACfA,GAAUL,EAAEN,OAAOE,KAAMS,GAE7BC,QAAQC,IAAIX,MAEZA,KAAKY,mBAGPC,OAAQ,WAON,MAJAb,MAAKc,OACHb,OAAQD,KAAKC,SAGRD","file":"ModalUnremoveView.js","sourcesContent":["/**\n * ModalUnremoveView.js\n */\n\ndefine([\n  'app',\n  'view/modals/ModalView',\n  'text!templates/modals/modal-unremove.html'\n],\nfunction(app, ModalView, ModalUnremoveTemplate) {\n\n  return ModalView.extend({\n\n    title: function() {\n      return 'Unremove ' + this.target.name;\n    },\n\n    template: _.template(ModalUnremoveTemplate),\n\n    messages: {\n      success: 'Unremoved target successfully',\n      error: 'The target could not be unremoved'\n    },\n\n    initialize: function(_options) {\n      if (_options) _.extend(this, _options);\n\n      console.log(this);\n\n      this.renderModalView();\n    },\n\n    render: function() {\n      var self = this;\n\n      this.ready({\n        target: this.target\n      });\n\n      return this;\n    },\n\n    // handleError: function(e) {\n    //   var error = e.responseJSON;\n    //   var message;\n\n    //   var key;\n    //   // user already exists\n    //   if (error.message.contains('duplicate', 'key')) {\n    //     message = 'There is already a user with that ';\n\n    //     if (error.data.key === 'phone') {\n    //       key = 'phone';\n    //       message += 'phone number.';\n    //     } else if (error.data.key === 'email') {\n    //       key = 'email';\n    //       message += 'email address.';\n    //     }\n\n    //     // user was previously removed\n    //     if (error.data.removed) {\n    //       if (confirm('This user was previously removed, would you like to un-remove them?')) {\n\n    //         var data = {};\n    //         data[key] = formData[key];\n\n    //         self.model.unremove(data).then(function() {\n    //           self.context.trigger(self.eventName);\n    //           self.closeModal();\n    //         }).fail(function(e) {\n    //           app.alerts.error('Sorry, we were unable to unremove that user.');\n    //           console.warn(e);\n    //         });\n    //       }\n    //       return;\n    //     }\n\n    //   } else {\n    //     message = 'Sorry, unable to create user at this time.';\n    //   }\n    // }\n\n  });\n});"]}