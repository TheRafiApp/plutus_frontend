define(["app","view/account/Profile","text!templates/headers/header-account.html"],function(e,t,a){return Backbone.View.extend({className:"tabs-view panel",events:{"click .tabs a":"toggleTab"},initialize:function(t){t&&_.extend(this,t);var i=this;e.views.accountView=this,this.template_container=_.template(a),this.model=e.session.user,this.model.fetch().then(function(){i.render()})},render:function(){return this.$el.html(this.template_container({user:this.model.toJSON()})),this.loadView(),this},loadView:function(){var t=this,a="profile",i=!0;this.subPage&&(a=this.subPage,i=!1,this.$el.find(".tabs a").removeClass("active"),this.$el.find('.tabs a[data-tab="'+a+'"]').addClass("active")),file=e.utils.capitalize(a),e.utils.loadView.get("account/"+file).then(function(n){var s=new n({parentModel:t.model});e.views.accountView.currentTab=s,t.$el.find(".account-view.scroll-y").html(s.$el),s.delegateEvents(),e.router.navigate("account/"+a,{trigger:!1,replace:i}),e.router.trigger("route")}).fail(function(t){e.router.navigate("404",{trigger:!0,replace:!0})})},toggleTab:function(e){var t=$(e.currentTarget).attr("data-tab");this.subPage=t,this.loadView()}})});
//# sourceMappingURL=AccountView.js.map
