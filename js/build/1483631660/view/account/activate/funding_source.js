define(["app","text!templates/account/activate/funding_source.html"],function(e,n){return Backbone.View.extend({className:"fundingsource loading",template:_.template(n),events:{"click .action-select":"selectChoice","click .action-next":"next"},initialize:function(n){var t=this;n&&_.extend(this,n),e.session.getFundingSources().then(function(e){t.funding_sources=e,t.render()}).fail(function(e){console.warn(e),t.render()}).always(function(){t.$el.removeClass("loading")})},render:function(){console.log(this.collection);var e=this.funding_sources.filter(function(e){return"Balance"!==e.name});return this.$el.html(this.template({funding_sources:e})),this},selectChoice:function(e){this.$el.find(".action-select").removeClass("active"),$(e.currentTarget).addClass("active")},next:function(){if(1!==this.$el.find(".choices .active").length)return void e.alerts.error("Please select a bank account");var n=this,t={funding_source:this.$el.find(".choices .active").attr("data-id")};e.session.setFundingSource(t).then(function(){n.parentView.next()}).fail(function(e){console.warn(e)})}})});
//# sourceMappingURL=funding_source.js.map
