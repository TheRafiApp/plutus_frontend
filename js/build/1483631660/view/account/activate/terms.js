define(["app","view/modals/ModalTermsView","text!templates/account/activate/terms.html"],function(e,t,n){return Backbone.View.extend({className:"terms",template:_.template(n),events:{"click .action-terms":"termsModal","click .action-next":"nextStep"},initialize:function(e){e&&_.extend(this,e),this.render()},render:function(){var t=this.parentView.user;return this.$el.html(this.template({logo:e.templates.logo(),name:t.get("first_name"),terms_accepted:t.get("terms_accepted")})),this},nextStep:function(){var t=this,n=this.$el.find("#agree"),i=n.is(":checked");if(!i)return void e.controls.fieldError({element:n,error:"Please agree to the terms of use"});var r=e.session.get("logged_in")?"terms":"activate/terms";e.utils.request({path:"users/"+r,method:"POST"}).then(function(){t.parentView.next()})},termsModal:function(){this.modal=new t({action:"agree",eventName:"termsAgreed",context:this})}})});
//# sourceMappingURL=terms.js.map
