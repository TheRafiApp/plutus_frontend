{"version":3,"sources":["view/DisbursalsView.js"],"names":["define","app","DisbursalsCollection","TableView","TableRowView","TableRowTemplate","Backbone","View","extend","className","template","_","tips","header","body","initialize","this","render","attachEvents","listening","tableView","close","$el","addClass","context","title","modelName","modelPlural","collection","row","options","search","edit","html"],"mappings":"AAIAA,QACE,MACA,6CAEA,wBACA,iCACA,+CAEF,SACEC,EACAC,EAEAC,EACAC,EACAC,GAEA,MAAOC,UAASC,KAAKC,QAEnBC,UAAW,kBACXC,SAAUC,EAAED,SAASL,GAErBO,OAEIC,OAAU,uBACVC,KAAQ,+LAKZC,WAAY,WACVC,KAAKC,UAGPC,aAAc,WACZF,KAAKG,WAAY,GAGnBF,OAAQ,WA4BN,MA3BKD,MAAKG,WAAWH,KAAKE,eACtBF,KAAKI,WAAaJ,KAAKI,UAAUR,MAAMI,KAAKI,UAAUR,KAAKS,QAE1DL,KAAKJ,MAAMI,KAAKM,IAAIC,SAAS,WAElCP,KAAKI,UAAY,GAAIjB,IACnBqB,QAASR,KAETS,MAAO,aACPC,UAAW,WACXC,YAAa,aACbC,WAAY1B,EACZ2B,IAAKzB,EAEL0B,SACEC,QAAQ,EACRC,MAAM,KASVhB,KAAKM,IAAIW,KAAKjB,KAAKI,UAAUE,KAEtBN","file":"DisbursalsView.js","sourcesContent":["/**\n * DisbursalsView.js\n */\n\ndefine([\n  'app',\n  'collection/properties/DisbursalsCollection',\n  // 'view/modals/ModalDisbursalView',\n  'view/tables/TableView',\n  'view/tables/TableDisbursalView',\n  'text!templates/tables/table-disbursals.html'\n],\nfunction(\n  app, \n  DisbursalsCollection, \n  // ModalAddView, \n  TableView, \n  TableRowView, \n  TableRowTemplate) {\n\n  return Backbone.View.extend({\n\n    className: 'collection-view',\n    template: _.template(TableRowTemplate),\n\n    tips: [\n      { \n        'header': 'Recording Disbursals',\n        'body': 'Keeping track of income you\\'ve dispersed to your landlords is important. Each time you record a disbursal, the property balance will be updated, so you won\\'t forget how much you pay out!',\n        // 'link': 'http://google.com'\n      }\n    ],\n\n    initialize: function() {\n      this.render();\n    },\n\n    attachEvents: function() {\n      this.listening = true;\n    },\n\n    render: function() {\n      if (!this.listening) this.attachEvents();\n      if (this.tableView && this.tableView.tips) this.tableView.tips.close();\n\n      if (!this.tips) this.$el.addClass('no-tips');\n\n      this.tableView = new TableView({\n        context: this,\n\n        title: 'Disbursals',\n        modelName: 'property',\n        modelPlural: 'properties',\n        collection: DisbursalsCollection,\n        row: TableRowView,\n        \n        options: {\n          search: true,\n          edit: true,\n          // add: ModalAddView,\n          // addModalOptions: {\n          //   action: 'add',\n          //   eventName: 'modelAdded',\n          // }\n        }\n      });\n      \n      this.$el.html(this.tableView.$el);\n\n      return this;\n    }\n\n  });\n});"]}