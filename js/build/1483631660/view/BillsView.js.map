{"version":3,"sources":["view/BillsView.js"],"names":["define","app","BillsCollection","ModalBillView","TableView","TableRowView","TableRowTemplate","Backbone","View","extend","className","template","_","tips","header","body","link","initialize","this","render","attachEvents","listening","tableView","close","$el","addClass","context","modelName","collection","row","options","search","edit","add","addModalOptions","action","eventName","html"],"mappings":"AAIAA,QACE,MACA,mCAEA,4BACA,wBACA,4BACA,0CAEF,SACEC,EACAC,EAEAC,EACAC,EACAC,EACAC,GAGA,MAAOC,UAASC,KAAKC,QAEnBC,UAAW,kBACXC,SAAUC,EAAED,SAASL,GAErBO,OAEIC,OAAU,eACVC,KAAQ,iLACRC,KAAQ,sBAGRF,OAAU,gBACVC,KAAQ,2JACRC,KAAQ,sBAGRF,OAAU,iBACVC,KAAQ,8KACRC,KAAQ,sBAIZC,WAAY,WACVC,KAAKC,UAWPC,aAAc,WACZF,KAAKG,WAAY,GAGnBF,OAAQ,WA4BN,MA3BKD,MAAKG,WAAWH,KAAKE,eACtBF,KAAKI,WAAaJ,KAAKI,UAAUT,MAAMK,KAAKI,UAAUT,KAAKU,QAE1DL,KAAKL,MAAMK,KAAKM,IAAIC,SAAS,WAElCP,KAAKI,UAAY,GAAIlB,IACnBsB,QAASR,KAETS,UAAW,OACXC,WAAY1B,EACZ2B,IAAKxB,EAELyB,SACEC,QAAQ,EACRC,MAAM,EAENC,IAAK9B,EACL+B,iBACEC,OAAQ,MACRC,UAAW,iBAMjBlB,KAAKM,IAAIa,KAAKnB,KAAKI,UAAUE,KAEtBN","file":"BillsView.js","sourcesContent":["/**\n * BillsView.js\n */\n\ndefine([\n  'app',\n  'collection/bills/BillsCollection',\n  // 'collection/users/TenantsCollection',\n  'view/modals/ModalBillView',\n  'view/tables/TableView',\n  'view/tables/TableBillView',\n  'text!templates/tables/table-bills.html'\n],\nfunction(\n  app, \n  BillsCollection, \n  // TenantsCollection,\n  ModalBillView, \n  TableView, \n  TableRowView, \n  TableRowTemplate\n) {\n\n  return Backbone.View.extend({\n\n    className: 'collection-view',\n    template: _.template(TableRowTemplate),\n\n    tips: [\n      { \n        'header': 'Winning wars',\n        'body': 'Proin quis hendrerit justo, a vehicula nulla. Proin vulputate facilisis turpis ut lobortis. Proin molestie mattis justo eget posuere. Duis sed odio feugiat, interdum diam sed',\n        'link': 'http://google.com'\n      },\n      { \n        'header': 'Getting ahead',\n        'body': 'Ut tincidunt metus vel libero cursus pellentesque. Sed tincidunt, turpis ac efficitur egestas, tellus nibh iaculis purus, in aliquam elit eros nec elit.',\n        'link': 'http://google.com'\n      },\n      { \n        'header': 'Slamm-a-jammin',\n        'body': 'Sed tempus, eros et tempus egestas, sem diam iaculis nisl, ac ultricies lacus nunc sit amet nisl. Suspendisse lectus nulla, rhoncus non mauris nec, varius consequat felis.',\n        'link': 'http://google.com'\n      }\n    ],\n\n    initialize: function() {\n      this.render();\n      // var self = this;\n\n      // this.tenants = new TenantsCollection();\n      // this.tenants.fetch().then(function() {\n      //   self.render();\n      // }, function() {\n      //   app.alerts.error('Something went wrong');\n      // });\n    },\n\n    attachEvents: function() {\n      this.listening = true;\n    },\n\n    render: function() {\n      if (!this.listening) this.attachEvents();\n      if (this.tableView && this.tableView.tips) this.tableView.tips.close();\n\n      if (!this.tips) this.$el.addClass('no-tips');\n\n      this.tableView = new TableView({\n        context: this,\n\n        modelName: 'Bill',\n        collection: BillsCollection,\n        row: TableRowView,\n        \n        options: {\n          search: true,\n          edit: true,\n\n          add: ModalBillView,\n          addModalOptions: {\n            action: 'add',\n            eventName: 'modelAdded',\n            // tenants: this.tenants\n          }\n        }\n      });\n      \n      this.$el.html(this.tableView.$el);\n\n      return this;\n    }\n\n  });\n});"]}