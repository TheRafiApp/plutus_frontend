define(["app","text!templates/repeaters/charge-input.html","text!templates/repeaters/date-input.html"],function(e,t,i){return Backbone.View.extend({tagName:"li",events:{"click .action-delete":"closeView","change .charge":"validateCharge"},template:_.template(t),initialize:function(e){this.options={type:!0,description:!0},_.extend(this,e),this.render()},render:function(){var t=this;if(this.$el.html(this.template({amount:this.amount,id:this.id,type:this.type,name:this.name,options:this.options})),e.controls.maskMoney(".charge",this),e.controls.smartTextarea(this),"scheduled"==this.type){var n=_.template(i);this.$el.prepend(n({name:this.name,id:this.id}));var a=this.$el.find(".date"),s=this.date?moment(this.date):moment();this.date=new Kalendae.Input(a[0],{months:1,direction:"today-future",selected:s}),this.date.subscribe("show",function(){t.context.trigger("calendar-open")})}return this},validateCharge:function(t){var i=$(t.currentTarget).val(),n=e.utils.validateMoney(i);n&&e.controls.fieldError({element:$(t.currentTarget),type:"error",error:n})},closeView:function(){this.indexKey||(this.indexKey="chargeCounter"),this.context[this.indexKey]!==this.min&&(this.context[this.indexKey]--,this.close())}})});
//# sourceMappingURL=charge.js.map
