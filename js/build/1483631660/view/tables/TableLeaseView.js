define(["app","text!templates/tables/table-row-lease.html"],function(e,t){return Backbone.View.extend(_.extend({},Backbone.Events,{className:"row",events:{click:"viewModel","click .action-remove":"dialogueConfirm"},template:_.template(t),initialize:function(e){e&&_.extend(this,e),this.on("confirmDelete",this.deleteModel,this),this.model.on("change",this.render,this),this.render()},render:function(){var e=this.model.toJSON();return this.$el.attr("data-id",this.model.get("_id")),this.$el.html(this.template({lease:e})),this},viewModel:function(t){if(!$(".leases-table").hasClass("editing")){$(".leases-table .row").removeClass("selected"),this.$el.addClass("selected");var i=e.router.getRoute(),s=this.model.id;e.router.navigate(i+"/"+s,{trigger:!0})}},deleteModel:function(){var e=this.$el;this.parentView.trigger("modelDeleted"),this.parentView.queue.push(this.model),e.addClass("removing-1"),setTimeout(function(){e.addClass("removing-2"),setTimeout(function(){e.remove()},800)},100)},dialogueConfirm:function(t){var i=this.model.attributes,s=i.unit.property.address+" #"+i.unit.number,o="Are you sure you want to delete "+s+"?";e.controls.modalConfirm(o,"confirmDelete",this)}}))});
//# sourceMappingURL=TableLeaseView.js.map
