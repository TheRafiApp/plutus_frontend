{"version":3,"sources":["view/tables/TableDisbursalView.js"],"names":["define","app","ModalDisbursalView","TableRowTemplate","Backbone","View","extend","_","Events","className","events","click .action-remove","click .action-add","template","initialize","_options","this","on","deleteModel","parentView","model","render","data","toJSON","$el","attr","get","html","property","addDisbursal","modal","selected","id","context","eventName"],"mappings":"AAIAA,QACE,MACA,iCACA,kDAEF,SAASC,EAAKC,EAAoBC,GAEhC,MAAOC,UAASC,KAAKC,OAAOC,EAAED,UAAWF,SAASI,QAEhDC,UAAW,MAEXC,QAEEC,uBAAwB,kBACxBC,oBAAqB,gBAGvBC,SAAUN,EAAEM,SAASV,GAErBW,WAAY,SAASC,GACfA,GAAUR,EAAED,OAAOU,KAAMD,GAE7BC,KAAKC,GAAG,gBAAiBD,KAAKE,YAAaF,MAC3CA,KAAKC,GAAG,MAAOD,KAAKG,WAAWL,WAAYE,KAAKG,YAChDH,KAAKI,MAAMH,GAAG,SAAUD,KAAKK,OAAQL,MACrCA,KAAKK,UAGPA,OAAQ,WACN,GAAIC,GAAON,KAAKI,MAAMG,QAItB,OAHAP,MAAKQ,IAAIC,KAAK,UAAWT,KAAKI,MAAMM,IAAI,QAExCV,KAAKQ,IAAIG,KAAKX,KAAKH,UAAWe,SAAUN,KACjCN,MAGTa,aAAc,WACZb,KAAKc,MAAQ,GAAI5B,IACf6B,SAAUf,KAAKI,MAAMY,GACrBC,QAASjB,KACTkB,UAAW","file":"TableDisbursalView.js","sourcesContent":["/**\n * TableDisbursalView.js\n */\n\ndefine([\n  'app',\n  'view/modals/ModalDisbursalView',\n  'text!templates/tables/table-row-disbursal.html',\n],\nfunction(app, ModalDisbursalView, TableRowTemplate) {\n\n  return Backbone.View.extend(_.extend({}, Backbone.Events, {\n\n    className: 'row',\n\n    events: {\n      // 'click': 'viewPropertyUnits',\n      'click .action-remove': 'dialogueConfirm',\n      'click .action-add': 'addDisbursal'\n    },\n\n    template: _.template(TableRowTemplate),\n\n    initialize: function(_options) {\n      if (_options) _.extend(this, _options);\n\n      this.on('confirmDelete', this.deleteModel, this);\n      this.on('add', this.parentView.initialize, this.parentView);\n      this.model.on('change', this.render, this);\n      this.render();\n    },\n\n    render: function() {\n      var data = this.model.toJSON();\n      this.$el.attr('data-id', this.model.get('_id'));\n\n      this.$el.html(this.template({ property: data }));\n      return this;\n    },\n\n    addDisbursal: function() {\n      this.modal = new ModalDisbursalView({\n        selected: this.model.id,\n        context: this,\n        eventName: 'add'\n      });\n    }\n\n    // dialogueConfirm: function() {\n    //   var target = this.model.get('address');\n    //   var message = 'Are you sure you want to delete ' + target + '?';\n\n    //   app.controls.modalConfirm(message, 'confirmDelete', this);\n    // }\n  }));\n});"]}