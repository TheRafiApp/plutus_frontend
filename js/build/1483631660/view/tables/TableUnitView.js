define(["app","view/UnitView","text!templates/tables/table-row-unit.html"],function(e,t,i){return Backbone.View.extend(_.extend({},Backbone.Events,{className:"row",events:{click:"viewUnit","click .action-remove":"dialogueConfirm"},template:_.template(i),initialize:function(e){e&&_.extend(this,e),this.model.parentModelId=this.parentModel.get("_id"),this.on("confirmDelete",this.deleteModel,this),this.model.on("change",this.render,this),this.render()},render:function(){var e=this.model.toJSON();return console.log(e),this.$el.attr("data-id",this.model.get("_id")),this.$el.html(this.template({unit:e})),this},viewUnit:function(){if(!this.$el.hasClass("selected")&&!this.$el.parent().parent().hasClass("editing")){$(".tertiary .row.selected").removeClass("selected");var t=this.model.get("_id"),i=e.router.getPath().split("/"),n="units"==i.slice(-1);n||i.pop(),e.router.navigate(i.join("/")+"/"+t,{trigger:!0})}},deleteModel:function(){var e=this.$el;this.parentView.trigger("modelDeleted"),this.parentView.queue.push(this.model),e.addClass("removing-1"),setTimeout(function(){e.addClass("removing-2"),setTimeout(function(){e.remove()},800)},100)},dialogueConfirm:function(t){var t=this.model.get("number"),i="Are you sure you want to delete "+t+"?";e.controls.modalConfirm(i,"confirmDelete",this)}}))});
//# sourceMappingURL=TableUnitView.js.map
