{"version":3,"sources":["model/companies/DwollaBusinessModel.js"],"names":["define","app","DwollaAccountModel","extend","url","logged_in","session","get","path","API","initialize","attributes","options","this","validation","_","additionalValidation","businessName","required","businessType","ein","length","msg"],"mappings":"AAIAA,QACC,MACC,oCAEF,SAASC,EAAKC,GAEb,MAAOA,GAAmBC,QAEvBC,IAAK,WACH,GAAIC,GAAYJ,EAAIK,QAAQC,IAAI,aAC5BC,EAAOH,EAAY,iBAAmB,wBAC1C,OAAOJ,GAAIQ,MAAQD,GAGrBE,WAAY,SAASC,EAAYC,GAG/BC,KAAKC,WAAaC,EAAEZ,UAAWU,KAAKC,WAAYD,KAAKG,uBAGvDA,sBACEC,cACEC,UAAU,GAEZC,cACED,UAAU,GAEZE,KACEF,UAAU,EACVG,OAAQ,GACRC,IAAK","file":"DwollaBusinessModel.js","sourcesContent":["/**\n * DwollaBusinessModel.js\n */\n\ndefine([\n\t'app',\n  'model/account/DwollaAccountModel'\n],\nfunction(app, DwollaAccountModel) {\n\n\treturn DwollaAccountModel.extend({\n\n    url: function() {\n      var logged_in = app.session.get('logged_in');\n      var path = logged_in ? 'company/dwolla' : 'admins/activate/dwolla';\n      return app.API() + path;\n    },\n\n    initialize: function(attributes, options) {\n      // this has to be a deep copy, otherwise if both DwollaAccountModel and\n      // DwollaBusinessModel are loaded, they will be referencing each other\n      this.validation = _.extend({}, this.validation, this.additionalValidation);\n    },\n\n    additionalValidation: {\n      businessName: {\n        required: true\n      },\n      businessType: {\n        required: true\n      },\n      ein: {\n        required: true,\n        length: 10,\n        msg: 'EIN must be 9 digits'\n      }\n    }\n\t});\n});"]}