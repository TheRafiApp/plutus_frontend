{"version":3,"sources":["model/users/SuperAdminModel.js"],"names":["define","app","UserModel","AdminModel","extend","name","initialize","attributes","options","this","_","role","on","updatePhone","validation","additionalValidation","urlRoot","action","API","password","input","field","isNew","Backbone","Validation","patterns","test","messages"],"mappings":"AAIAA,QACE,MACA,yBAEF,SAASC,EAAKC,GAEZ,GAAIC,GAAaD,EAAUE,QAEzBC,KAAM,aAENC,WAAY,SAASC,EAAYC,GAC1BA,IAASA,MACTC,KAAKD,UAASC,KAAKD,YAExBC,KAAKD,QAAUE,EAAEN,OAAOK,KAAKD,QAASA,GACjCC,KAAKD,QAAQG,OAAMF,KAAKD,QAAQG,KAAO,SAG5CF,KAAKG,GAAG,sBAAuBH,KAAKI,YAAaJ,MAEjDC,EAAEN,OAAOK,KAAKK,WAAYL,KAAKM,uBAGjCC,QAAS,WACV,GAAIC,GAAS,EAEV,OADCR,MAAKD,QAAQS,SAAQA,EAASR,KAAKD,QAAQS,QACrChB,EAAIiB,MAAQ,eAAiBD,GAGtCF,sBACEI,SAAU,SAASC,EAAOC,EAAOd,GAC/B,OAAKa,GAASX,KAAKa,QACV,uBAGJC,SAASC,WAAWC,SAASN,SAASO,KAAKN,GAAhD,OACSG,SAASC,WAAWG,SAASR,YAM5C,OAAOhB","file":"SuperAdminModel.js","sourcesContent":["/**\n * SuperAdminModel.js\n */\n\ndefine([\n  'app',\n  'model/users/UserModel'\n],\nfunction(app, UserModel) {\n\n  var AdminModel = UserModel.extend({\n\n    name: 'superadmin',\n\n    initialize: function(attributes, options) {\n      if (!options) options = {};\n      if (!this.options) this.options = {};\n\n      this.options = _.extend(this.options, options);\n      if (!this.options.role) this.options.role = 'users';\n\n      // event listeners for computed fields\n      this.on('change:phone_pretty', this.updatePhone, this);\n\n      _.extend(this.validation, this.additionalValidation);\n    },\n\n    urlRoot: function() {\n\t\t\tvar action = '';\n\t\t\tif (this.options.action) action = this.options.action;\n      return app.API() + 'superadmins/' + action;\n    },\n\n    additionalValidation: {\n      password: function(input, field, attributes) {\n        if (!input && this.isNew()) {\n          return 'Password is required';\n        }\n\n        if (!Backbone.Validation.patterns.password.test(input))\n          return Backbone.Validation.messages.password;\n      }\n    }\n\n  });\n\n  return AdminModel; \n\n});"]}