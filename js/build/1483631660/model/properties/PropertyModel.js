define(["app"],function(t){var e=t.Model.extend({name:"property",displayName:"full_address",urlRoot:function(){return t.API()+"properties/"},filters:["full_address","vacancies","pay_into_target"],full_address:Backbone.computed("address","city","state","zip","country",function(){if(this.isNew())return"";var t=this.get("address")+", ";return t+=this.get("city")+", ",t+=this.get("state")+" ",t+=this.get("zip")+", ",t+=this.get("country"),_.escape(t)}),vacancies:Backbone.computed("units",function(){if(this.isNew())return"";var t=0,e=0,r=this.get("units");return r?(r.forEach(function(r){var n=0;r.leases&&(r.leases.forEach(function(t){var e=moment(t.start_date),r=moment(t.end_date),i=moment();e<i<r&&n++}),0===n&&(t++,e+=parseInt(r.rent)))}),{vacant_units:t,vacancy_losses:e}):""}),number_of_units:Backbone.computed("units",function(){if(this.isNew())return"";var t=this.get("units");return t?t.length:""}),validation:{address:{required:!0},city:{required:!0},state:{required:!0},zip:{required:!0,pattern:"zip"}}});return e});
//# sourceMappingURL=PropertyModel.js.map
