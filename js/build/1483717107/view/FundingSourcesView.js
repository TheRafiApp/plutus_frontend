define(["app","view/FundingSourceView","collection/account/FundingSourcesCollection","text!templates/funding_sources/funding_sources.html"],function(e,n,i,t){return Backbone.View.extend({className:"form-model container loading",template:_.template(t),initialize:function(n){_.extend(this,n);var t=this;this.collection=new i,this.collection.bind("change",this.initialize,this),this.collection.fetch().then(function(){t.render()}).fail(function(n){e.controls.handleError(n),t.render()})},render:function(){var i=this;this.collection.sortByField("name"),this.$el.html(this.template());var t=e.session.user.get("dwolla_account.primary_funding_source");return this.collection.each(function(e){if("balance"!=e.get("type")){var o=!1;e.id==t&&(o=!0);var l=new n({model:e,parentView:i,primary:o});i.$el.find(".funding-sources").append(l.$el)}}),this.$el.removeClass("loading"),this.$el}})});
//# sourceMappingURL=FundingSourcesView.js.map
