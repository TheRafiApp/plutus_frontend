{"version":3,"sources":["view/DashboardView.js"],"names":["define","app","Backbone","View","extend","viewName","role","session","get","this","viewMap","superadmin","admin","manager","landlord","tenant","initialize","options","_","render","renderDashboard","self","utils","loadView","then","DashboardView","childView","subPage","$el","html"],"mappings":"AAIAA,QACE,OAGF,SAASC,GAEP,MAAOC,UAASC,KAAKC,QAInBC,SAAU,WACR,GAAIC,GAAOL,EAAIM,QAAQC,IAAI,YAE3B,OAAOC,MAAKC,QAAQJ,IAGtBI,SACEC,WAAc,aACdC,MAAS,QACTC,QAAW,UACXC,SAAY,UACZC,OAAU,UAYZC,WAAY,SAASC,GACfA,GAASC,EAAEd,OAAOK,KAAMQ,GAC5BR,KAAKU,UAGPA,OAAQ,WAOeV,KAAKW,iBAE1B,OAAOX,OAGTW,gBAAiB,WACf,GAAIC,GAAOZ,KACPJ,EAAWI,KAAKJ,UAEpBJ,GAAIqB,MAAMC,SAASf,IAAI,aAAeH,GAAUmB,KAAK,SAASC,GAC5DJ,EAAKK,UAAY,GAAID,IAAgBE,QAASN,EAAKM,UACnDN,EAAKO,IAAIC,KAAKR,EAAKK,UAAUE","file":"DashboardView.js","sourcesContent":["/**\n * DashboardView.js\n */\n\ndefine([\n  'app',\n  // 'text!templates/account/dashboard.html'\n],\nfunction(app) {\n\n  return Backbone.View.extend({\n\n    // className: 'panel',\n\n    viewName: function() {\n      var role = app.session.get('user_role');\n      \n      return this.viewMap[role];\n    },\n\n    viewMap: {\n      'superadmin': 'superadmin',\n      'admin': 'admin',\n      'manager': 'default',\n      'landlord': 'default',\n      'tenant': 'tenant'\n    },\n\n    // tasks: {\n    //   email: 'We need your email address to send you important notifications, and to help you recover your password if you lose it.',\n    //   phone: 'Add a phone to your account to keep your account safe, and to receive important text notifications. We won\\'t share your contact information with anyone else!',\n    //   dwolla: {\n    //     manager: 'Creating or linking an existing Dwolla account is fast and easy, and will allow you to collect rent payments from tenants. Please take a moment to link this account!',\n    //     tenant: 'Creating or linking an existing Dwolla account is fast and easy, and will allow you to pay your rent with your phone or computer. Please take a moment to link this account!'\n    //   }\n    // },\n\n    initialize: function(options) {\n      if (options) _.extend(this, options);\n      this.render();\n    },\n\n    render: function() {\n      // this.template = _.template(DashTemplate);\n      \n      // this.$el.html(this.template({ \n      //   account: app.session.user.toJSON(),\n      //   tasks: this.tasks\n      // }));\n      var dashboard_view = this.renderDashboard();\n      \n      return this;\n    },\n\n    renderDashboard: function() {\n      var self = this;\n      var viewName = this.viewName();\n\n      app.utils.loadView.get('dashboard/' + viewName).then(function(DashboardView) {\n        self.childView = new DashboardView({ subPage: self.subPage });\n        self.$el.html(self.childView.$el);\n      });\n    }\n    \n  });\n});"]}