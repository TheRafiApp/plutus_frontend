{"version":3,"sources":["view/events/EventsView.js"],"names":["define","app","EventsCollection","EventView","EventsTemplate","Backbone","View","extend","_","Events","className","events","template","initialize","options","this","self","child_views","collection","fetch","then","render","length","$el","html","each","model","event_view","find","append","push"],"mappings":"AAIAA,QACE,MACA,wCACA,wBACA,qCAEF,SAASC,EAAKC,EAAkBC,EAAWC,GAEzC,MAAOC,UAASC,KAAKC,OAAOC,EAAED,UAAWF,SAASI,QAEhDC,UAAW,mBAEXC,UAGAC,SAAUJ,EAAEI,SAASR,GAErBS,WAAY,SAASC,GACfA,GAASN,EAAED,OAAOQ,KAAMD,EAE5B,IAAIE,GAAOD,IAEXA,MAAKE,eAELF,KAAKG,WAAa,GAAIhB,GACtBa,KAAKG,WAAWC,QAAQC,KAAK,WAC5BJ,EAAKK,YAIRA,OAAQ,WACP,GAAIL,GAAOD,IAYV,OAVIA,MAAKG,WAAWI,OAAS,GAAGP,KAAKQ,IAAIC,KAAKT,KAAKH,YAEnDG,KAAKG,WAAWO,KAAK,SAASC,GAC7B,GAAIC,GAAa,GAAIxB,IACpBuB,MAAOA,GAERV,GAAKO,IAAIK,KAAK,WAAWC,OAAOF,EAAWJ,KAC3CP,EAAKC,YAAYa,KAAKH,KAGhBZ","file":"EventsView.js","sourcesContent":[" /**\n *  EventsView.js\n */\n\ndefine([\n  'app',\n  'collection/companies/EventsCollection',\n  'view/events/EventView',\n  'text!templates/events/events.html'\n],\nfunction(app, EventsCollection, EventView, EventsTemplate) {\n\n  return Backbone.View.extend(_.extend({}, Backbone.Events, {\n\n    className: 'events-container',\n\n    events: {\n    },\n\n    template: _.template(EventsTemplate),\n\n    initialize: function(options) {\n      if (options) _.extend(this, options);\n\n      var self = this;\n\n      this.child_views = [];\n\n      this.collection = new EventsCollection();\n      this.collection.fetch().then(function() {\n      \tself.render();\n      });\n    },\n\n    render: function() {\n    \tvar self = this;\n\n      if (this.collection.length > 0) this.$el.html(this.template());\n\n      this.collection.each(function(model) {\n      \tvar event_view = new EventView({\n      \t\tmodel: model\n      \t});\n      \tself.$el.find('.events').append(event_view.$el);\n      \tself.child_views.push(event_view);\n      });\n      \n      return this;\n    }\n\n  }));\n});"]}