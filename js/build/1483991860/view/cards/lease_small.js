define(["app","model/leases/LeaseModel","text!templates/cards/lease_small.html"],function(e,t,i){return Backbone.View.extend({events:{click:"viewLease"},template:_.template(i),initialize:function(e){_.extend(this,e),this.model=new t(this.data),this.render()},render:function(){this.on("confirmDelete",this.deleteModel,this);var t="past",i=this.model.get("start_moment"),n=this.model.get("end_moment"),s=moment.utc();return i<s&&s<n?t="active":i>s&&(t="future"),this.$el.html(this.template({lease:this.model.toJSON(),state:t,tenants:this.tenants,prettyMoney:e.utils.prettyMoney})),this},viewLease:function(t){var i=this.model.get("_id"),n=e.router.getPath();e.router.navigate(n+"/"+i,{trigger:!0})}})});
//# sourceMappingURL=lease_small.js.map
