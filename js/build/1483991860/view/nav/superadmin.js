define(["app","view/modals/ModalCompanyView","view/modals/ModalPropertyView","view/modals/ModalInviteView","text!templates/nav/superadmin.html"],function(e,t,d,n,a){return Backbone.View.extend({template:_.template(a),events:{"mousedown .action-add-company":"addCompany","mousedown .action-add-admin":"addAdmin","mousedown .action-add-manager":"addManager","mousedown .action-add-tenant":"addTenant","mousedown .action-add-landlord":"addLandlord","mousedown .action-add-property":"addProperty","click .action-logout":"logout","click .action-toggle-sub":"toggleSub","click .action-quick-add":"toggleQuickAdd","blur .action-toggle-sub":"toggleSub","blur .action-quick-add":"toggleQuickAdd","mousedown .switches .tooltip a":"quickLink"},initialize:function(){return e.router.on("route",function(e,t){this.update()},this),this.on({companyAdded:this.companyAdded,superAdminAdded:this.superAdminAdded,adminAdded:this.adminAdded,managerAdded:this.managerAdded,tenantAdded:this.tenantAdded,landlordAdded:this.landlordAdded,propertyAdded:this.propertyAdded}),this.update(),this.render(),this},update:function(){var t=e.router.getRoute().split("?")[0];this.$el.find("ul li a").removeClass("active"),this.$el.find('a[href="/'+t+'"]').addClass("active")},render:function(){return this.$el.html(this.template({logo:e.templates.logo()})),this},logout:function(){e.controls.logout()},toggleQuickAdd:function(){var e=this.$el.find(".footer-actions .tooltip"),t=this.$el.find(".action-quick-add");e.hasClass("open")?e.removeClass("open"):(e.addClass("open"),t.focus())},toggleSub:function(e){var t=$(e.currentTarget),d=t.next(".tooltip");d.hasClass("open")?d.removeClass("open"):"click"==e.type&&(d.addClass("open"),t.focus())},quickLink:function(t){t.preventDefault();var d=$(t.currentTarget),n=d.attr("href");"#"!==n&&e.router.navigate(n,{trigger:!0,replace:!1})},addCompany:function(){return!!e.session.isSuperAdmin()&&void(this.modal=new t({action:"add",context:this,eventName:"companyAdded"}))},addAdmin:function(){return!!e.session.isSuperAdmin()&&void(this.modal=new n({action:"invite",role:"admin",eventName:"adminAdded",context:this}))},addManager:function(){this.modal=new n({action:"invite",role:"manager",eventName:"managerAdded",context:this})},addTenant:function(){this.modal=new n({action:"invite",role:"tenant",eventName:"tenantAdded",context:this})},addLandlord:function(){this.modal=new n({action:"invite",role:"landlord",eventName:"landlordAdded",context:this})},addProperty:function(){this.modal=new d({action:"add",eventName:"propertyAdded",context:this})},addTransfer:function(){var e=this.TransferModal;this.modal=new e({action:"add",type:"electronic",eventName:"transferAdded",context:this})},companyAdded:function(){e.router.navigate("/companies",{trigger:!0})},superAdminAdded:function(){e.router.navigate("/superadmins",{trigger:!0})},adminAdded:function(){e.router.navigate("/admins",{trigger:!0})},managerAdded:function(){e.router.navigate("/managers",{trigger:!0})},tenantAdded:function(){e.router.navigate("/tenants",{trigger:!0})},landlordAdded:function(){e.router.navigate("/landlords",{trigger:!0})},propertyAdded:function(){e.router.navigate("/properties",{trigger:!0})}})});
//# sourceMappingURL=superadmin.js.map
